/*! For license information please see app.js.LICENSE.txt */
(()=>{var e,t,n={748:(e,t,n)=>{var i,s=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",i={};function s(e,t){if(!i[e]){i[e]={};for(var n=0;n<e.length;n++)i[e][e.charAt(n)]=n}return i[e][t]}var o={compressToBase64:function(e){if(null==e)return"";var n=o._compress(e,6,(function(e){return t.charAt(e)}));switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:o._decompress(e.length,32,(function(n){return s(t,e.charAt(n))}))},compressToUTF16:function(t){return null==t?"":o._compress(t,15,(function(t){return e(t+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:o._decompress(e.length,16384,(function(t){return e.charCodeAt(t)-32}))},compressToUint8Array:function(e){for(var t=o.compress(e),n=new Uint8Array(2*t.length),i=0,s=t.length;i<s;i++){var r=t.charCodeAt(i);n[2*i]=r>>>8,n[2*i+1]=r%256}return n},decompressFromUint8Array:function(t){if(null==t)return o.decompress(t);for(var n=new Array(t.length/2),i=0,s=n.length;i<s;i++)n[i]=256*t[2*i]+t[2*i+1];var r=[];return n.forEach((function(t){r.push(e(t))})),o.decompress(r.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":o._compress(e,6,(function(e){return n.charAt(e)}))},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),o._decompress(e.length,32,(function(t){return s(n,e.charAt(t))})))},compress:function(t){return o._compress(t,16,(function(t){return e(t)}))},_compress:function(e,t,n){if(null==e)return"";var i,s,o,r={},a={},l="",u="",c="",d=2,h=3,p=2,f=[],m=0,v=0;for(o=0;o<e.length;o+=1)if(l=e.charAt(o),Object.prototype.hasOwnProperty.call(r,l)||(r[l]=h++,a[l]=!0),u=c+l,Object.prototype.hasOwnProperty.call(r,u))c=u;else{if(Object.prototype.hasOwnProperty.call(a,c)){if(c.charCodeAt(0)<256){for(i=0;i<p;i++)m<<=1,v==t-1?(v=0,f.push(n(m)),m=0):v++;for(s=c.charCodeAt(0),i=0;i<8;i++)m=m<<1|1&s,v==t-1?(v=0,f.push(n(m)),m=0):v++,s>>=1}else{for(s=1,i=0;i<p;i++)m=m<<1|s,v==t-1?(v=0,f.push(n(m)),m=0):v++,s=0;for(s=c.charCodeAt(0),i=0;i<16;i++)m=m<<1|1&s,v==t-1?(v=0,f.push(n(m)),m=0):v++,s>>=1}0==--d&&(d=Math.pow(2,p),p++),delete a[c]}else for(s=r[c],i=0;i<p;i++)m=m<<1|1&s,v==t-1?(v=0,f.push(n(m)),m=0):v++,s>>=1;0==--d&&(d=Math.pow(2,p),p++),r[u]=h++,c=String(l)}if(""!==c){if(Object.prototype.hasOwnProperty.call(a,c)){if(c.charCodeAt(0)<256){for(i=0;i<p;i++)m<<=1,v==t-1?(v=0,f.push(n(m)),m=0):v++;for(s=c.charCodeAt(0),i=0;i<8;i++)m=m<<1|1&s,v==t-1?(v=0,f.push(n(m)),m=0):v++,s>>=1}else{for(s=1,i=0;i<p;i++)m=m<<1|s,v==t-1?(v=0,f.push(n(m)),m=0):v++,s=0;for(s=c.charCodeAt(0),i=0;i<16;i++)m=m<<1|1&s,v==t-1?(v=0,f.push(n(m)),m=0):v++,s>>=1}0==--d&&(d=Math.pow(2,p),p++),delete a[c]}else for(s=r[c],i=0;i<p;i++)m=m<<1|1&s,v==t-1?(v=0,f.push(n(m)),m=0):v++,s>>=1;0==--d&&(d=Math.pow(2,p),p++)}for(s=2,i=0;i<p;i++)m=m<<1|1&s,v==t-1?(v=0,f.push(n(m)),m=0):v++,s>>=1;for(;;){if(m<<=1,v==t-1){f.push(n(m));break}v++}return f.join("")},decompress:function(e){return null==e?"":""==e?null:o._decompress(e.length,32768,(function(t){return e.charCodeAt(t)}))},_decompress:function(t,n,i){var s,o,r,a,l,u,c,d=[],h=4,p=4,f=3,m="",v=[],g={val:i(0),position:n,index:1};for(s=0;s<3;s+=1)d[s]=s;for(r=0,l=Math.pow(2,2),u=1;u!=l;)a=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=i(g.index++)),r|=(a>0?1:0)*u,u<<=1;switch(r){case 0:for(r=0,l=Math.pow(2,8),u=1;u!=l;)a=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=i(g.index++)),r|=(a>0?1:0)*u,u<<=1;c=e(r);break;case 1:for(r=0,l=Math.pow(2,16),u=1;u!=l;)a=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=i(g.index++)),r|=(a>0?1:0)*u,u<<=1;c=e(r);break;case 2:return""}for(d[3]=c,o=c,v.push(c);;){if(g.index>t)return"";for(r=0,l=Math.pow(2,f),u=1;u!=l;)a=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=i(g.index++)),r|=(a>0?1:0)*u,u<<=1;switch(c=r){case 0:for(r=0,l=Math.pow(2,8),u=1;u!=l;)a=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=i(g.index++)),r|=(a>0?1:0)*u,u<<=1;d[p++]=e(r),c=p-1,h--;break;case 1:for(r=0,l=Math.pow(2,16),u=1;u!=l;)a=g.val&g.position,g.position>>=1,0==g.position&&(g.position=n,g.val=i(g.index++)),r|=(a>0?1:0)*u,u<<=1;d[p++]=e(r),c=p-1,h--;break;case 2:return v.join("")}if(0==h&&(h=Math.pow(2,f),f++),d[c])m=d[c];else{if(c!==p)return null;m=o+o.charAt(0)}v.push(m),d[p++]=o+m.charAt(0),o=m,0==--h&&(h=Math.pow(2,f),f++)}}};return o}();void 0===(i=function(){return s}.call(t,n,t,e))||(e.exports=i)},443:function(e,t){var n,i=function e(t,n,i){null===t&&(t=Function.prototype);var s=Object.getOwnPropertyDescriptor(t,n);if(void 0===s){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in s)return s.value;var r=s.get;return void 0!==r?r.call(i):void 0},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}window.cash=function(){var e,t=document,n=window,i=Array.prototype,s=i.slice,o=i.filter,r=i.push,a=function(){},l=function(e){return"function"==typeof e&&e.call},u=function(e){return"string"==typeof e},c=/^#[\w-]*$/,d=/^\.[\w-]*$/,h=/<.+>/,p=/^\w+$/;function f(e,n){return n=n||t,d.test(e)?n.getElementsByClassName(e.slice(1)):p.test(e)?n.getElementsByTagName(e):n.querySelectorAll(e)}function m(n){if(!e){var i=(e=t.implementation.createHTMLDocument(null)).createElement("base");i.href=t.location.href,e.head.appendChild(i)}return e.body.innerHTML=n,e.body.childNodes}function v(e){"loading"!==t.readyState?e():t.addEventListener("DOMContentLoaded",e)}function g(e,i){if(!e)return this;if(e.cash&&e!==n)return e;var s,o=e,r=0;if(u(e))o=c.test(e)?t.getElementById(e.slice(1)):h.test(e)?m(e):f(e,i);else if(l(e))return v(e),this;if(!o)return this;if(o.nodeType||o===n)this[0]=o,this.length=1;else for(s=this.length=o.length;r<s;r++)this[r]=o[r];return this}function y(e,t){return new g(e,t)}var _=y.fn=y.prototype=g.prototype={cash:!0,length:0,push:r,splice:i.splice,map:i.map,init:g};function b(e,t){for(var n=e.length,i=0;i<n&&!1!==t.call(e[i],e[i],i,e);i++);}function w(e,t){var n=e&&(e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector);return!!n&&n.call(e,t)}function k(e){return u(e)?w:e.cash?function(t){return e.is(t)}:function(e,t){return e===t}}function C(e){return y(s.call(e).filter((function(e,t,n){return n.indexOf(e)===t})))}Object.defineProperty(_,"constructor",{value:y}),y.parseHTML=m,y.noop=a,y.isFunction=l,y.isString=u,y.extend=_.extend=function(e){e=e||{};var t=s.call(arguments),n=t.length,i=1;for(1===t.length&&(e=this,i=0);i<n;i++)if(t[i])for(var o in t[i])t[i].hasOwnProperty(o)&&(e[o]=t[i][o]);return e},y.extend({merge:function(e,t){for(var n=+t.length,i=e.length,s=0;s<n;i++,s++)e[i]=t[s];return e.length=i,e},each:b,matches:w,unique:C,isArray:Array.isArray,isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)}});var E=y.uid="_cash"+Date.now();function x(e){return e[E]=e[E]||{}}function S(e,t,n){return x(e)[t]=n}function M(e,t){var n=x(e);return void 0===n[t]&&(n[t]=e.dataset?e.dataset[t]:y(e).attr("data-"+t)),n[t]}_.extend({data:function(e,t){if(u(e))return void 0===t?M(this[0],e):this.each((function(n){return S(n,e,t)}));for(var n in e)this.data(n,e[n]);return this},removeData:function(e){return this.each((function(t){return function(e,t){var n=x(e);n?delete n[t]:e.dataset?delete e.dataset[t]:y(e).removeAttr("data-"+name)}(t,e)}))}});var O=/\S+/g;function T(e){return u(e)&&e.match(O)}function L(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}function D(e,t,n){e.classList?e.classList.add(t):n.indexOf(" "+t+" ")&&(e.className+=" "+t)}function $(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(t,"")}_.extend({addClass:function(e){var t=T(e);return t?this.each((function(e){var n=" "+e.className+" ";b(t,(function(t){D(e,t,n)}))})):this},attr:function(e,t){if(e){if(u(e))return void 0===t?this[0]?this[0].getAttribute?this[0].getAttribute(e):this[0][e]:void 0:this.each((function(n){n.setAttribute?n.setAttribute(e,t):n[e]=t}));for(var n in e)this.attr(n,e[n]);return this}},hasClass:function(e){var t=!1,n=T(e);return n&&n.length&&this.each((function(e){return!(t=L(e,n[0]))})),t},prop:function(e,t){if(u(e))return void 0===t?this[0][e]:this.each((function(n){n[e]=t}));for(var n in e)this.prop(n,e[n]);return this},removeAttr:function(e){return this.each((function(t){t.removeAttribute?t.removeAttribute(e):delete t[e]}))},removeClass:function(e){if(!arguments.length)return this.attr("class","");var t=T(e);return t?this.each((function(e){b(t,(function(t){$(e,t)}))})):this},removeProp:function(e){return this.each((function(t){delete t[e]}))},toggleClass:function(e,t){if(void 0!==t)return this[t?"addClass":"removeClass"](e);var n=T(e);return n?this.each((function(e){var t=" "+e.className+" ";b(n,(function(n){L(e,n)?$(e,n):D(e,n,t)}))})):this}}),_.extend({add:function(e,t){return C(y.merge(this,y(e,t)))},each:function(e){return b(this,e),this},eq:function(e){return y(this.get(e))},filter:function(e){if(!e)return this;var t=l(e)?e:k(e);return y(o.call(this,(function(n){return t(n,e)})))},first:function(){return this.eq(0)},get:function(e){return void 0===e?s.call(this):e<0?this[e+this.length]:this[e]},index:function(e){var t=e?y(e)[0]:this[0],n=e?this:y(t).parent().children();return s.call(n).indexOf(t)},last:function(){return this.eq(-1)}});var B,A,I,R,P=(I=/(?:^\w|[A-Z]|\b\w)/g,R=/[\s-_]+/g,function(e){return e.replace(I,(function(e,t){return e[0===t?"toLowerCase":"toUpperCase"]()})).replace(R,"")}),j=(B={},A=document.createElement("div").style,function(e){if(e=P(e),B[e])return B[e];var t=e.charAt(0).toUpperCase()+e.slice(1);return b((e+" "+["webkit","moz","ms","o"].join(t+" ")+t).split(" "),(function(t){if(t in A)return B[t]=e=B[e]=t,!1})),B[e]});function N(e,t){return parseInt(n.getComputedStyle(e[0],null)[t],10)||0}function H(e,t,n){var i,s=M(e,"_cashEvents"),o=s&&s[t];o&&(n?(e.removeEventListener(t,n),(i=o.indexOf(n))>=0&&o.splice(i,1)):(b(o,(function(n){e.removeEventListener(t,n)})),o=[]))}function F(e,t){return"&"+encodeURIComponent(e)+"="+encodeURIComponent(t).replace(/%20/g,"+")}function q(e){var t=e.type;if(!t)return null;switch(t.toLowerCase()){case"select-one":return function(e){var t=e.selectedIndex;return t>=0?e.options[t].value:null}(e);case"select-multiple":return function(e){var t=[];return b(e.options,(function(e){e.selected&&t.push(e.value)})),t.length?t:null}(e);case"radio":case"checkbox":return e.checked?e.value:null;default:return e.value?e.value:null}}function W(e,t,n){var i=u(t);i||!t.length?b(e,i?function(e){return e.insertAdjacentHTML(n?"afterbegin":"beforeend",t)}:function(e,i){return function(e,t,n){if(n){var i=e.childNodes[0];e.insertBefore(t,i)}else e.appendChild(t)}(e,0===i?t:t.cloneNode(!0),n)}):b(t,(function(t){return W(e,t,n)}))}y.prefixedProp=j,y.camelCase=P,_.extend({css:function(e,t){if(u(e))return e=j(e),arguments.length>1?this.each((function(n){return n.style[e]=t})):n.getComputedStyle(this[0])[e];for(var i in e)this.css(i,e[i]);return this}}),b(["Width","Height"],(function(e){var t=e.toLowerCase();_[t]=function(){return this[0].getBoundingClientRect()[t]},_["inner"+e]=function(){return this[0]["client"+e]},_["outer"+e]=function(t){return this[0]["offset"+e]+(t?N(this,"margin"+("Width"===e?"Left":"Top"))+N(this,"margin"+("Width"===e?"Right":"Bottom")):0)}})),_.extend({off:function(e,t){return this.each((function(n){return H(n,e,t)}))},on:function(e,t,n,i){var s;if(!u(e)){for(var o in e)this.on(o,t,e[o]);return this}return l(t)&&(n=t,t=null),"ready"===e?(v(n),this):(t&&(s=n,n=function(e){for(var n=e.target;!w(n,t);){if(n===this||null===n)return!1;n=n.parentNode}n&&s.call(n,e)}),this.each((function(t){var s=n;i&&(s=function(){n.apply(this,arguments),H(t,e,s)}),function(e,t,n){var i=M(e,"_cashEvents")||S(e,"_cashEvents",{});i[t]=i[t]||[],i[t].push(n),e.addEventListener(t,n)}(t,e,s)})))},one:function(e,t,n){return this.on(e,t,n,!0)},ready:v,trigger:function(e,t){if(document.createEvent){var n=document.createEvent("HTMLEvents");return n.initEvent(e,!0,!1),n=this.extend(n,t),this.each((function(e){return e.dispatchEvent(n)}))}}}),_.extend({serialize:function(){var e="";return b(this[0].elements||this,(function(t){if(!t.disabled&&"FIELDSET"!==t.tagName){var n=t.name;switch(t.type.toLowerCase()){case"file":case"reset":case"submit":case"button":break;case"select-multiple":var i=q(t);null!==i&&b(i,(function(t){e+=F(n,t)}));break;default:var s=q(t);null!==s&&(e+=F(n,s))}}})),e.substr(1)},val:function(e){return void 0===e?q(this[0]):this.each((function(t){return t.value=e}))}}),_.extend({after:function(e){return y(e).insertAfter(this),this},append:function(e){return W(this,e),this},appendTo:function(e){return W(y(e),this),this},before:function(e){return y(e).insertBefore(this),this},clone:function(){return y(this.map((function(e){return e.cloneNode(!0)})))},empty:function(){return this.html(""),this},html:function(e){if(void 0===e)return this[0].innerHTML;var t=e.nodeType?e[0].outerHTML:e;return this.each((function(e){return e.innerHTML=t}))},insertAfter:function(e){var t=this;return y(e).each((function(e,n){var i=e.parentNode,s=e.nextSibling;t.each((function(e){i.insertBefore(0===n?e:e.cloneNode(!0),s)}))})),this},insertBefore:function(e){var t=this;return y(e).each((function(e,n){var i=e.parentNode;t.each((function(t){i.insertBefore(0===n?t:t.cloneNode(!0),e)}))})),this},prepend:function(e){return W(this,e,!0),this},prependTo:function(e){return W(y(e),this,!0),this},remove:function(){return this.each((function(e){if(e.parentNode)return e.parentNode.removeChild(e)}))},text:function(e){return void 0===e?this[0].textContent:this.each((function(t){return t.textContent=e}))}});var K=t.documentElement;return _.extend({position:function(){var e=this[0];return{left:e.offsetLeft,top:e.offsetTop}},offset:function(){var e=this[0].getBoundingClientRect();return{top:e.top+n.pageYOffset-K.clientTop,left:e.left+n.pageXOffset-K.clientLeft}},offsetParent:function(){return y(this[0].offsetParent)}}),_.extend({children:function(e){var t=[];return this.each((function(e){r.apply(t,e.children)})),t=C(t),e?t.filter((function(t){return w(t,e)})):t},closest:function(e){return!e||this.length<1?y():this.is(e)?this.filter(e):this.parent().closest(e)},is:function(e){if(!e)return!1;var t=!1,n=k(e);return this.each((function(i){return!(t=n(i,e))})),t},find:function(e){if(!e||e.nodeType)return y(e&&this.has(e).length?e:null);var t=[];return this.each((function(n){r.apply(t,f(e,n))})),C(t)},has:function(e){var t=u(e)?function(t){return 0!==f(e,t).length}:function(t){return t.contains(e)};return this.filter(t)},next:function(){return y(this[0].nextElementSibling)},not:function(e){if(!e)return this;var t=k(e);return this.filter((function(n){return!t(n,e)}))},parent:function(){var e=[];return this.each((function(t){t&&t.parentNode&&e.push(t.parentNode)})),C(e)},parents:function(e){var n,i=[];return this.each((function(s){for(n=s;n&&n.parentNode&&n!==t.body.parentNode;)n=n.parentNode,(!e||e&&w(n,e))&&i.push(n)})),C(i)},prev:function(){return y(this[0].previousElementSibling)},siblings:function(e){var t=this.parent().children(e),n=this[0];return t.filter((function(e){return e!==n}))}}),y}();var l=function(){function e(t,n,i){a(this,e),n instanceof Element||console.error(Error(n+" is not an HTML Element"));var s=t.getInstance(n);s&&s.destroy(),this.el=n,this.$el=cash(n)}return s(e,null,[{key:"init",value:function(e,t,n){var i=null;if(t instanceof Element)i=new e(t,n);else if(t&&(t.jquery||t.cash||t instanceof NodeList)){for(var s=[],o=0;o<t.length;o++)s.push(new e(t[o],n));i=s}return i}}]),e}();!function(e){e.Package?M={}:e.M={},M.jQueryLoaded=!!e.jQuery}(window),void 0===(n=function(){return M}.apply(t,[]))||(e.exports=n),M.version="1.0.0",M.keys={TAB:9,ENTER:13,ESC:27,ARROW_UP:38,ARROW_DOWN:40},M.tabPressed=!1,M.keyDown=!1,document.addEventListener("keydown",(function(e){M.keyDown=!0,e.which!==M.keys.TAB&&e.which!==M.keys.ARROW_DOWN&&e.which!==M.keys.ARROW_UP||(M.tabPressed=!0)}),!0),document.addEventListener("keyup",(function(e){M.keyDown=!1,e.which!==M.keys.TAB&&e.which!==M.keys.ARROW_DOWN&&e.which!==M.keys.ARROW_UP||(M.tabPressed=!1)}),!0),document.addEventListener("focus",(function(e){M.keyDown&&document.body.classList.add("keyboard-focused")}),!0),document.addEventListener("blur",(function(e){document.body.classList.remove("keyboard-focused")}),!0),M.initializeJqueryWrapper=function(e,t,n){jQuery.fn[t]=function(i){if(e.prototype[i]){var s=Array.prototype.slice.call(arguments,1);if("get"===i.slice(0,3)){var o=this.first()[0][n];return o[i].apply(o,s)}return this.each((function(){var e=this[n];e[i].apply(e,s)}))}if("object"==typeof i||!i)return e.init(this,arguments[0]),this;jQuery.error("Method "+i+" does not exist on jQuery."+t)}},M.AutoInit=function(e){var t=e||document.body,n={Autocomplete:t.querySelectorAll(".autocomplete:not(.no-autoinit)"),Carousel:t.querySelectorAll(".carousel:not(.no-autoinit)"),Chips:t.querySelectorAll(".chips:not(.no-autoinit)"),Collapsible:t.querySelectorAll(".collapsible:not(.no-autoinit)"),Datepicker:t.querySelectorAll(".datepicker:not(.no-autoinit)"),Dropdown:t.querySelectorAll(".dropdown-trigger:not(.no-autoinit)"),Materialbox:t.querySelectorAll(".materialboxed:not(.no-autoinit)"),Modal:t.querySelectorAll(".modal:not(.no-autoinit)"),Parallax:t.querySelectorAll(".parallax:not(.no-autoinit)"),Pushpin:t.querySelectorAll(".pushpin:not(.no-autoinit)"),ScrollSpy:t.querySelectorAll(".scrollspy:not(.no-autoinit)"),FormSelect:t.querySelectorAll("select:not(.no-autoinit)"),Sidenav:t.querySelectorAll(".sidenav:not(.no-autoinit)"),Tabs:t.querySelectorAll(".tabs:not(.no-autoinit)"),TapTarget:t.querySelectorAll(".tap-target:not(.no-autoinit)"),Timepicker:t.querySelectorAll(".timepicker:not(.no-autoinit)"),Tooltip:t.querySelectorAll(".tooltipped:not(.no-autoinit)"),FloatingActionButton:t.querySelectorAll(".fixed-action-btn:not(.no-autoinit)")};for(var i in n)M[i].init(n[i])},M.objectSelectorString=function(e){return((e.prop("tagName")||"")+(e.attr("id")||"")+(e.attr("class")||"")).replace(/\s/g,"")},M.guid=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}(),M.escapeHash=function(e){return e.replace(/(:|\.|\[|\]|,|=|\/)/g,"\\$1")},M.elementOrParentIsFixed=function(e){var t=$(e),n=t.add(t.parents()),i=!1;return n.each((function(){if("fixed"===$(this).css("position"))return i=!0,!1})),i},M.checkWithinContainer=function(e,t,n){var i={top:!1,right:!1,bottom:!1,left:!1},s=e.getBoundingClientRect(),o=e===document.body?Math.max(s.bottom,window.innerHeight):s.bottom,r=e.scrollLeft,a=e.scrollTop,l=t.left-r,u=t.top-a;return(l<s.left+n||l<n)&&(i.left=!0),(l+t.width>s.right-n||l+t.width>window.innerWidth-n)&&(i.right=!0),(u<s.top+n||u<n)&&(i.top=!0),(u+t.height>o-n||u+t.height>window.innerHeight-n)&&(i.bottom=!0),i},M.checkPossibleAlignments=function(e,t,n,i){var s={top:!0,right:!0,bottom:!0,left:!0,spaceOnTop:null,spaceOnRight:null,spaceOnBottom:null,spaceOnLeft:null},o="visible"===getComputedStyle(t).overflow,r=t.getBoundingClientRect(),a=Math.min(r.height,window.innerHeight),l=Math.min(r.width,window.innerWidth),u=e.getBoundingClientRect(),c=t.scrollLeft,d=t.scrollTop,h=n.left-c,p=n.top-d,f=n.top+u.height-d;return s.spaceOnRight=o?window.innerWidth-(u.left+n.width):l-(h+n.width),s.spaceOnRight<0&&(s.left=!1),s.spaceOnLeft=o?u.right-n.width:h-n.width+u.width,s.spaceOnLeft<0&&(s.right=!1),s.spaceOnBottom=o?window.innerHeight-(u.top+n.height+i):a-(p+n.height+i),s.spaceOnBottom<0&&(s.top=!1),s.spaceOnTop=o?u.bottom-(n.height+i):f-(n.height-i),s.spaceOnTop<0&&(s.bottom=!1),s},M.getOverflowParent=function(e){return null==e?null:e===document.body||"visible"!==getComputedStyle(e).overflow?e:M.getOverflowParent(e.parentElement)},M.getIdFromTrigger=function(e){var t=e.getAttribute("data-target");return t||(t=(t=e.getAttribute("href"))?t.slice(1):""),t},M.getDocumentScrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},M.getDocumentScrollLeft=function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0};var u=Date.now||function(){return(new Date).getTime()};M.throttle=function(e,t,n){var i=void 0,s=void 0,o=void 0,r=null,a=0;n||(n={});var l=function(){a=!1===n.leading?0:u(),r=null,o=e.apply(i,s),i=s=null};return function(){var c=u();a||!1!==n.leading||(a=c);var d=t-(c-a);return i=this,s=arguments,d<=0?(clearTimeout(r),r=null,a=c,o=e.apply(i,s),i=s=null):r||!1===n.trailing||(r=setTimeout(l,d)),o}};var c={scope:{}};c.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){if(n.get||n.set)throw new TypeError("ES3 does not support getters and setters.");e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},c.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof global&&null!=global?global:e},c.global=c.getGlobal(this),c.SYMBOL_PREFIX="jscomp_symbol_",c.initSymbol=function(){c.initSymbol=function(){},c.global.Symbol||(c.global.Symbol=c.Symbol)},c.symbolCounter_=0,c.Symbol=function(e){return c.SYMBOL_PREFIX+(e||"")+c.symbolCounter_++},c.initSymbolIterator=function(){c.initSymbol();var e=c.global.Symbol.iterator;e||(e=c.global.Symbol.iterator=c.global.Symbol("iterator")),"function"!=typeof Array.prototype[e]&&c.defineProperty(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return c.arrayIterator(this)}}),c.initSymbolIterator=function(){}},c.arrayIterator=function(e){var t=0;return c.iteratorPrototype((function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}))},c.iteratorPrototype=function(e){return c.initSymbolIterator(),(e={next:e})[c.global.Symbol.iterator]=function(){return this},e},c.array=c.array||{},c.iteratorFromArray=function(e,t){c.initSymbolIterator(),e instanceof String&&(e+="");var n=0,i={next:function(){if(n<e.length){var s=n++;return{value:t(s,e[s]),done:!1}}return i.next=function(){return{done:!0,value:void 0}},i.next()}};return i[Symbol.iterator]=function(){return i},i},c.polyfill=function(e,t,n,i){if(t){for(n=c.global,e=e.split("."),i=0;i<e.length-1;i++){var s=e[i];s in n||(n[s]={}),n=n[s]}(t=t(i=n[e=e[e.length-1]]))!=i&&null!=t&&c.defineProperty(n,e,{configurable:!0,writable:!0,value:t})}},c.polyfill("Array.prototype.keys",(function(e){return e||function(){return c.iteratorFromArray(this,(function(e){return e}))}}),"es6-impl","es3");var d=this;M.anime=function(){function e(e){if(!D.col(e))try{return document.querySelectorAll(e)}catch(e){}}function t(e,t){for(var n=e.length,i=2<=arguments.length?arguments[1]:void 0,s=[],o=0;o<n;o++)if(o in e){var r=e[o];t.call(i,r,o,e)&&s.push(r)}return s}function n(e){return e.reduce((function(e,t){return e.concat(D.arr(t)?n(t):t)}),[])}function i(t){return D.arr(t)?t:(D.str(t)&&(t=e(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t])}function s(e,t){return e.some((function(e){return e===t}))}function o(e){var t,n={};for(t in e)n[t]=e[t];return n}function r(e,t){var n,i=o(e);for(n in e)i[n]=t.hasOwnProperty(n)?t[n]:e[n];return i}function a(e,t){var n,i=o(e);for(n in t)i[n]=D.und(e[n])?t[n]:e[n];return i}function l(e){if(e=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e))return e[2]}function u(e,t){return D.fnc(e)?e(t.target,t.id,t.total):e}function c(e,t){if(t in e.style)return getComputedStyle(e).getPropertyValue(t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())||"0"}function h(e,t){return D.dom(e)&&s(L,t)?"transform":D.dom(e)&&(e.getAttribute(t)||D.svg(e)&&e[t])?"attribute":D.dom(e)&&"transform"!==t&&c(e,t)?"css":null!=e[t]?"object":void 0}function p(e,n){switch(h(e,n)){case"transform":return function(e,n){var i=function(e){return-1<e.indexOf("translate")||"perspective"===e?"px":-1<e.indexOf("rotate")||-1<e.indexOf("skew")?"deg":void 0}(n);if(i=-1<n.indexOf("scale")?1:0+i,!(e=e.style.transform))return i;for(var s=[],o=[],r=[],a=/(\w+)\((.+?)\)/g;s=a.exec(e);)o.push(s[1]),r.push(s[2]);return e=t(r,(function(e,t){return o[t]===n})),e.length?e[0]:i}(e,n);case"css":return c(e,n);case"attribute":return e.getAttribute(n)}return e[n]||0}function f(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var i=l(e)||0;switch(t=parseFloat(t),e=parseFloat(e.replace(n[0],"")),n[0][0]){case"+":return t+e+i;case"-":return t-e+i;case"*":return t*e+i}}function m(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function v(e){e=e.points;for(var t,n=0,i=0;i<e.numberOfItems;i++){var s=e.getItem(i);0<i&&(n+=m(t,s)),t=s}return n}function g(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return 2*Math.PI*e.getAttribute("r");case"rect":return 2*e.getAttribute("width")+2*e.getAttribute("height");case"line":return m({x:e.getAttribute("x1"),y:e.getAttribute("y1")},{x:e.getAttribute("x2"),y:e.getAttribute("y2")});case"polyline":return v(e);case"polygon":var t=e.points;return v(e)+m(t.getItem(t.numberOfItems-1),t.getItem(0))}}function y(e,t){function n(n){return n=void 0===n?0:n,e.el.getPointAtLength(1<=t+n?t+n:0)}var i=n(),s=n(-1),o=n(1);switch(e.property){case"x":return i.x;case"y":return i.y;case"angle":return 180*Math.atan2(o.y-s.y,o.x-s.x)/Math.PI}}function _(e,t){var n,i=/-?\d*\.?\d+/g;if(n=D.pth(e)?e.totalLength:e,D.col(n))if(D.rgb(n)){var s=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(n);n=s?"rgba("+s[1]+",1)":n}else n=D.hex(n)?function(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,i){return t+t+n+n+i+i}));var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return"rgba("+(e=parseInt(t[1],16))+","+parseInt(t[2],16)+","+(t=parseInt(t[3],16))+",1)"}(n):D.hsl(n)?function(e){function t(e,t,n){return 0>n&&(n+=1),1<n&&--n,n<1/6?e+6*(t-e)*n:.5>n?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var n=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e);e=parseInt(n[1])/360;var i=parseInt(n[2])/100,s=parseInt(n[3])/100;if(n=n[4]||1,0==i)s=i=e=s;else{var o=.5>s?s*(1+i):s+i-s*i,r=2*s-o;s=t(r,o,e+1/3),i=t(r,o,e),e=t(r,o,e-1/3)}return"rgba("+255*s+","+255*i+","+255*e+","+n+")"}(n):void 0;else s=(s=l(n))?n.substr(0,n.length-s.length):n,n=t&&!/\s/g.test(n)?s+t:s;return{original:n+="",numbers:n.match(i)?n.match(i).map(Number):[0],strings:D.str(e)||t?n.split(i):[]}}function b(e){return t(e=e?n(D.arr(e)?e.map(i):i(e)):[],(function(e,t,n){return n.indexOf(e)===t}))}function w(e,t){var n=o(t);if(D.arr(e)){var s=e.length;2!==s||D.obj(e[0])?D.fnc(t.duration)||(n.duration=t.duration/s):e={value:e}}return i(e).map((function(e,n){return n=n?0:t.delay,e=D.obj(e)&&!D.pth(e)?e:{value:e},D.und(e.delay)&&(e.delay=n),e})).map((function(e){return a(e,n)}))}function k(e,t){var n;return e.tweens.map((function(i){var s=(i=function(e,t){var n,i={};for(n in e){var s=u(e[n],t);D.arr(s)&&(s=s.map((function(e){return u(e,t)})),1===s.length&&(s=s[0])),i[n]=s}return i.duration=parseFloat(i.duration),i.delay=parseFloat(i.delay),i}(i,t)).value,o=p(t.target,e.name),r=n?n.to.original:o,a=(r=D.arr(s)?s[0]:r,f(D.arr(s)?s[1]:s,r));return o=l(a)||l(r)||l(o),i.from=_(r,o),i.to=_(a,o),i.start=n?n.end:e.offset,i.end=i.start+i.delay+i.duration,i.easing=function(e){return D.arr(e)?$.apply(this,e):B[e]}(i.easing),i.elasticity=(1e3-Math.min(Math.max(i.elasticity,1),999))/1e3,i.isPath=D.pth(s),i.isColor=D.col(i.from.original),i.isColor&&(i.round=1),n=i}))}function C(e,i){return t(n(e.map((function(e){return i.map((function(t){var n=h(e.target,t.name);if(n){var i=k(t,e);t={type:n,property:t.name,animatable:e,tweens:i,duration:i[i.length-1].end,delay:i[0].delay}}else t=void 0;return t}))}))),(function(e){return!D.und(e)}))}function E(e,t,n,i){var s="delay"===e;return t.length?(s?Math.min:Math.max).apply(Math,t.map((function(t){return t[e]}))):s?i.delay:n.offset+i.delay+i.duration}function x(e){var t,n=r(O,e),i=r(T,e),s=function(e){var t=b(e);return t.map((function(e,n){return{target:e,id:n,total:t.length}}))}(e.targets),o=[],l=a(n,i);for(t in e)l.hasOwnProperty(t)||"targets"===t||o.push({name:t,offset:l.offset,tweens:w(e[t],i)});return a(n,{children:[],animatables:s,animations:e=C(s,o),duration:E("duration",e,n,i),delay:E("delay",e,n,i)})}function S(e){function n(){return window.Promise&&new Promise((function(e){return h=e}))}function i(e){return f.reversed?f.duration-e:e}function s(e){for(var n=0,i={},s=f.animations,o=s.length;n<o;){var r=s[n],a=r.animatable,l=(u=r.tweens)[p=u.length-1];p&&(l=t(u,(function(t){return e<t.end}))[0]||l);for(var u=Math.min(Math.max(e-l.start-l.delay,0),l.duration)/l.duration,d=isNaN(u)?1:l.easing(u,l.elasticity),h=(u=l.to.strings,l.round),p=[],m=void 0,v=(m=l.to.numbers.length,0);v<m;v++){var g=void 0,_=(g=l.to.numbers[v],l.from.numbers[v]);g=l.isPath?y(l.value,d*g):_+d*(g-_),h&&(l.isColor&&2<v||(g=Math.round(g*h)/h)),p.push(g)}if(l=u.length)for(m=u[0],d=0;d<l;d++)h=u[d+1],v=p[d],isNaN(v)||(m=h?m+(v+h):m+(v+" "));else m=p[0];A[r.type](a.target,r.property,m,i,a.id),r.currentValue=m,n++}if(n=Object.keys(i).length)for(s=0;s<n;s++)M||(M=c(document.body,"transform")?"transform":"-webkit-transform"),f.animatables[s].target.style[M]=i[s].join(" ");f.currentTime=e,f.progress=e/f.duration*100}function o(e){f[e]&&f[e](f)}function r(){f.remaining&&!0!==f.remaining&&f.remaining--}function a(e){var t=f.duration,a=f.offset,c=a+f.delay,m=f.currentTime,v=f.reversed,g=i(e);if(f.children.length){var y=f.children,_=y.length;if(g>=f.currentTime)for(var b=0;b<_;b++)y[b].seek(g);else for(;_--;)y[_].seek(g)}(g>=c||!t)&&(f.began||(f.began=!0,o("begin")),o("run")),g>a&&g<t?s(g):(g<=a&&0!==m&&(s(0),v&&r()),(g>=t&&m!==t||!t)&&(s(t),v||r())),o("update"),e>=t&&(f.remaining?(u=l,"alternate"===f.direction&&(f.reversed=!f.reversed)):(f.pause(),f.completed||(f.completed=!0,o("complete"),"Promise"in window&&(h(),p=n()))),d=0)}e=void 0===e?{}:e;var l,u,d=0,h=null,p=n(),f=x(e);return f.reset=function(){var e=f.direction,t=f.loop;for(f.currentTime=0,f.progress=0,f.paused=!0,f.began=!1,f.completed=!1,f.reversed="reverse"===e,f.remaining="alternate"===e&&1===t?2:t,s(0),e=f.children.length;e--;)f.children[e].reset()},f.tick=function(e){l=e,u||(u=l),a((d+l-u)*S.speed)},f.seek=function(e){a(i(e))},f.pause=function(){var e=I.indexOf(f);-1<e&&I.splice(e,1),f.paused=!0},f.play=function(){f.paused&&(f.paused=!1,u=0,d=i(f.currentTime),I.push(f),R||P())},f.reverse=function(){f.reversed=!f.reversed,u=0,d=i(f.currentTime)},f.restart=function(){f.pause(),f.reset(),f.play()},f.finished=p,f.reset(),f.autoplay&&f.play(),f}var M,O={update:void 0,begin:void 0,run:void 0,complete:void 0,loop:1,direction:"normal",autoplay:!0,offset:0},T={duration:1e3,delay:0,easing:"easeOutElastic",elasticity:500,round:0},L="translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY perspective".split(" "),D={arr:function(e){return Array.isArray(e)},obj:function(e){return-1<Object.prototype.toString.call(e).indexOf("Object")},pth:function(e){return D.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},dom:function(e){return e.nodeType||D.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return D.hex(e)||D.rgb(e)||D.hsl(e)}},$=function(){function e(e,t,n){return(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e}return function(t,n,i,s){if(0<=t&&1>=t&&0<=i&&1>=i){var o=new Float32Array(11);if(t!==n||i!==s)for(var r=0;11>r;++r)o[r]=e(.1*r,t,i);return function(r){if(t===n&&i===s)return r;if(0===r)return 0;if(1===r)return 1;for(var a=0,l=1;10!==l&&o[l]<=r;++l)a+=.1;--l,l=a+(r-o[l])/(o[l+1]-o[l])*.1;var u=3*(1-3*i+3*t)*l*l+2*(3*i-6*t)*l+3*t;if(.001<=u){for(a=0;4>a&&0!=(u=3*(1-3*i+3*t)*l*l+2*(3*i-6*t)*l+3*t);++a){var c=e(l,t,i)-r;l-=c/u}r=l}else if(0===u)r=l;else{l=a,a+=.1;var d=0;do{0<(u=e(c=l+(a-l)/2,t,i)-r)?a=c:l=c}while(1e-7<Math.abs(u)&&10>++d);r=c}return e(r,n,s)}}}}(),B=function(){function e(e,t){return 0===e||1===e?e:-Math.pow(2,10*(e-1))*Math.sin(2*(e-1-t/(2*Math.PI)*Math.asin(1))*Math.PI/t)}var t,n="Quad Cubic Quart Quint Sine Expo Circ Back Elastic".split(" "),i={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],e],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(t,n){return 1-e(1-t,n)}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(t,n){return.5>t?e(2*t,n)/2:1-e(-2*t+2,n)/2}]},s={linear:$(.25,.25,.75,.75)},o={};for(t in i)o.type=t,i[o.type].forEach(function(e){return function(t,i){s["ease"+e.type+n[i]]=D.fnc(t)?t:$.apply(d,t)}}(o)),o={type:o.type};return s}(),A={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,i,s){i[s]||(i[s]=[]),i[s].push(t+"("+n+")")}},I=[],R=0,P=function(){function e(){R=requestAnimationFrame(t)}function t(t){var n=I.length;if(n){for(var i=0;i<n;)I[i]&&I[i].tick(t),i++;e()}else cancelAnimationFrame(R),R=0}return e}();return S.version="2.2.0",S.speed=1,S.running=I,S.remove=function(e){e=b(e);for(var t=I.length;t--;)for(var n=I[t],i=n.animations,o=i.length;o--;)s(e,i[o].animatable.target)&&(i.splice(o,1),i.length||n.pause())},S.getValue=p,S.path=function(t,n){var i=D.str(t)?e(t)[0]:t,s=n||100;return function(e){return{el:i,property:e,totalLength:g(i)*(s/100)}}},S.setDashoffset=function(e){var t=g(e);return e.setAttribute("stroke-dasharray",t),t},S.bezier=$,S.easings=B,S.timeline=function(e){var t=S(e);return t.pause(),t.duration=0,t.add=function(n){return t.children.forEach((function(e){e.began=!0,e.completed=!0})),i(n).forEach((function(n){var i=a(n,r(T,e||{}));i.targets=i.targets||e.targets,n=t.duration;var s=i.offset;i.autoplay=!1,i.direction=t.direction,i.offset=D.und(s)?n:f(s,n),t.began=!0,t.completed=!0,t.seek(i.offset),(i=S(i)).began=!0,i.completed=!0,i.duration>n&&(t.duration=i.duration),t.children.push(i)})),t.seek(0),t.reset(),t.autoplay&&t.restart(),t},t},S.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},S}(),function(e,t){"use strict";var n={accordion:!0,onOpenStart:void 0,onOpenEnd:void 0,onCloseStart:void 0,onCloseEnd:void 0,inDuration:300,outDuration:300},u=function(l){function u(t,n){a(this,u);var i=o(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,u,t,n));i.el.M_Collapsible=i,i.options=e.extend({},u.defaults,n),i.$headers=i.$el.children("li").children(".collapsible-header"),i.$headers.attr("tabindex",0),i._setupEventHandlers();var s=i.$el.children("li.active").children(".collapsible-body");return i.options.accordion?s.first().css("display","block"):s.css("display","block"),i}return r(u,l),s(u,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Collapsible=void 0}},{key:"_setupEventHandlers",value:function(){var e=this;this._handleCollapsibleClickBound=this._handleCollapsibleClick.bind(this),this._handleCollapsibleKeydownBound=this._handleCollapsibleKeydown.bind(this),this.el.addEventListener("click",this._handleCollapsibleClickBound),this.$headers.each((function(t){t.addEventListener("keydown",e._handleCollapsibleKeydownBound)}))}},{key:"_removeEventHandlers",value:function(){var e=this;this.el.removeEventListener("click",this._handleCollapsibleClickBound),this.$headers.each((function(t){t.removeEventListener("keydown",e._handleCollapsibleKeydownBound)}))}},{key:"_handleCollapsibleClick",value:function(t){var n=e(t.target).closest(".collapsible-header");if(t.target&&n.length){var i=n.closest(".collapsible");if(i[0]===this.el){var s=n.closest("li"),o=i.children("li"),r=s[0].classList.contains("active"),a=o.index(s);r?this.close(a):this.open(a)}}}},{key:"_handleCollapsibleKeydown",value:function(e){13===e.keyCode&&this._handleCollapsibleClickBound(e)}},{key:"_animateIn",value:function(e){var n=this,i=this.$el.children("li").eq(e);if(i.length){var s=i.children(".collapsible-body");t.remove(s[0]),s.css({display:"block",overflow:"hidden",height:0,paddingTop:"",paddingBottom:""});var o=s.css("padding-top"),r=s.css("padding-bottom"),a=s[0].scrollHeight;s.css({paddingTop:0,paddingBottom:0}),t({targets:s[0],height:a,paddingTop:o,paddingBottom:r,duration:this.options.inDuration,easing:"easeInOutCubic",complete:function(e){s.css({overflow:"",paddingTop:"",paddingBottom:"",height:""}),"function"==typeof n.options.onOpenEnd&&n.options.onOpenEnd.call(n,i[0])}})}}},{key:"_animateOut",value:function(e){var n=this,i=this.$el.children("li").eq(e);if(i.length){var s=i.children(".collapsible-body");t.remove(s[0]),s.css("overflow","hidden"),t({targets:s[0],height:0,paddingTop:0,paddingBottom:0,duration:this.options.outDuration,easing:"easeInOutCubic",complete:function(){s.css({height:"",overflow:"",padding:"",display:""}),"function"==typeof n.options.onCloseEnd&&n.options.onCloseEnd.call(n,i[0])}})}}},{key:"open",value:function(t){var n=this,i=this.$el.children("li").eq(t);if(i.length&&!i[0].classList.contains("active")){if("function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,i[0]),this.options.accordion){var s=this.$el.children("li");this.$el.children("li.active").each((function(t){var i=s.index(e(t));n.close(i)}))}i[0].classList.add("active"),this._animateIn(t)}}},{key:"close",value:function(e){var t=this.$el.children("li").eq(e);t.length&&t[0].classList.contains("active")&&("function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,t[0]),t[0].classList.remove("active"),this._animateOut(e))}}],[{key:"init",value:function(e,t){return i(u.__proto__||Object.getPrototypeOf(u),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Collapsible}},{key:"defaults",get:function(){return n}}]),u}(l);M.Collapsible=u,M.jQueryLoaded&&M.initializeJqueryWrapper(u,"collapsible","M_Collapsible")}(cash,M.anime),function(e,t){"use strict";var n={alignment:"left",autoFocus:!0,constrainWidth:!0,container:null,coverTrigger:!0,closeOnClick:!0,hover:!1,inDuration:150,outDuration:250,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,onItemClick:null},u=function(l){function u(t,n){a(this,u);var i=o(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,u,t,n));return i.el.M_Dropdown=i,u._dropdowns.push(i),i.id=M.getIdFromTrigger(t),i.dropdownEl=document.getElementById(i.id),i.$dropdownEl=e(i.dropdownEl),i.options=e.extend({},u.defaults,n),i.isOpen=!1,i.isScrollable=!1,i.isTouchMoving=!1,i.focusedIndex=-1,i.filterQuery=[],i.options.container?e(i.options.container).append(i.dropdownEl):i.$el.after(i.dropdownEl),i._makeDropdownFocusable(),i._resetFilterQueryBound=i._resetFilterQuery.bind(i),i._handleDocumentClickBound=i._handleDocumentClick.bind(i),i._handleDocumentTouchmoveBound=i._handleDocumentTouchmove.bind(i),i._handleDropdownClickBound=i._handleDropdownClick.bind(i),i._handleDropdownKeydownBound=i._handleDropdownKeydown.bind(i),i._handleTriggerKeydownBound=i._handleTriggerKeydown.bind(i),i._setupEventHandlers(),i}return r(u,l),s(u,[{key:"destroy",value:function(){this._resetDropdownStyles(),this._removeEventHandlers(),u._dropdowns.splice(u._dropdowns.indexOf(this),1),this.el.M_Dropdown=void 0}},{key:"_setupEventHandlers",value:function(){this.el.addEventListener("keydown",this._handleTriggerKeydownBound),this.dropdownEl.addEventListener("click",this._handleDropdownClickBound),this.options.hover?(this._handleMouseEnterBound=this._handleMouseEnter.bind(this),this.el.addEventListener("mouseenter",this._handleMouseEnterBound),this._handleMouseLeaveBound=this._handleMouseLeave.bind(this),this.el.addEventListener("mouseleave",this._handleMouseLeaveBound),this.dropdownEl.addEventListener("mouseleave",this._handleMouseLeaveBound)):(this._handleClickBound=this._handleClick.bind(this),this.el.addEventListener("click",this._handleClickBound))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("keydown",this._handleTriggerKeydownBound),this.dropdownEl.removeEventListener("click",this._handleDropdownClickBound),this.options.hover?(this.el.removeEventListener("mouseenter",this._handleMouseEnterBound),this.el.removeEventListener("mouseleave",this._handleMouseLeaveBound),this.dropdownEl.removeEventListener("mouseleave",this._handleMouseLeaveBound)):this.el.removeEventListener("click",this._handleClickBound)}},{key:"_setupTemporaryEventHandlers",value:function(){document.body.addEventListener("click",this._handleDocumentClickBound,!0),document.body.addEventListener("touchend",this._handleDocumentClickBound),document.body.addEventListener("touchmove",this._handleDocumentTouchmoveBound),this.dropdownEl.addEventListener("keydown",this._handleDropdownKeydownBound)}},{key:"_removeTemporaryEventHandlers",value:function(){document.body.removeEventListener("click",this._handleDocumentClickBound,!0),document.body.removeEventListener("touchend",this._handleDocumentClickBound),document.body.removeEventListener("touchmove",this._handleDocumentTouchmoveBound),this.dropdownEl.removeEventListener("keydown",this._handleDropdownKeydownBound)}},{key:"_handleClick",value:function(e){e.preventDefault(),this.open()}},{key:"_handleMouseEnter",value:function(){this.open()}},{key:"_handleMouseLeave",value:function(t){var n=t.toElement||t.relatedTarget,i=!!e(n).closest(".dropdown-content").length,s=!1,o=e(n).closest(".dropdown-trigger");o.length&&o[0].M_Dropdown&&o[0].M_Dropdown.isOpen&&(s=!0),s||i||this.close()}},{key:"_handleDocumentClick",value:function(t){var n=this,i=e(t.target);this.options.closeOnClick&&i.closest(".dropdown-content").length&&!this.isTouchMoving?setTimeout((function(){n.close()}),0):!i.closest(".dropdown-trigger").length&&i.closest(".dropdown-content").length||setTimeout((function(){n.close()}),0),this.isTouchMoving=!1}},{key:"_handleTriggerKeydown",value:function(e){e.which!==M.keys.ARROW_DOWN&&e.which!==M.keys.ENTER||this.isOpen||(e.preventDefault(),this.open())}},{key:"_handleDocumentTouchmove",value:function(t){e(t.target).closest(".dropdown-content").length&&(this.isTouchMoving=!0)}},{key:"_handleDropdownClick",value:function(t){if("function"==typeof this.options.onItemClick){var n=e(t.target).closest("li")[0];this.options.onItemClick.call(this,n)}}},{key:"_handleDropdownKeydown",value:function(t){if(t.which===M.keys.TAB)t.preventDefault(),this.close();else if(t.which!==M.keys.ARROW_DOWN&&t.which!==M.keys.ARROW_UP||!this.isOpen)if(t.which===M.keys.ENTER&&this.isOpen){var n=this.dropdownEl.children[this.focusedIndex],i=e(n).find("a, button").first();i.length?i[0].click():n&&n.click()}else t.which===M.keys.ESC&&this.isOpen&&(t.preventDefault(),this.close());else{t.preventDefault();var s=t.which===M.keys.ARROW_DOWN?1:-1,o=this.focusedIndex,r=!1;do{if(o+=s,this.dropdownEl.children[o]&&-1!==this.dropdownEl.children[o].tabIndex){r=!0;break}}while(o<this.dropdownEl.children.length&&o>=0);r&&(this.focusedIndex=o,this._focusFocusedItem())}var a=String.fromCharCode(t.which).toLowerCase();if(a&&-1===[9,13,27,38,40].indexOf(t.which)){this.filterQuery.push(a);var l=this.filterQuery.join(""),u=e(this.dropdownEl).find("li").filter((function(t){return 0===e(t).text().toLowerCase().indexOf(l)}))[0];u&&(this.focusedIndex=e(u).index(),this._focusFocusedItem())}this.filterTimeout=setTimeout(this._resetFilterQueryBound,1e3)}},{key:"_resetFilterQuery",value:function(){this.filterQuery=[]}},{key:"_resetDropdownStyles",value:function(){this.$dropdownEl.css({display:"",width:"",height:"",left:"",top:"","transform-origin":"",transform:"",opacity:""})}},{key:"_makeDropdownFocusable",value:function(){this.dropdownEl.tabIndex=0,e(this.dropdownEl).children().each((function(e){e.getAttribute("tabindex")||e.setAttribute("tabindex",0)}))}},{key:"_focusFocusedItem",value:function(){this.focusedIndex>=0&&this.focusedIndex<this.dropdownEl.children.length&&this.options.autoFocus&&this.dropdownEl.children[this.focusedIndex].focus()}},{key:"_getDropdownPosition",value:function(){this.el.offsetParent.getBoundingClientRect();var e=this.el.getBoundingClientRect(),t=this.dropdownEl.getBoundingClientRect(),n=t.height,i=t.width,s=e.left-t.left,o=e.top-t.top,r={left:s,top:o,height:n,width:i},a=this.dropdownEl.offsetParent?this.dropdownEl.offsetParent:this.dropdownEl.parentNode,l=M.checkPossibleAlignments(this.el,a,r,this.options.coverTrigger?0:e.height),u="top",c=this.options.alignment;if(o+=this.options.coverTrigger?0:e.height,this.isScrollable=!1,l.top||(l.bottom?u="bottom":(this.isScrollable=!0,l.spaceOnTop>l.spaceOnBottom?(u="bottom",n+=l.spaceOnTop,o-=l.spaceOnTop):n+=l.spaceOnBottom)),!l[c]){var d="left"===c?"right":"left";l[d]?c=d:l.spaceOnLeft>l.spaceOnRight?(c="right",i+=l.spaceOnLeft,s-=l.spaceOnLeft):(c="left",i+=l.spaceOnRight)}return"bottom"===u&&(o=o-t.height+(this.options.coverTrigger?e.height:0)),"right"===c&&(s=s-t.width+e.width),{x:s,y:o,verticalAlignment:u,horizontalAlignment:c,height:n,width:i}}},{key:"_animateIn",value:function(){var e=this;t.remove(this.dropdownEl),t({targets:this.dropdownEl,opacity:{value:[0,1],easing:"easeOutQuad"},scaleX:[.3,1],scaleY:[.3,1],duration:this.options.inDuration,easing:"easeOutQuint",complete:function(t){e.options.autoFocus&&e.dropdownEl.focus(),"function"==typeof e.options.onOpenEnd&&e.options.onOpenEnd.call(e,e.el)}})}},{key:"_animateOut",value:function(){var e=this;t.remove(this.dropdownEl),t({targets:this.dropdownEl,opacity:{value:0,easing:"easeOutQuint"},scaleX:.3,scaleY:.3,duration:this.options.outDuration,easing:"easeOutQuint",complete:function(t){e._resetDropdownStyles(),"function"==typeof e.options.onCloseEnd&&e.options.onCloseEnd.call(e,e.el)}})}},{key:"_placeDropdown",value:function(){var e=this.options.constrainWidth?this.el.getBoundingClientRect().width:this.dropdownEl.getBoundingClientRect().width;this.dropdownEl.style.width=e+"px";var t=this._getDropdownPosition();this.dropdownEl.style.left=t.x+"px",this.dropdownEl.style.top=t.y+"px",this.dropdownEl.style.height=t.height+"px",this.dropdownEl.style.width=t.width+"px",this.dropdownEl.style.transformOrigin=("left"===t.horizontalAlignment?"0":"100%")+" "+("top"===t.verticalAlignment?"0":"100%")}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this._resetDropdownStyles(),this.dropdownEl.style.display="block",this._placeDropdown(),this._animateIn(),this._setupTemporaryEventHandlers())}},{key:"close",value:function(){this.isOpen&&(this.isOpen=!1,this.focusedIndex=-1,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this._animateOut(),this._removeTemporaryEventHandlers(),this.options.autoFocus&&this.el.focus())}},{key:"recalculateDimensions",value:function(){this.isOpen&&(this.$dropdownEl.css({width:"",height:"",left:"",top:"","transform-origin":""}),this._placeDropdown())}}],[{key:"init",value:function(e,t){return i(u.__proto__||Object.getPrototypeOf(u),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Dropdown}},{key:"defaults",get:function(){return n}}]),u}(l);u._dropdowns=[],M.Dropdown=u,M.jQueryLoaded&&M.initializeJqueryWrapper(u,"dropdown","M_Dropdown")}(cash,M.anime),function(e,t){"use strict";var n={opacity:.5,inDuration:250,outDuration:250,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,preventScrolling:!0,dismissible:!0,startingTop:"4%",endingTop:"10%"},u=function(l){function u(t,n){a(this,u);var i=o(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,u,t,n));return i.el.M_Modal=i,i.options=e.extend({},u.defaults,n),i.isOpen=!1,i.id=i.$el.attr("id"),i._openingTrigger=void 0,i.$overlay=e('<div class="modal-overlay"></div>'),i.el.tabIndex=0,i._nthModalOpened=0,u._count++,i._setupEventHandlers(),i}return r(u,l),s(u,[{key:"destroy",value:function(){u._count--,this._removeEventHandlers(),this.el.removeAttribute("style"),this.$overlay.remove(),this.el.M_Modal=void 0}},{key:"_setupEventHandlers",value:function(){this._handleOverlayClickBound=this._handleOverlayClick.bind(this),this._handleModalCloseClickBound=this._handleModalCloseClick.bind(this),1===u._count&&document.body.addEventListener("click",this._handleTriggerClick),this.$overlay[0].addEventListener("click",this._handleOverlayClickBound),this.el.addEventListener("click",this._handleModalCloseClickBound)}},{key:"_removeEventHandlers",value:function(){0===u._count&&document.body.removeEventListener("click",this._handleTriggerClick),this.$overlay[0].removeEventListener("click",this._handleOverlayClickBound),this.el.removeEventListener("click",this._handleModalCloseClickBound)}},{key:"_handleTriggerClick",value:function(t){var n=e(t.target).closest(".modal-trigger");if(n.length){var i=M.getIdFromTrigger(n[0]),s=document.getElementById(i).M_Modal;s&&s.open(n),t.preventDefault()}}},{key:"_handleOverlayClick",value:function(){this.options.dismissible&&this.close()}},{key:"_handleModalCloseClick",value:function(t){e(t.target).closest(".modal-close").length&&this.close()}},{key:"_handleKeydown",value:function(e){27===e.keyCode&&this.options.dismissible&&this.close()}},{key:"_handleFocus",value:function(e){this.el.contains(e.target)||this._nthModalOpened!==u._modalsOpen||this.el.focus()}},{key:"_animateIn",value:function(){var n=this;e.extend(this.el.style,{display:"block",opacity:0}),e.extend(this.$overlay[0].style,{display:"block",opacity:0}),t({targets:this.$overlay[0],opacity:this.options.opacity,duration:this.options.inDuration,easing:"easeOutQuad"});var i={targets:this.el,duration:this.options.inDuration,easing:"easeOutCubic",complete:function(){"function"==typeof n.options.onOpenEnd&&n.options.onOpenEnd.call(n,n.el,n._openingTrigger)}};this.el.classList.contains("bottom-sheet")?(e.extend(i,{bottom:0,opacity:1}),t(i)):(e.extend(i,{top:[this.options.startingTop,this.options.endingTop],opacity:1,scaleX:[.8,1],scaleY:[.8,1]}),t(i))}},{key:"_animateOut",value:function(){var n=this;t({targets:this.$overlay[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuart"});var i={targets:this.el,duration:this.options.outDuration,easing:"easeOutCubic",complete:function(){n.el.style.display="none",n.$overlay.remove(),"function"==typeof n.options.onCloseEnd&&n.options.onCloseEnd.call(n,n.el)}};this.el.classList.contains("bottom-sheet")?(e.extend(i,{bottom:"-100%",opacity:0}),t(i)):(e.extend(i,{top:[this.options.endingTop,this.options.startingTop],opacity:0,scaleX:.8,scaleY:.8}),t(i))}},{key:"open",value:function(e){if(!this.isOpen)return this.isOpen=!0,u._modalsOpen++,this._nthModalOpened=u._modalsOpen,this.$overlay[0].style.zIndex=1e3+2*u._modalsOpen,this.el.style.zIndex=1e3+2*u._modalsOpen+1,this._openingTrigger=e?e[0]:void 0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el,this._openingTrigger),this.options.preventScrolling&&(document.body.style.overflow="hidden"),this.el.classList.add("open"),this.el.insertAdjacentElement("afterend",this.$overlay[0]),this.options.dismissible&&(this._handleKeydownBound=this._handleKeydown.bind(this),this._handleFocusBound=this._handleFocus.bind(this),document.addEventListener("keydown",this._handleKeydownBound),document.addEventListener("focus",this._handleFocusBound,!0)),t.remove(this.el),t.remove(this.$overlay[0]),this._animateIn(),this.el.focus(),this}},{key:"close",value:function(){if(this.isOpen)return this.isOpen=!1,u._modalsOpen--,this._nthModalOpened=0,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this.el.classList.remove("open"),0===u._modalsOpen&&(document.body.style.overflow=""),this.options.dismissible&&(document.removeEventListener("keydown",this._handleKeydownBound),document.removeEventListener("focus",this._handleFocusBound,!0)),t.remove(this.el),t.remove(this.$overlay[0]),this._animateOut(),this}}],[{key:"init",value:function(e,t){return i(u.__proto__||Object.getPrototypeOf(u),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Modal}},{key:"defaults",get:function(){return n}}]),u}(l);u._modalsOpen=0,u._count=0,M.Modal=u,M.jQueryLoaded&&M.initializeJqueryWrapper(u,"modal","M_Modal")}(cash,M.anime),function(e,t){"use strict";var n={inDuration:275,outDuration:200,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null},u=function(l){function u(t,n){a(this,u);var i=o(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,u,t,n));return i.el.M_Materialbox=i,i.options=e.extend({},u.defaults,n),i.overlayActive=!1,i.doneAnimating=!0,i.placeholder=e("<div></div>").addClass("material-placeholder"),i.originalWidth=0,i.originalHeight=0,i.originInlineStyles=i.$el.attr("style"),i.caption=i.el.getAttribute("data-caption")||"",i.$el.before(i.placeholder),i.placeholder.append(i.$el),i._setupEventHandlers(),i}return r(u,l),s(u,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Materialbox=void 0,e(this.placeholder).after(this.el).remove(),this.$el.removeAttr("style")}},{key:"_setupEventHandlers",value:function(){this._handleMaterialboxClickBound=this._handleMaterialboxClick.bind(this),this.el.addEventListener("click",this._handleMaterialboxClickBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleMaterialboxClickBound)}},{key:"_handleMaterialboxClick",value:function(e){!1===this.doneAnimating||this.overlayActive&&this.doneAnimating?this.close():this.open()}},{key:"_handleWindowScroll",value:function(){this.overlayActive&&this.close()}},{key:"_handleWindowResize",value:function(){this.overlayActive&&this.close()}},{key:"_handleWindowEscape",value:function(e){27===e.keyCode&&this.doneAnimating&&this.overlayActive&&this.close()}},{key:"_makeAncestorsOverflowVisible",value:function(){this.ancestorsChanged=e();for(var t=this.placeholder[0].parentNode;null!==t&&!e(t).is(document);){var n=e(t);"visible"!==n.css("overflow")&&(n.css("overflow","visible"),void 0===this.ancestorsChanged?this.ancestorsChanged=n:this.ancestorsChanged=this.ancestorsChanged.add(n)),t=t.parentNode}}},{key:"_animateImageIn",value:function(){var e=this,n={targets:this.el,height:[this.originalHeight,this.newHeight],width:[this.originalWidth,this.newWidth],left:M.getDocumentScrollLeft()+this.windowWidth/2-this.placeholder.offset().left-this.newWidth/2,top:M.getDocumentScrollTop()+this.windowHeight/2-this.placeholder.offset().top-this.newHeight/2,duration:this.options.inDuration,easing:"easeOutQuad",complete:function(){e.doneAnimating=!0,"function"==typeof e.options.onOpenEnd&&e.options.onOpenEnd.call(e,e.el)}};this.maxWidth=this.$el.css("max-width"),this.maxHeight=this.$el.css("max-height"),"none"!==this.maxWidth&&(n.maxWidth=this.newWidth),"none"!==this.maxHeight&&(n.maxHeight=this.newHeight),t(n)}},{key:"_animateImageOut",value:function(){var e=this,n={targets:this.el,width:this.originalWidth,height:this.originalHeight,left:0,top:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){e.placeholder.css({height:"",width:"",position:"",top:"",left:""}),e.attrWidth&&e.$el.attr("width",e.attrWidth),e.attrHeight&&e.$el.attr("height",e.attrHeight),e.$el.removeAttr("style"),e.originInlineStyles&&e.$el.attr("style",e.originInlineStyles),e.$el.removeClass("active"),e.doneAnimating=!0,e.ancestorsChanged.length&&e.ancestorsChanged.css("overflow",""),"function"==typeof e.options.onCloseEnd&&e.options.onCloseEnd.call(e,e.el)}};t(n)}},{key:"_updateVars",value:function(){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.caption=this.el.getAttribute("data-caption")||""}},{key:"open",value:function(){var n=this;this._updateVars(),this.originalWidth=this.el.getBoundingClientRect().width,this.originalHeight=this.el.getBoundingClientRect().height,this.doneAnimating=!1,this.$el.addClass("active"),this.overlayActive=!0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this.placeholder.css({width:this.placeholder[0].getBoundingClientRect().width+"px",height:this.placeholder[0].getBoundingClientRect().height+"px",position:"relative",top:0,left:0}),this._makeAncestorsOverflowVisible(),this.$el.css({position:"absolute","z-index":1e3,"will-change":"left, top, width, height"}),this.attrWidth=this.$el.attr("width"),this.attrHeight=this.$el.attr("height"),this.attrWidth&&(this.$el.css("width",this.attrWidth+"px"),this.$el.removeAttr("width")),this.attrHeight&&(this.$el.css("width",this.attrHeight+"px"),this.$el.removeAttr("height")),this.$overlay=e('<div id="materialbox-overlay"></div>').css({opacity:0}).one("click",(function(){n.doneAnimating&&n.close()})),this.$el.before(this.$overlay);var i=this.$overlay[0].getBoundingClientRect();this.$overlay.css({width:this.windowWidth+"px",height:this.windowHeight+"px",left:-1*i.left+"px",top:-1*i.top+"px"}),t.remove(this.el),t.remove(this.$overlay[0]),t({targets:this.$overlay[0],opacity:1,duration:this.options.inDuration,easing:"easeOutQuad"}),""!==this.caption&&(this.$photocaption&&t.remove(this.$photoCaption[0]),this.$photoCaption=e('<div class="materialbox-caption"></div>'),this.$photoCaption.text(this.caption),e("body").append(this.$photoCaption),this.$photoCaption.css({display:"inline"}),t({targets:this.$photoCaption[0],opacity:1,duration:this.options.inDuration,easing:"easeOutQuad"}));var s=0,o=this.originalWidth/this.windowWidth,r=this.originalHeight/this.windowHeight;this.newWidth=0,this.newHeight=0,o>r?(s=this.originalHeight/this.originalWidth,this.newWidth=.9*this.windowWidth,this.newHeight=.9*this.windowWidth*s):(s=this.originalWidth/this.originalHeight,this.newWidth=.9*this.windowHeight*s,this.newHeight=.9*this.windowHeight),this._animateImageIn(),this._handleWindowScrollBound=this._handleWindowScroll.bind(this),this._handleWindowResizeBound=this._handleWindowResize.bind(this),this._handleWindowEscapeBound=this._handleWindowEscape.bind(this),window.addEventListener("scroll",this._handleWindowScrollBound),window.addEventListener("resize",this._handleWindowResizeBound),window.addEventListener("keyup",this._handleWindowEscapeBound)}},{key:"close",value:function(){var e=this;this._updateVars(),this.doneAnimating=!1,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),t.remove(this.el),t.remove(this.$overlay[0]),""!==this.caption&&t.remove(this.$photoCaption[0]),window.removeEventListener("scroll",this._handleWindowScrollBound),window.removeEventListener("resize",this._handleWindowResizeBound),window.removeEventListener("keyup",this._handleWindowEscapeBound),t({targets:this.$overlay[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){e.overlayActive=!1,e.$overlay.remove()}}),this._animateImageOut(),""!==this.caption&&t({targets:this.$photoCaption[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){e.$photoCaption.remove()}})}}],[{key:"init",value:function(e,t){return i(u.__proto__||Object.getPrototypeOf(u),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Materialbox}},{key:"defaults",get:function(){return n}}]),u}(l);M.Materialbox=u,M.jQueryLoaded&&M.initializeJqueryWrapper(u,"materialbox","M_Materialbox")}(cash,M.anime),function(e){"use strict";var t={responsiveThreshold:0},n=function(n){function l(t,n){a(this,l);var i=o(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,n));return i.el.M_Parallax=i,i.options=e.extend({},l.defaults,n),i._enabled=window.innerWidth>i.options.responsiveThreshold,i.$img=i.$el.find("img").first(),i.$img.each((function(){this.complete&&e(this).trigger("load")})),i._updateParallax(),i._setupEventHandlers(),i._setupStyles(),l._parallaxes.push(i),i}return r(l,n),s(l,[{key:"destroy",value:function(){l._parallaxes.splice(l._parallaxes.indexOf(this),1),this.$img[0].style.transform="",this._removeEventHandlers(),this.$el[0].M_Parallax=void 0}},{key:"_setupEventHandlers",value:function(){this._handleImageLoadBound=this._handleImageLoad.bind(this),this.$img[0].addEventListener("load",this._handleImageLoadBound),0===l._parallaxes.length&&(l._handleScrollThrottled=M.throttle(l._handleScroll,5),window.addEventListener("scroll",l._handleScrollThrottled),l._handleWindowResizeThrottled=M.throttle(l._handleWindowResize,5),window.addEventListener("resize",l._handleWindowResizeThrottled))}},{key:"_removeEventHandlers",value:function(){this.$img[0].removeEventListener("load",this._handleImageLoadBound),0===l._parallaxes.length&&(window.removeEventListener("scroll",l._handleScrollThrottled),window.removeEventListener("resize",l._handleWindowResizeThrottled))}},{key:"_setupStyles",value:function(){this.$img[0].style.opacity=1}},{key:"_handleImageLoad",value:function(){this._updateParallax()}},{key:"_updateParallax",value:function(){var e=this.$el.height()>0?this.el.parentNode.offsetHeight:500,t=this.$img[0].offsetHeight-e,n=this.$el.offset().top+e,i=this.$el.offset().top,s=M.getDocumentScrollTop(),o=window.innerHeight,r=t*((s+o-i)/(e+o));this._enabled?n>s&&i<s+o&&(this.$img[0].style.transform="translate3D(-50%, "+r+"px, 0)"):this.$img[0].style.transform=""}}],[{key:"init",value:function(e,t){return i(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Parallax}},{key:"_handleScroll",value:function(){for(var e=0;e<l._parallaxes.length;e++){var t=l._parallaxes[e];t._updateParallax.call(t)}}},{key:"_handleWindowResize",value:function(){for(var e=0;e<l._parallaxes.length;e++){var t=l._parallaxes[e];t._enabled=window.innerWidth>t.options.responsiveThreshold}}},{key:"defaults",get:function(){return t}}]),l}(l);n._parallaxes=[],M.Parallax=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"parallax","M_Parallax")}(cash),function(e,t){"use strict";var n={duration:300,onShow:null,swipeable:!1,responsiveThreshold:1/0},u=function(l){function u(t,n){a(this,u);var i=o(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,u,t,n));return i.el.M_Tabs=i,i.options=e.extend({},u.defaults,n),i.$tabLinks=i.$el.children("li.tab").children("a"),i.index=0,i._setupActiveTabLink(),i.options.swipeable?i._setupSwipeableTabs():i._setupNormalTabs(),i._setTabsAndTabWidth(),i._createIndicator(),i._setupEventHandlers(),i}return r(u,l),s(u,[{key:"destroy",value:function(){this._removeEventHandlers(),this._indicator.parentNode.removeChild(this._indicator),this.options.swipeable?this._teardownSwipeableTabs():this._teardownNormalTabs(),this.$el[0].M_Tabs=void 0}},{key:"_setupEventHandlers",value:function(){this._handleWindowResizeBound=this._handleWindowResize.bind(this),window.addEventListener("resize",this._handleWindowResizeBound),this._handleTabClickBound=this._handleTabClick.bind(this),this.el.addEventListener("click",this._handleTabClickBound)}},{key:"_removeEventHandlers",value:function(){window.removeEventListener("resize",this._handleWindowResizeBound),this.el.removeEventListener("click",this._handleTabClickBound)}},{key:"_handleWindowResize",value:function(){this._setTabsAndTabWidth(),0!==this.tabWidth&&0!==this.tabsWidth&&(this._indicator.style.left=this._calcLeftPos(this.$activeTabLink)+"px",this._indicator.style.right=this._calcRightPos(this.$activeTabLink)+"px")}},{key:"_handleTabClick",value:function(t){var n=this,i=e(t.target).closest("li.tab"),s=e(t.target).closest("a");if(s.length&&s.parent().hasClass("tab"))if(i.hasClass("disabled"))t.preventDefault();else if(!s.attr("target")){this.$activeTabLink.removeClass("active");var o=this.$content;this.$activeTabLink=s,this.$content=e(M.escapeHash(s[0].hash)),this.$tabLinks=this.$el.children("li.tab").children("a"),this.$activeTabLink.addClass("active");var r=this.index;this.index=Math.max(this.$tabLinks.index(s),0),this.options.swipeable?this._tabsCarousel&&this._tabsCarousel.set(this.index,(function(){"function"==typeof n.options.onShow&&n.options.onShow.call(n,n.$content[0])})):this.$content.length&&(this.$content[0].style.display="block",this.$content.addClass("active"),"function"==typeof this.options.onShow&&this.options.onShow.call(this,this.$content[0]),o.length&&!o.is(this.$content)&&(o[0].style.display="none",o.removeClass("active"))),this._setTabsAndTabWidth(),this._animateIndicator(r),t.preventDefault()}}},{key:"_createIndicator",value:function(){var e=this,t=document.createElement("li");t.classList.add("indicator"),this.el.appendChild(t),this._indicator=t,setTimeout((function(){e._indicator.style.left=e._calcLeftPos(e.$activeTabLink)+"px",e._indicator.style.right=e._calcRightPos(e.$activeTabLink)+"px"}),0)}},{key:"_setupActiveTabLink",value:function(){this.$activeTabLink=e(this.$tabLinks.filter('[href="'+location.hash+'"]')),0===this.$activeTabLink.length&&(this.$activeTabLink=this.$el.children("li.tab").children("a.active").first()),0===this.$activeTabLink.length&&(this.$activeTabLink=this.$el.children("li.tab").children("a").first()),this.$tabLinks.removeClass("active"),this.$activeTabLink[0].classList.add("active"),this.index=Math.max(this.$tabLinks.index(this.$activeTabLink),0),this.$activeTabLink.length&&(this.$content=e(M.escapeHash(this.$activeTabLink[0].hash)),this.$content.addClass("active"))}},{key:"_setupSwipeableTabs",value:function(){var t=this;window.innerWidth>this.options.responsiveThreshold&&(this.options.swipeable=!1);var n=e();this.$tabLinks.each((function(t){var i=e(M.escapeHash(t.hash));i.addClass("carousel-item"),n=n.add(i)}));var i=e('<div class="tabs-content carousel carousel-slider"></div>');n.first().before(i),i.append(n),n[0].style.display="";var s=this.$activeTabLink.closest(".tab").index();this._tabsCarousel=M.Carousel.init(i[0],{fullWidth:!0,noWrap:!0,onCycleTo:function(n){var i=t.index;t.index=e(n).index(),t.$activeTabLink.removeClass("active"),t.$activeTabLink=t.$tabLinks.eq(t.index),t.$activeTabLink.addClass("active"),t._animateIndicator(i),"function"==typeof t.options.onShow&&t.options.onShow.call(t,t.$content[0])}}),this._tabsCarousel.set(s)}},{key:"_teardownSwipeableTabs",value:function(){var e=this._tabsCarousel.$el;this._tabsCarousel.destroy(),e.after(e.children()),e.remove()}},{key:"_setupNormalTabs",value:function(){this.$tabLinks.not(this.$activeTabLink).each((function(t){if(t.hash){var n=e(M.escapeHash(t.hash));n.length&&(n[0].style.display="none")}}))}},{key:"_teardownNormalTabs",value:function(){this.$tabLinks.each((function(t){if(t.hash){var n=e(M.escapeHash(t.hash));n.length&&(n[0].style.display="")}}))}},{key:"_setTabsAndTabWidth",value:function(){this.tabsWidth=this.$el.width(),this.tabWidth=Math.max(this.tabsWidth,this.el.scrollWidth)/this.$tabLinks.length}},{key:"_calcRightPos",value:function(e){return Math.ceil(this.tabsWidth-e.position().left-e[0].getBoundingClientRect().width)}},{key:"_calcLeftPos",value:function(e){return Math.floor(e.position().left)}},{key:"updateTabIndicator",value:function(){this._setTabsAndTabWidth(),this._animateIndicator(this.index)}},{key:"_animateIndicator",value:function(e){var n=0,i=0;this.index-e>=0?n=90:i=90;var s={targets:this._indicator,left:{value:this._calcLeftPos(this.$activeTabLink),delay:n},right:{value:this._calcRightPos(this.$activeTabLink),delay:i},duration:this.options.duration,easing:"easeOutQuad"};t.remove(this._indicator),t(s)}},{key:"select",value:function(e){var t=this.$tabLinks.filter('[href="#'+e+'"]');t.length&&t.trigger("click")}}],[{key:"init",value:function(e,t){return i(u.__proto__||Object.getPrototypeOf(u),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Tabs}},{key:"defaults",get:function(){return n}}]),u}(l);M.Tabs=u,M.jQueryLoaded&&M.initializeJqueryWrapper(u,"tabs","M_Tabs")}(cash,M.anime),function(e,t){"use strict";var n={exitDelay:200,enterDelay:0,html:null,margin:5,inDuration:250,outDuration:200,position:"bottom",transitionMovement:10},u=function(l){function u(t,n){a(this,u);var i=o(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,u,t,n));return i.el.M_Tooltip=i,i.options=e.extend({},u.defaults,n),i.isOpen=!1,i.isHovered=!1,i.isFocused=!1,i._appendTooltipEl(),i._setupEventHandlers(),i}return r(u,l),s(u,[{key:"destroy",value:function(){e(this.tooltipEl).remove(),this._removeEventHandlers(),this.el.M_Tooltip=void 0}},{key:"_appendTooltipEl",value:function(){var e=document.createElement("div");e.classList.add("material-tooltip"),this.tooltipEl=e;var t=document.createElement("div");t.classList.add("tooltip-content"),t.innerHTML=this.options.html,e.appendChild(t),document.body.appendChild(e)}},{key:"_updateTooltipContent",value:function(){this.tooltipEl.querySelector(".tooltip-content").innerHTML=this.options.html}},{key:"_setupEventHandlers",value:function(){this._handleMouseEnterBound=this._handleMouseEnter.bind(this),this._handleMouseLeaveBound=this._handleMouseLeave.bind(this),this._handleFocusBound=this._handleFocus.bind(this),this._handleBlurBound=this._handleBlur.bind(this),this.el.addEventListener("mouseenter",this._handleMouseEnterBound),this.el.addEventListener("mouseleave",this._handleMouseLeaveBound),this.el.addEventListener("focus",this._handleFocusBound,!0),this.el.addEventListener("blur",this._handleBlurBound,!0)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("mouseenter",this._handleMouseEnterBound),this.el.removeEventListener("mouseleave",this._handleMouseLeaveBound),this.el.removeEventListener("focus",this._handleFocusBound,!0),this.el.removeEventListener("blur",this._handleBlurBound,!0)}},{key:"open",value:function(t){this.isOpen||(t=void 0===t||void 0,this.isOpen=!0,this.options=e.extend({},this.options,this._getAttributeOptions()),this._updateTooltipContent(),this._setEnterDelayTimeout(t))}},{key:"close",value:function(){this.isOpen&&(this.isHovered=!1,this.isFocused=!1,this.isOpen=!1,this._setExitDelayTimeout())}},{key:"_setExitDelayTimeout",value:function(){var e=this;clearTimeout(this._exitDelayTimeout),this._exitDelayTimeout=setTimeout((function(){e.isHovered||e.isFocused||e._animateOut()}),this.options.exitDelay)}},{key:"_setEnterDelayTimeout",value:function(e){var t=this;clearTimeout(this._enterDelayTimeout),this._enterDelayTimeout=setTimeout((function(){(t.isHovered||t.isFocused||e)&&t._animateIn()}),this.options.enterDelay)}},{key:"_positionTooltip",value:function(){var t,n=this.el,i=this.tooltipEl,s=n.offsetHeight,o=n.offsetWidth,r=i.offsetHeight,a=i.offsetWidth,l=this.options.margin,u=void 0,c=void 0;this.xMovement=0,this.yMovement=0,u=n.getBoundingClientRect().top+M.getDocumentScrollTop(),c=n.getBoundingClientRect().left+M.getDocumentScrollLeft(),"top"===this.options.position?(u+=-r-l,c+=o/2-a/2,this.yMovement=-this.options.transitionMovement):"right"===this.options.position?(u+=s/2-r/2,c+=o+l,this.xMovement=this.options.transitionMovement):"left"===this.options.position?(u+=s/2-r/2,c+=-a-l,this.xMovement=-this.options.transitionMovement):(u+=s+l,c+=o/2-a/2,this.yMovement=this.options.transitionMovement),t=this._repositionWithinScreen(c,u,a,r),e(i).css({top:t.y+"px",left:t.x+"px"})}},{key:"_repositionWithinScreen",value:function(e,t,n,i){var s=M.getDocumentScrollLeft(),o=M.getDocumentScrollTop(),r=e-s,a=t-o,l={left:r,top:a,width:n,height:i},u=this.options.margin+this.options.transitionMovement,c=M.checkWithinContainer(document.body,l,u);return c.left?r=u:c.right&&(r-=r+n-window.innerWidth),c.top?a=u:c.bottom&&(a-=a+i-window.innerHeight),{x:r+s,y:a+o}}},{key:"_animateIn",value:function(){this._positionTooltip(),this.tooltipEl.style.visibility="visible",t.remove(this.tooltipEl),t({targets:this.tooltipEl,opacity:1,translateX:this.xMovement,translateY:this.yMovement,duration:this.options.inDuration,easing:"easeOutCubic"})}},{key:"_animateOut",value:function(){t.remove(this.tooltipEl),t({targets:this.tooltipEl,opacity:0,translateX:0,translateY:0,duration:this.options.outDuration,easing:"easeOutCubic"})}},{key:"_handleMouseEnter",value:function(){this.isHovered=!0,this.isFocused=!1,this.open(!1)}},{key:"_handleMouseLeave",value:function(){this.isHovered=!1,this.isFocused=!1,this.close()}},{key:"_handleFocus",value:function(){M.tabPressed&&(this.isFocused=!0,this.open(!1))}},{key:"_handleBlur",value:function(){this.isFocused=!1,this.close()}},{key:"_getAttributeOptions",value:function(){var e={},t=this.el.getAttribute("data-tooltip"),n=this.el.getAttribute("data-position");return t&&(e.html=t),n&&(e.position=n),e}}],[{key:"init",value:function(e,t){return i(u.__proto__||Object.getPrototypeOf(u),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Tooltip}},{key:"defaults",get:function(){return n}}]),u}(l);M.Tooltip=u,M.jQueryLoaded&&M.initializeJqueryWrapper(u,"tooltip","M_Tooltip")}(cash,M.anime),function(e){"use strict";var t=t||{},n=document.querySelectorAll.bind(document);function i(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+":"+e[n]+";");return t}var s={duration:750,show:function(e,t){if(2===e.button)return!1;var n=t||this,o=document.createElement("div");o.className="waves-ripple",n.appendChild(o);var r,a,l,u,c,d=(u={top:0,left:0},a=(c=(r=n)&&r.ownerDocument).documentElement,void 0!==r.getBoundingClientRect&&(u=r.getBoundingClientRect()),l=function(e){return null!==(t=e)&&t===t.window?e:9===e.nodeType&&e.defaultView;var t}(c),{top:u.top+l.pageYOffset-a.clientTop,left:u.left+l.pageXOffset-a.clientLeft}),h=e.pageY-d.top,p=e.pageX-d.left,f="scale("+n.clientWidth/100*10+")";"touches"in e&&(h=e.touches[0].pageY-d.top,p=e.touches[0].pageX-d.left),o.setAttribute("data-hold",Date.now()),o.setAttribute("data-scale",f),o.setAttribute("data-x",p),o.setAttribute("data-y",h);var m={top:h+"px",left:p+"px"};o.className=o.className+" waves-notransition",o.setAttribute("style",i(m)),o.className=o.className.replace("waves-notransition",""),m["-webkit-transform"]=f,m["-moz-transform"]=f,m["-ms-transform"]=f,m["-o-transform"]=f,m.transform=f,m.opacity="1",m["-webkit-transition-duration"]=s.duration+"ms",m["-moz-transition-duration"]=s.duration+"ms",m["-o-transition-duration"]=s.duration+"ms",m["transition-duration"]=s.duration+"ms",m["-webkit-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",m["-moz-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",m["-o-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",m["transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",o.setAttribute("style",i(m))},hide:function(e){o.touchup(e);var t=this,n=(t.clientWidth,null),r=t.getElementsByClassName("waves-ripple");if(!(r.length>0))return!1;var a=(n=r[r.length-1]).getAttribute("data-x"),l=n.getAttribute("data-y"),u=n.getAttribute("data-scale"),c=350-(Date.now()-Number(n.getAttribute("data-hold")));c<0&&(c=0),setTimeout((function(){var e={top:l+"px",left:a+"px",opacity:"0","-webkit-transition-duration":s.duration+"ms","-moz-transition-duration":s.duration+"ms","-o-transition-duration":s.duration+"ms","transition-duration":s.duration+"ms","-webkit-transform":u,"-moz-transform":u,"-ms-transform":u,"-o-transform":u,transform:u};n.setAttribute("style",i(e)),setTimeout((function(){try{t.removeChild(n)}catch(e){return!1}}),s.duration)}),c)},wrapInput:function(e){for(var t=0;t<e.length;t++){var n=e[t];if("input"===n.tagName.toLowerCase()){var i=n.parentNode;if("i"===i.tagName.toLowerCase()&&-1!==i.className.indexOf("waves-effect"))continue;var s=document.createElement("i");s.className=n.className+" waves-input-wrapper";var o=n.getAttribute("style");o||(o=""),s.setAttribute("style",o),n.className="waves-button-input",n.removeAttribute("style"),i.replaceChild(s,n),s.appendChild(n)}}}},o={touches:0,allowEvent:function(e){var t=!0;return"touchstart"===e.type?o.touches+=1:"touchend"===e.type||"touchcancel"===e.type?setTimeout((function(){o.touches>0&&(o.touches-=1)}),500):"mousedown"===e.type&&o.touches>0&&(t=!1),t},touchup:function(e){o.allowEvent(e)}};function r(t){var n=function(e){if(!1===o.allowEvent(e))return null;for(var t=null,n=e.target||e.srcElement;null!==n.parentNode;){if(!(n instanceof SVGElement)&&-1!==n.className.indexOf("waves-effect")){t=n;break}n=n.parentNode}return t}(t);null!==n&&(s.show(t,n),"ontouchstart"in e&&(n.addEventListener("touchend",s.hide,!1),n.addEventListener("touchcancel",s.hide,!1)),n.addEventListener("mouseup",s.hide,!1),n.addEventListener("mouseleave",s.hide,!1),n.addEventListener("dragend",s.hide,!1))}t.displayEffect=function(t){"duration"in(t=t||{})&&(s.duration=t.duration),s.wrapInput(n(".waves-effect")),"ontouchstart"in e&&document.body.addEventListener("touchstart",r,!1),document.body.addEventListener("mousedown",r,!1)},t.attach=function(t){"input"===t.tagName.toLowerCase()&&(s.wrapInput([t]),t=t.parentNode),"ontouchstart"in e&&t.addEventListener("touchstart",r,!1),t.addEventListener("mousedown",r,!1)},e.Waves=t,document.addEventListener("DOMContentLoaded",(function(){t.displayEffect()}),!1)}(window),function(e,t){"use strict";var n={html:"",displayLength:4e3,inDuration:300,outDuration:375,classes:"",completeCallback:null,activationPercent:.8},i=function(){function i(t){a(this,i),this.options=e.extend({},i.defaults,t),this.message=this.options.html,this.panning=!1,this.timeRemaining=this.options.displayLength,0===i._toasts.length&&i._createContainer(),i._toasts.push(this);var n=this._createToast();n.M_Toast=this,this.el=n,this.$el=e(n),this._animateIn(),this._setTimer()}return s(i,[{key:"_createToast",value:function(){var t=document.createElement("div");return t.classList.add("toast"),this.options.classes.length&&e(t).addClass(this.options.classes),("object"==typeof HTMLElement?this.message instanceof HTMLElement:this.message&&"object"==typeof this.message&&null!==this.message&&1===this.message.nodeType&&"string"==typeof this.message.nodeName)?t.appendChild(this.message):this.message.jquery?e(t).append(this.message[0]):t.innerHTML=this.message,i._container.appendChild(t),t}},{key:"_animateIn",value:function(){t({targets:this.el,top:0,opacity:1,duration:this.options.inDuration,easing:"easeOutCubic"})}},{key:"_setTimer",value:function(){var e=this;this.timeRemaining!==1/0&&(this.counterInterval=setInterval((function(){e.panning||(e.timeRemaining-=20),e.timeRemaining<=0&&e.dismiss()}),20))}},{key:"dismiss",value:function(){var e=this;window.clearInterval(this.counterInterval);var n=this.el.offsetWidth*this.options.activationPercent;this.wasSwiped&&(this.el.style.transition="transform .05s, opacity .05s",this.el.style.transform="translateX("+n+"px)",this.el.style.opacity=0),t({targets:this.el,opacity:0,marginTop:-40,duration:this.options.outDuration,easing:"easeOutExpo",complete:function(){"function"==typeof e.options.completeCallback&&e.options.completeCallback(),e.$el.remove(),i._toasts.splice(i._toasts.indexOf(e),1),0===i._toasts.length&&i._removeContainer()}})}}],[{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Toast}},{key:"_createContainer",value:function(){var e=document.createElement("div");e.setAttribute("id","toast-container"),e.addEventListener("touchstart",i._onDragStart),e.addEventListener("touchmove",i._onDragMove),e.addEventListener("touchend",i._onDragEnd),e.addEventListener("mousedown",i._onDragStart),document.addEventListener("mousemove",i._onDragMove),document.addEventListener("mouseup",i._onDragEnd),document.body.appendChild(e),i._container=e}},{key:"_removeContainer",value:function(){document.removeEventListener("mousemove",i._onDragMove),document.removeEventListener("mouseup",i._onDragEnd),e(i._container).remove(),i._container=null}},{key:"_onDragStart",value:function(t){if(t.target&&e(t.target).closest(".toast").length){var n=e(t.target).closest(".toast")[0].M_Toast;n.panning=!0,i._draggedToast=n,n.el.classList.add("panning"),n.el.style.transition="",n.startingXPos=i._xPos(t),n.time=Date.now(),n.xPos=i._xPos(t)}}},{key:"_onDragMove",value:function(e){if(i._draggedToast){e.preventDefault();var t=i._draggedToast;t.deltaX=Math.abs(t.xPos-i._xPos(e)),t.xPos=i._xPos(e),t.velocityX=t.deltaX/(Date.now()-t.time),t.time=Date.now();var n=t.xPos-t.startingXPos,s=t.el.offsetWidth*t.options.activationPercent;t.el.style.transform="translateX("+n+"px)",t.el.style.opacity=1-Math.abs(n/s)}}},{key:"_onDragEnd",value:function(){if(i._draggedToast){var e=i._draggedToast;e.panning=!1,e.el.classList.remove("panning");var t=e.xPos-e.startingXPos,n=e.el.offsetWidth*e.options.activationPercent;Math.abs(t)>n||e.velocityX>1?(e.wasSwiped=!0,e.dismiss()):(e.el.style.transition="transform .2s, opacity .2s",e.el.style.transform="",e.el.style.opacity=""),i._draggedToast=null}}},{key:"_xPos",value:function(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}},{key:"dismissAll",value:function(){for(var e in i._toasts)i._toasts[e].dismiss()}},{key:"defaults",get:function(){return n}}]),i}();i._toasts=[],i._container=null,i._draggedToast=null,M.Toast=i,M.toast=function(e){return new i(e)}}(cash,M.anime),function(e,t){"use strict";var n={edge:"left",draggable:!0,inDuration:250,outDuration:200,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,preventScrolling:!0},u=function(l){function u(t,n){a(this,u);var i=o(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,u,t,n));return i.el.M_Sidenav=i,i.id=i.$el.attr("id"),i.options=e.extend({},u.defaults,n),i.isOpen=!1,i.isFixed=i.el.classList.contains("sidenav-fixed"),i.isDragged=!1,i.lastWindowWidth=window.innerWidth,i.lastWindowHeight=window.innerHeight,i._createOverlay(),i._createDragTarget(),i._setupEventHandlers(),i._setupClasses(),i._setupFixed(),u._sidenavs.push(i),i}return r(u,l),s(u,[{key:"destroy",value:function(){this._removeEventHandlers(),this._enableBodyScrolling(),this._overlay.parentNode.removeChild(this._overlay),this.dragTarget.parentNode.removeChild(this.dragTarget),this.el.M_Sidenav=void 0,this.el.style.transform="";var e=u._sidenavs.indexOf(this);e>=0&&u._sidenavs.splice(e,1)}},{key:"_createOverlay",value:function(){var e=document.createElement("div");this._closeBound=this.close.bind(this),e.classList.add("sidenav-overlay"),e.addEventListener("click",this._closeBound),document.body.appendChild(e),this._overlay=e}},{key:"_setupEventHandlers",value:function(){0===u._sidenavs.length&&document.body.addEventListener("click",this._handleTriggerClick),this._handleDragTargetDragBound=this._handleDragTargetDrag.bind(this),this._handleDragTargetReleaseBound=this._handleDragTargetRelease.bind(this),this._handleCloseDragBound=this._handleCloseDrag.bind(this),this._handleCloseReleaseBound=this._handleCloseRelease.bind(this),this._handleCloseTriggerClickBound=this._handleCloseTriggerClick.bind(this),this.dragTarget.addEventListener("touchmove",this._handleDragTargetDragBound),this.dragTarget.addEventListener("touchend",this._handleDragTargetReleaseBound),this._overlay.addEventListener("touchmove",this._handleCloseDragBound),this._overlay.addEventListener("touchend",this._handleCloseReleaseBound),this.el.addEventListener("touchmove",this._handleCloseDragBound),this.el.addEventListener("touchend",this._handleCloseReleaseBound),this.el.addEventListener("click",this._handleCloseTriggerClickBound),this.isFixed&&(this._handleWindowResizeBound=this._handleWindowResize.bind(this),window.addEventListener("resize",this._handleWindowResizeBound))}},{key:"_removeEventHandlers",value:function(){1===u._sidenavs.length&&document.body.removeEventListener("click",this._handleTriggerClick),this.dragTarget.removeEventListener("touchmove",this._handleDragTargetDragBound),this.dragTarget.removeEventListener("touchend",this._handleDragTargetReleaseBound),this._overlay.removeEventListener("touchmove",this._handleCloseDragBound),this._overlay.removeEventListener("touchend",this._handleCloseReleaseBound),this.el.removeEventListener("touchmove",this._handleCloseDragBound),this.el.removeEventListener("touchend",this._handleCloseReleaseBound),this.el.removeEventListener("click",this._handleCloseTriggerClickBound),this.isFixed&&window.removeEventListener("resize",this._handleWindowResizeBound)}},{key:"_handleTriggerClick",value:function(t){var n=e(t.target).closest(".sidenav-trigger");if(t.target&&n.length){var i=M.getIdFromTrigger(n[0]),s=document.getElementById(i).M_Sidenav;s&&s.open(n),t.preventDefault()}}},{key:"_startDrag",value:function(e){var n=e.targetTouches[0].clientX;this.isDragged=!0,this._startingXpos=n,this._xPos=this._startingXpos,this._time=Date.now(),this._width=this.el.getBoundingClientRect().width,this._overlay.style.display="block",this._initialScrollTop=this.isOpen?this.el.scrollTop:M.getDocumentScrollTop(),this._verticallyScrolling=!1,t.remove(this.el),t.remove(this._overlay)}},{key:"_dragMoveUpdate",value:function(e){var t=e.targetTouches[0].clientX,n=this.isOpen?this.el.scrollTop:M.getDocumentScrollTop();this.deltaX=Math.abs(this._xPos-t),this._xPos=t,this.velocityX=this.deltaX/(Date.now()-this._time),this._time=Date.now(),this._initialScrollTop!==n&&(this._verticallyScrolling=!0)}},{key:"_handleDragTargetDrag",value:function(e){if(this.options.draggable&&!this._isCurrentlyFixed()&&!this._verticallyScrolling){this.isDragged||this._startDrag(e),this._dragMoveUpdate(e);var t=this._xPos-this._startingXpos,n=t>0?"right":"left";t=Math.min(this._width,Math.abs(t)),this.options.edge===n&&(t=0);var i=t,s="translateX(-100%)";"right"===this.options.edge&&(s="translateX(100%)",i=-i),this.percentOpen=Math.min(1,t/this._width),this.el.style.transform=s+" translateX("+i+"px)",this._overlay.style.opacity=this.percentOpen}}},{key:"_handleDragTargetRelease",value:function(){this.isDragged&&(this.percentOpen>.2?this.open():this._animateOut(),this.isDragged=!1,this._verticallyScrolling=!1)}},{key:"_handleCloseDrag",value:function(e){if(this.isOpen){if(!this.options.draggable||this._isCurrentlyFixed()||this._verticallyScrolling)return;this.isDragged||this._startDrag(e),this._dragMoveUpdate(e);var t=this._xPos-this._startingXpos,n=t>0?"right":"left";t=Math.min(this._width,Math.abs(t)),this.options.edge!==n&&(t=0);var i=-t;"right"===this.options.edge&&(i=-i),this.percentOpen=Math.min(1,1-t/this._width),this.el.style.transform="translateX("+i+"px)",this._overlay.style.opacity=this.percentOpen}}},{key:"_handleCloseRelease",value:function(){this.isOpen&&this.isDragged&&(this.percentOpen>.8?this._animateIn():this.close(),this.isDragged=!1,this._verticallyScrolling=!1)}},{key:"_handleCloseTriggerClick",value:function(t){e(t.target).closest(".sidenav-close").length&&!this._isCurrentlyFixed()&&this.close()}},{key:"_handleWindowResize",value:function(){this.lastWindowWidth!==window.innerWidth&&(window.innerWidth>992?this.open():this.close()),this.lastWindowWidth=window.innerWidth,this.lastWindowHeight=window.innerHeight}},{key:"_setupClasses",value:function(){"right"===this.options.edge&&(this.el.classList.add("right-aligned"),this.dragTarget.classList.add("right-aligned"))}},{key:"_removeClasses",value:function(){this.el.classList.remove("right-aligned"),this.dragTarget.classList.remove("right-aligned")}},{key:"_setupFixed",value:function(){this._isCurrentlyFixed()&&this.open()}},{key:"_isCurrentlyFixed",value:function(){return this.isFixed&&window.innerWidth>992}},{key:"_createDragTarget",value:function(){var e=document.createElement("div");e.classList.add("drag-target"),document.body.appendChild(e),this.dragTarget=e}},{key:"_preventBodyScrolling",value:function(){document.body.style.overflow="hidden"}},{key:"_enableBodyScrolling",value:function(){document.body.style.overflow=""}},{key:"open",value:function(){!0!==this.isOpen&&(this.isOpen=!0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this._isCurrentlyFixed()?(t.remove(this.el),t({targets:this.el,translateX:0,duration:0,easing:"easeOutQuad"}),this._enableBodyScrolling(),this._overlay.style.display="none"):(this.options.preventScrolling&&this._preventBodyScrolling(),this.isDragged&&1==this.percentOpen||this._animateIn()))}},{key:"close",value:function(){if(!1!==this.isOpen)if(this.isOpen=!1,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this._isCurrentlyFixed()){var e="left"===this.options.edge?"-105%":"105%";this.el.style.transform="translateX("+e+")"}else this._enableBodyScrolling(),this.isDragged&&0==this.percentOpen?this._overlay.style.display="none":this._animateOut()}},{key:"_animateIn",value:function(){this._animateSidenavIn(),this._animateOverlayIn()}},{key:"_animateSidenavIn",value:function(){var e=this,n="left"===this.options.edge?-1:1;this.isDragged&&(n="left"===this.options.edge?n+this.percentOpen:n-this.percentOpen),t.remove(this.el),t({targets:this.el,translateX:[100*n+"%",0],duration:this.options.inDuration,easing:"easeOutQuad",complete:function(){"function"==typeof e.options.onOpenEnd&&e.options.onOpenEnd.call(e,e.el)}})}},{key:"_animateOverlayIn",value:function(){var n=0;this.isDragged?n=this.percentOpen:e(this._overlay).css({display:"block"}),t.remove(this._overlay),t({targets:this._overlay,opacity:[n,1],duration:this.options.inDuration,easing:"easeOutQuad"})}},{key:"_animateOut",value:function(){this._animateSidenavOut(),this._animateOverlayOut()}},{key:"_animateSidenavOut",value:function(){var e=this,n="left"===this.options.edge?-1:1,i=0;this.isDragged&&(i="left"===this.options.edge?n+this.percentOpen:n-this.percentOpen),t.remove(this.el),t({targets:this.el,translateX:[100*i+"%",105*n+"%"],duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){"function"==typeof e.options.onCloseEnd&&e.options.onCloseEnd.call(e,e.el)}})}},{key:"_animateOverlayOut",value:function(){var n=this;t.remove(this._overlay),t({targets:this._overlay,opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){e(n._overlay).css("display","none")}})}}],[{key:"init",value:function(e,t){return i(u.__proto__||Object.getPrototypeOf(u),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Sidenav}},{key:"defaults",get:function(){return n}}]),u}(l);u._sidenavs=[],M.Sidenav=u,M.jQueryLoaded&&M.initializeJqueryWrapper(u,"sidenav","M_Sidenav")}(cash,M.anime),function(e,t){"use strict";var n={throttle:100,scrollOffset:200,activeClass:"active",getActiveElement:function(e){return'a[href="#'+e+'"]'}},u=function(l){function u(t,n){a(this,u);var i=o(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,u,t,n));return i.el.M_ScrollSpy=i,i.options=e.extend({},u.defaults,n),u._elements.push(i),u._count++,u._increment++,i.tickId=-1,i.id=u._increment,i._setupEventHandlers(),i._handleWindowScroll(),i}return r(u,l),s(u,[{key:"destroy",value:function(){u._elements.splice(u._elements.indexOf(this),1),u._elementsInView.splice(u._elementsInView.indexOf(this),1),u._visibleElements.splice(u._visibleElements.indexOf(this.$el),1),u._count--,this._removeEventHandlers(),e(this.options.getActiveElement(this.$el.attr("id"))).removeClass(this.options.activeClass),this.el.M_ScrollSpy=void 0}},{key:"_setupEventHandlers",value:function(){var e=M.throttle(this._handleWindowScroll,200);this._handleThrottledResizeBound=e.bind(this),this._handleWindowScrollBound=this._handleWindowScroll.bind(this),1===u._count&&(window.addEventListener("scroll",this._handleWindowScrollBound),window.addEventListener("resize",this._handleThrottledResizeBound),document.body.addEventListener("click",this._handleTriggerClick))}},{key:"_removeEventHandlers",value:function(){0===u._count&&(window.removeEventListener("scroll",this._handleWindowScrollBound),window.removeEventListener("resize",this._handleThrottledResizeBound),document.body.removeEventListener("click",this._handleTriggerClick))}},{key:"_handleTriggerClick",value:function(n){for(var i=e(n.target),s=u._elements.length-1;s>=0;s--){var o=u._elements[s];if(i.is('a[href="#'+o.$el.attr("id")+'"]')){n.preventDefault();var r=o.$el.offset().top+1;t({targets:[document.documentElement,document.body],scrollTop:r-o.options.scrollOffset,duration:400,easing:"easeOutCubic"});break}}}},{key:"_handleWindowScroll",value:function(){u._ticks++;for(var e=M.getDocumentScrollTop(),t=M.getDocumentScrollLeft(),n=t+window.innerWidth,i=e+window.innerHeight,s=u._findElements(e,n,i,t),o=0;o<s.length;o++){var r=s[o];r.tickId<0&&r._enter(),r.tickId=u._ticks}for(var a=0;a<u._elementsInView.length;a++){var l=u._elementsInView[a],c=l.tickId;c>=0&&c!==u._ticks&&(l._exit(),l.tickId=-1)}u._elementsInView=s}},{key:"_enter",value:function(){u._visibleElements=u._visibleElements.filter((function(e){return 0!=e.height()})),u._visibleElements[0]?(e(this.options.getActiveElement(u._visibleElements[0].attr("id"))).removeClass(this.options.activeClass),u._visibleElements[0][0].M_ScrollSpy&&this.id<u._visibleElements[0][0].M_ScrollSpy.id?u._visibleElements.unshift(this.$el):u._visibleElements.push(this.$el)):u._visibleElements.push(this.$el),e(this.options.getActiveElement(u._visibleElements[0].attr("id"))).addClass(this.options.activeClass)}},{key:"_exit",value:function(){var t=this;u._visibleElements=u._visibleElements.filter((function(e){return 0!=e.height()})),u._visibleElements[0]&&(e(this.options.getActiveElement(u._visibleElements[0].attr("id"))).removeClass(this.options.activeClass),u._visibleElements=u._visibleElements.filter((function(e){return e.attr("id")!=t.$el.attr("id")})),u._visibleElements[0]&&e(this.options.getActiveElement(u._visibleElements[0].attr("id"))).addClass(this.options.activeClass))}}],[{key:"init",value:function(e,t){return i(u.__proto__||Object.getPrototypeOf(u),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_ScrollSpy}},{key:"_findElements",value:function(e,t,n,i){for(var s=[],o=0;o<u._elements.length;o++){var r=u._elements[o],a=e+r.options.scrollOffset||200;if(r.$el.height()>0){var l=r.$el.offset().top,c=r.$el.offset().left,d=c+r.$el.width(),h=l+r.$el.height();!(c>t||d<i||l>n||h<a)&&s.push(r)}}return s}},{key:"defaults",get:function(){return n}}]),u}(l);u._elements=[],u._elementsInView=[],u._visibleElements=[],u._count=0,u._increment=0,u._ticks=0,M.ScrollSpy=u,M.jQueryLoaded&&M.initializeJqueryWrapper(u,"scrollSpy","M_ScrollSpy")}(cash,M.anime),function(e){"use strict";var t={data:{},limit:1/0,onAutocomplete:null,minLength:1,sortFunction:function(e,t,n){return e.indexOf(n)-t.indexOf(n)}},n=function(n){function l(t,n){a(this,l);var i=o(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,n));return i.el.M_Autocomplete=i,i.options=e.extend({},l.defaults,n),i.isOpen=!1,i.count=0,i.activeIndex=-1,i.oldVal,i.$inputField=i.$el.closest(".input-field"),i.$active=e(),i._mousedown=!1,i._setupDropdown(),i._setupEventHandlers(),i}return r(l,n),s(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeDropdown(),this.el.M_Autocomplete=void 0}},{key:"_setupEventHandlers",value:function(){this._handleInputBlurBound=this._handleInputBlur.bind(this),this._handleInputKeyupAndFocusBound=this._handleInputKeyupAndFocus.bind(this),this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleContainerMousedownAndTouchstartBound=this._handleContainerMousedownAndTouchstart.bind(this),this._handleContainerMouseupAndTouchendBound=this._handleContainerMouseupAndTouchend.bind(this),this.el.addEventListener("blur",this._handleInputBlurBound),this.el.addEventListener("keyup",this._handleInputKeyupAndFocusBound),this.el.addEventListener("focus",this._handleInputKeyupAndFocusBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.el.addEventListener("click",this._handleInputClickBound),this.container.addEventListener("mousedown",this._handleContainerMousedownAndTouchstartBound),this.container.addEventListener("mouseup",this._handleContainerMouseupAndTouchendBound),void 0!==window.ontouchstart&&(this.container.addEventListener("touchstart",this._handleContainerMousedownAndTouchstartBound),this.container.addEventListener("touchend",this._handleContainerMouseupAndTouchendBound))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("blur",this._handleInputBlurBound),this.el.removeEventListener("keyup",this._handleInputKeyupAndFocusBound),this.el.removeEventListener("focus",this._handleInputKeyupAndFocusBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound),this.el.removeEventListener("click",this._handleInputClickBound),this.container.removeEventListener("mousedown",this._handleContainerMousedownAndTouchstartBound),this.container.removeEventListener("mouseup",this._handleContainerMouseupAndTouchendBound),void 0!==window.ontouchstart&&(this.container.removeEventListener("touchstart",this._handleContainerMousedownAndTouchstartBound),this.container.removeEventListener("touchend",this._handleContainerMouseupAndTouchendBound))}},{key:"_setupDropdown",value:function(){var t=this;this.container=document.createElement("ul"),this.container.id="autocomplete-options-"+M.guid(),e(this.container).addClass("autocomplete-content dropdown-content"),this.$inputField.append(this.container),this.el.setAttribute("data-target",this.container.id),this.dropdown=M.Dropdown.init(this.el,{autoFocus:!1,closeOnClick:!1,coverTrigger:!1,onItemClick:function(n){t.selectOption(e(n))}}),this.el.removeEventListener("click",this.dropdown._handleClickBound)}},{key:"_removeDropdown",value:function(){this.container.parentNode.removeChild(this.container)}},{key:"_handleInputBlur",value:function(){this._mousedown||(this.close(),this._resetAutocomplete())}},{key:"_handleInputKeyupAndFocus",value:function(e){"keyup"===e.type&&(l._keydown=!1),this.count=0;var t=this.el.value.toLowerCase();13!==e.keyCode&&38!==e.keyCode&&40!==e.keyCode&&(this.oldVal===t||!M.tabPressed&&"focus"===e.type||this.open(),this.oldVal=t)}},{key:"_handleInputKeydown",value:function(t){l._keydown=!0;var n=t.keyCode,i=void 0,s=e(this.container).children("li").length;n===M.keys.ENTER&&this.activeIndex>=0?(i=e(this.container).children("li").eq(this.activeIndex)).length&&(this.selectOption(i),t.preventDefault()):n!==M.keys.ARROW_UP&&n!==M.keys.ARROW_DOWN||(t.preventDefault(),n===M.keys.ARROW_UP&&this.activeIndex>0&&this.activeIndex--,n===M.keys.ARROW_DOWN&&this.activeIndex<s-1&&this.activeIndex++,this.$active.removeClass("active"),this.activeIndex>=0&&(this.$active=e(this.container).children("li").eq(this.activeIndex),this.$active.addClass("active")))}},{key:"_handleInputClick",value:function(e){this.open()}},{key:"_handleContainerMousedownAndTouchstart",value:function(e){this._mousedown=!0}},{key:"_handleContainerMouseupAndTouchend",value:function(e){this._mousedown=!1}},{key:"_highlight",value:function(e,t){var n=t.find("img"),i=t.text().toLowerCase().indexOf(""+e.toLowerCase()),s=i+e.length-1,o=t.text().slice(0,i),r=t.text().slice(i,s+1),a=t.text().slice(s+1);t.html("<span>"+o+"<span class='highlight'>"+r+"</span>"+a+"</span>"),n.length&&t.prepend(n)}},{key:"_resetCurrentElement",value:function(){this.activeIndex=-1,this.$active.removeClass("active")}},{key:"_resetAutocomplete",value:function(){e(this.container).empty(),this._resetCurrentElement(),this.oldVal=null,this.isOpen=!1,this._mousedown=!1}},{key:"selectOption",value:function(e){var t=e.text().trim();this.el.value=t,this.$el.trigger("change"),this._resetAutocomplete(),this.close(),"function"==typeof this.options.onAutocomplete&&this.options.onAutocomplete.call(this,t)}},{key:"_renderDropdown",value:function(t,n){var i=this;this._resetAutocomplete();var s=[];for(var o in t)if(t.hasOwnProperty(o)&&-1!==o.toLowerCase().indexOf(n)){if(this.count>=this.options.limit)break;var r={data:t[o],key:o};s.push(r),this.count++}this.options.sortFunction&&s.sort((function(e,t){return i.options.sortFunction(e.key.toLowerCase(),t.key.toLowerCase(),n.toLowerCase())}));for(var a=0;a<s.length;a++){var l=s[a],u=e("<li></li>");l.data?u.append('<img src="'+l.data+'" class="right circle"><span>'+l.key+"</span>"):u.append("<span>"+l.key+"</span>"),e(this.container).append(u),this._highlight(n,u)}}},{key:"open",value:function(){var e=this.el.value.toLowerCase();this._resetAutocomplete(),e.length>=this.options.minLength&&(this.isOpen=!0,this._renderDropdown(this.options.data,e)),this.dropdown.isOpen?this.dropdown.recalculateDimensions():this.dropdown.open()}},{key:"close",value:function(){this.dropdown.close()}},{key:"updateData",value:function(e){var t=this.el.value.toLowerCase();this.options.data=e,this.isOpen&&this._renderDropdown(e,t)}}],[{key:"init",value:function(e,t){return i(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Autocomplete}},{key:"defaults",get:function(){return t}}]),l}(l);n._keydown=!1,M.Autocomplete=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"autocomplete","M_Autocomplete")}(cash),function(e){M.updateTextFields=function(){e("input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], input[type=date], input[type=time], textarea").each((function(t,n){var i=e(this);t.value.length>0||e(t).is(":focus")||t.autofocus||null!==i.attr("placeholder")?i.siblings("label").addClass("active"):t.validity?i.siblings("label").toggleClass("active",!0===t.validity.badInput):i.siblings("label").removeClass("active")}))},M.validate_field=function(e){var t=null!==e.attr("data-length"),n=parseInt(e.attr("data-length")),i=e[0].value.length;0!==i||!1!==e[0].validity.badInput||e.is(":required")?e.hasClass("validate")&&(e.is(":valid")&&t&&i<=n||e.is(":valid")&&!t?(e.removeClass("invalid"),e.addClass("valid")):(e.removeClass("valid"),e.addClass("invalid"))):e.hasClass("validate")&&(e.removeClass("valid"),e.removeClass("invalid"))},M.textareaAutoResize=function(t){if(t instanceof Element&&(t=e(t)),t.length){var n=e(".hiddendiv").first();n.length||(n=e('<div class="hiddendiv common"></div>'),e("body").append(n));var i=t.css("font-family"),s=t.css("font-size"),o=t.css("line-height"),r=t.css("padding-top"),a=t.css("padding-right"),l=t.css("padding-bottom"),u=t.css("padding-left");s&&n.css("font-size",s),i&&n.css("font-family",i),o&&n.css("line-height",o),r&&n.css("padding-top",r),a&&n.css("padding-right",a),l&&n.css("padding-bottom",l),u&&n.css("padding-left",u),t.data("original-height")||t.data("original-height",t.height()),"off"===t.attr("wrap")&&n.css("overflow-wrap","normal").css("white-space","pre"),n.text(t[0].value+"\n");var c=n.html().replace(/\n/g,"<br>");n.html(c),t[0].offsetWidth>0&&t[0].offsetHeight>0?n.css("width",t.width()+"px"):n.css("width",window.innerWidth/2+"px"),t.data("original-height")<=n.innerHeight()?t.css("height",n.innerHeight()+"px"):t[0].value.length<t.data("previous-length")&&t.css("height",t.data("original-height")+"px"),t.data("previous-length",t[0].value.length)}else console.error("No textarea element found")},e(document).ready((function(){var t="input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], input[type=date], input[type=time], textarea";e(document).on("change",t,(function(){0===this.value.length&&null===e(this).attr("placeholder")||e(this).siblings("label").addClass("active"),M.validate_field(e(this))})),e(document).ready((function(){M.updateTextFields()})),e(document).on("reset",(function(n){var i=e(n.target);i.is("form")&&(i.find(t).removeClass("valid").removeClass("invalid"),i.find(t).each((function(t){this.value.length&&e(this).siblings("label").removeClass("active")})),setTimeout((function(){i.find("select").each((function(){this.M_FormSelect&&e(this).trigger("change")}))}),0))})),document.addEventListener("focus",(function(n){e(n.target).is(t)&&e(n.target).siblings("label, .prefix").addClass("active")}),!0),document.addEventListener("blur",(function(n){var i=e(n.target);if(i.is(t)){var s=".prefix";0===i[0].value.length&&!0!==i[0].validity.badInput&&null===i.attr("placeholder")&&(s+=", label"),i.siblings(s).removeClass("active"),M.validate_field(i)}}),!0),e(document).on("keyup","input[type=radio], input[type=checkbox]",(function(t){if(t.which===M.keys.TAB)return e(this).addClass("tabbed"),void e(this).one("blur",(function(t){e(this).removeClass("tabbed")}))}));var n=".materialize-textarea";e(n).each((function(){var t=e(this);t.data("original-height",t.height()),t.data("previous-length",this.value.length),M.textareaAutoResize(t)})),e(document).on("keyup",n,(function(){M.textareaAutoResize(e(this))})),e(document).on("keydown",n,(function(){M.textareaAutoResize(e(this))})),e(document).on("change",'.file-field input[type="file"]',(function(){for(var t=e(this).closest(".file-field").find("input.file-path"),n=e(this)[0].files,i=[],s=0;s<n.length;s++)i.push(n[s].name);t[0].value=i.join(", "),t.trigger("change")}))}))}(cash),function(e,t){"use strict";var n={indicators:!0,height:400,duration:500,interval:6e3},u=function(l){function u(n,i){a(this,u);var s=o(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,u,n,i));return s.el.M_Slider=s,s.options=e.extend({},u.defaults,i),s.$slider=s.$el.find(".slides"),s.$slides=s.$slider.children("li"),s.activeIndex=s.$slides.filter((function(t){return e(t).hasClass("active")})).first().index(),-1!=s.activeIndex&&(s.$active=s.$slides.eq(s.activeIndex)),s._setSliderHeight(),s.$slides.find(".caption").each((function(e){s._animateCaptionIn(e,0)})),s.$slides.find("img").each((function(t){var n="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";e(t).attr("src")!==n&&(e(t).css("background-image",'url("'+e(t).attr("src")+'")'),e(t).attr("src",n))})),s._setupIndicators(),s.$active?s.$active.css("display","block"):(s.$slides.first().addClass("active"),t({targets:s.$slides.first()[0],opacity:1,duration:s.options.duration,easing:"easeOutQuad"}),s.activeIndex=0,s.$active=s.$slides.eq(s.activeIndex),s.options.indicators&&s.$indicators.eq(s.activeIndex).addClass("active")),s.$active.find("img").each((function(e){t({targets:s.$active.find(".caption")[0],opacity:1,translateX:0,translateY:0,duration:s.options.duration,easing:"easeOutQuad"})})),s._setupEventHandlers(),s.start(),s}return r(u,l),s(u,[{key:"destroy",value:function(){this.pause(),this._removeIndicators(),this._removeEventHandlers(),this.el.M_Slider=void 0}},{key:"_setupEventHandlers",value:function(){var e=this;this._handleIntervalBound=this._handleInterval.bind(this),this._handleIndicatorClickBound=this._handleIndicatorClick.bind(this),this.options.indicators&&this.$indicators.each((function(t){t.addEventListener("click",e._handleIndicatorClickBound)}))}},{key:"_removeEventHandlers",value:function(){var e=this;this.options.indicators&&this.$indicators.each((function(t){t.removeEventListener("click",e._handleIndicatorClickBound)}))}},{key:"_handleIndicatorClick",value:function(t){var n=e(t.target).index();this.set(n)}},{key:"_handleInterval",value:function(){var e=this.$slider.find(".active").index();this.$slides.length===e+1?e=0:e+=1,this.set(e)}},{key:"_animateCaptionIn",value:function(n,i){var s={targets:n,opacity:0,duration:i,easing:"easeOutQuad"};e(n).hasClass("center-align")?s.translateY=-100:e(n).hasClass("right-align")?s.translateX=100:e(n).hasClass("left-align")&&(s.translateX=-100),t(s)}},{key:"_setSliderHeight",value:function(){this.$el.hasClass("fullscreen")||(this.options.indicators?this.$el.css("height",this.options.height+40+"px"):this.$el.css("height",this.options.height+"px"),this.$slider.css("height",this.options.height+"px"))}},{key:"_setupIndicators",value:function(){var t=this;this.options.indicators&&(this.$indicators=e('<ul class="indicators"></ul>'),this.$slides.each((function(n,i){var s=e('<li class="indicator-item"></li>');t.$indicators.append(s[0])})),this.$el.append(this.$indicators[0]),this.$indicators=this.$indicators.children("li.indicator-item"))}},{key:"_removeIndicators",value:function(){this.$el.find("ul.indicators").remove()}},{key:"set",value:function(e){var n=this;if(e>=this.$slides.length?e=0:e<0&&(e=this.$slides.length-1),this.activeIndex!=e){this.$active=this.$slides.eq(this.activeIndex);var i=this.$active.find(".caption");this.$active.removeClass("active"),t({targets:this.$active[0],opacity:0,duration:this.options.duration,easing:"easeOutQuad",complete:function(){n.$slides.not(".active").each((function(e){t({targets:e,opacity:0,translateX:0,translateY:0,duration:0,easing:"easeOutQuad"})}))}}),this._animateCaptionIn(i[0],this.options.duration),this.options.indicators&&(this.$indicators.eq(this.activeIndex).removeClass("active"),this.$indicators.eq(e).addClass("active")),t({targets:this.$slides.eq(e)[0],opacity:1,duration:this.options.duration,easing:"easeOutQuad"}),t({targets:this.$slides.eq(e).find(".caption")[0],opacity:1,translateX:0,translateY:0,duration:this.options.duration,delay:this.options.duration,easing:"easeOutQuad"}),this.$slides.eq(e).addClass("active"),this.activeIndex=e,this.start()}}},{key:"pause",value:function(){clearInterval(this.interval)}},{key:"start",value:function(){clearInterval(this.interval),this.interval=setInterval(this._handleIntervalBound,this.options.duration+this.options.interval)}},{key:"next",value:function(){var e=this.activeIndex+1;e>=this.$slides.length?e=0:e<0&&(e=this.$slides.length-1),this.set(e)}},{key:"prev",value:function(){var e=this.activeIndex-1;e>=this.$slides.length?e=0:e<0&&(e=this.$slides.length-1),this.set(e)}}],[{key:"init",value:function(e,t){return i(u.__proto__||Object.getPrototypeOf(u),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Slider}},{key:"defaults",get:function(){return n}}]),u}(l);M.Slider=u,M.jQueryLoaded&&M.initializeJqueryWrapper(u,"slider","M_Slider")}(cash,M.anime),function(e,t){e(document).on("click",".card",(function(n){if(e(this).children(".card-reveal").length){var i=e(n.target).closest(".card");void 0===i.data("initialOverflow")&&i.data("initialOverflow",void 0===i.css("overflow")?"":i.css("overflow"));var s=e(this).find(".card-reveal");e(n.target).is(e(".card-reveal .card-title"))||e(n.target).is(e(".card-reveal .card-title i"))?t({targets:s[0],translateY:0,duration:225,easing:"easeInOutQuad",complete:function(t){var n=t.animatables[0].target;e(n).css({display:"none"}),i.css("overflow",i.data("initialOverflow"))}}):(e(n.target).is(e(".card .activator"))||e(n.target).is(e(".card .activator i")))&&(i.css("overflow","hidden"),s.css({display:"block"}),t({targets:s[0],translateY:"-100%",duration:300,easing:"easeInOutQuad"}))}}))}(cash,M.anime),function(e){"use strict";var t={data:[],placeholder:"",secondaryPlaceholder:"",autocompleteOptions:{},limit:1/0,onChipAdd:null,onChipSelect:null,onChipDelete:null},n=function(n){function l(t,n){a(this,l);var i=o(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,n));return i.el.M_Chips=i,i.options=e.extend({},l.defaults,n),i.$el.addClass("chips input-field"),i.chipsData=[],i.$chips=e(),i._setupInput(),i.hasAutocomplete=Object.keys(i.options.autocompleteOptions).length>0,i.$input.attr("id")||i.$input.attr("id",M.guid()),i.options.data.length&&(i.chipsData=i.options.data,i._renderChips(i.chipsData)),i.hasAutocomplete&&i._setupAutocomplete(),i._setPlaceholder(),i._setupLabel(),i._setupEventHandlers(),i}return r(l,n),s(l,[{key:"getData",value:function(){return this.chipsData}},{key:"destroy",value:function(){this._removeEventHandlers(),this.$chips.remove(),this.el.M_Chips=void 0}},{key:"_setupEventHandlers",value:function(){this._handleChipClickBound=this._handleChipClick.bind(this),this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputFocusBound=this._handleInputFocus.bind(this),this._handleInputBlurBound=this._handleInputBlur.bind(this),this.el.addEventListener("click",this._handleChipClickBound),document.addEventListener("keydown",l._handleChipsKeydown),document.addEventListener("keyup",l._handleChipsKeyup),this.el.addEventListener("blur",l._handleChipsBlur,!0),this.$input[0].addEventListener("focus",this._handleInputFocusBound),this.$input[0].addEventListener("blur",this._handleInputBlurBound),this.$input[0].addEventListener("keydown",this._handleInputKeydownBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleChipClickBound),document.removeEventListener("keydown",l._handleChipsKeydown),document.removeEventListener("keyup",l._handleChipsKeyup),this.el.removeEventListener("blur",l._handleChipsBlur,!0),this.$input[0].removeEventListener("focus",this._handleInputFocusBound),this.$input[0].removeEventListener("blur",this._handleInputBlurBound),this.$input[0].removeEventListener("keydown",this._handleInputKeydownBound)}},{key:"_handleChipClick",value:function(t){var n=e(t.target).closest(".chip"),i=e(t.target).is(".close");if(n.length){var s=n.index();i?(this.deleteChip(s),this.$input[0].focus()):this.selectChip(s)}else this.$input[0].focus()}},{key:"_handleInputFocus",value:function(){this.$el.addClass("focus")}},{key:"_handleInputBlur",value:function(){this.$el.removeClass("focus")}},{key:"_handleInputKeydown",value:function(e){if(l._keydown=!0,13===e.keyCode){if(this.hasAutocomplete&&this.autocomplete&&this.autocomplete.isOpen)return;e.preventDefault(),this.addChip({tag:this.$input[0].value}),this.$input[0].value=""}else 8!==e.keyCode&&37!==e.keyCode||""!==this.$input[0].value||!this.chipsData.length||(e.preventDefault(),this.selectChip(this.chipsData.length-1))}},{key:"_renderChip",value:function(t){if(t.tag){var n=document.createElement("div"),i=document.createElement("i");if(n.classList.add("chip"),n.textContent=t.tag,n.setAttribute("tabindex",0),e(i).addClass("material-icons close"),i.textContent="close",t.image){var s=document.createElement("img");s.setAttribute("src",t.image),n.insertBefore(s,n.firstChild)}return n.appendChild(i),n}}},{key:"_renderChips",value:function(){this.$chips.remove();for(var e=0;e<this.chipsData.length;e++){var t=this._renderChip(this.chipsData[e]);this.$el.append(t),this.$chips.add(t)}this.$el.append(this.$input[0])}},{key:"_setupAutocomplete",value:function(){var e=this;this.options.autocompleteOptions.onAutocomplete=function(t){e.addChip({tag:t}),e.$input[0].value="",e.$input[0].focus()},this.autocomplete=M.Autocomplete.init(this.$input[0],this.options.autocompleteOptions)}},{key:"_setupInput",value:function(){this.$input=this.$el.find("input"),this.$input.length||(this.$input=e("<input></input>"),this.$el.append(this.$input)),this.$input.addClass("input")}},{key:"_setupLabel",value:function(){this.$label=this.$el.find("label"),this.$label.length&&this.$label.setAttribute("for",this.$input.attr("id"))}},{key:"_setPlaceholder",value:function(){void 0!==this.chipsData&&!this.chipsData.length&&this.options.placeholder?e(this.$input).prop("placeholder",this.options.placeholder):(void 0===this.chipsData||this.chipsData.length)&&this.options.secondaryPlaceholder&&e(this.$input).prop("placeholder",this.options.secondaryPlaceholder)}},{key:"_isValid",value:function(e){if(e.hasOwnProperty("tag")&&""!==e.tag){for(var t=!1,n=0;n<this.chipsData.length;n++)if(this.chipsData[n].tag===e.tag){t=!0;break}return!t}return!1}},{key:"addChip",value:function(t){if(this._isValid(t)&&!(this.chipsData.length>=this.options.limit)){var n=this._renderChip(t);this.$chips.add(n),this.chipsData.push(t),e(this.$input).before(n),this._setPlaceholder(),"function"==typeof this.options.onChipAdd&&this.options.onChipAdd.call(this,this.$el,n)}}},{key:"deleteChip",value:function(t){var n=this.$chips.eq(t);this.$chips.eq(t).remove(),this.$chips=this.$chips.filter((function(t){return e(t).index()>=0})),this.chipsData.splice(t,1),this._setPlaceholder(),"function"==typeof this.options.onChipDelete&&this.options.onChipDelete.call(this,this.$el,n[0])}},{key:"selectChip",value:function(e){var t=this.$chips.eq(e);this._selectedChip=t,t[0].focus(),"function"==typeof this.options.onChipSelect&&this.options.onChipSelect.call(this,this.$el,t[0])}}],[{key:"init",value:function(e,t){return i(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Chips}},{key:"_handleChipsKeydown",value:function(t){l._keydown=!0;var n=e(t.target).closest(".chips"),i=t.target&&n.length;if(!e(t.target).is("input, textarea")&&i){var s=n[0].M_Chips;if(8===t.keyCode||46===t.keyCode){t.preventDefault();var o=s.chipsData.length;if(s._selectedChip){var r=s._selectedChip.index();s.deleteChip(r),s._selectedChip=null,o=Math.max(r-1,0)}s.chipsData.length&&s.selectChip(o)}else if(37===t.keyCode){if(s._selectedChip){var a=s._selectedChip.index()-1;if(a<0)return;s.selectChip(a)}}else if(39===t.keyCode&&s._selectedChip){var u=s._selectedChip.index()+1;u>=s.chipsData.length?s.$input[0].focus():s.selectChip(u)}}}},{key:"_handleChipsKeyup",value:function(e){l._keydown=!1}},{key:"_handleChipsBlur",value:function(t){l._keydown||(e(t.target).closest(".chips")[0].M_Chips._selectedChip=null)}},{key:"defaults",get:function(){return t}}]),l}(l);n._keydown=!1,M.Chips=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"chips","M_Chips"),e(document).ready((function(){e(document.body).on("click",".chip .close",(function(){var t=e(this).closest(".chips");t.length&&t[0].M_Chips||e(this).closest(".chip").remove()}))}))}(cash),function(e){"use strict";var t={top:0,bottom:1/0,offset:0,onPositionChange:null},n=function(n){function l(t,n){a(this,l);var i=o(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,n));return i.el.M_Pushpin=i,i.options=e.extend({},l.defaults,n),i.originalOffset=i.el.offsetTop,l._pushpins.push(i),i._setupEventHandlers(),i._updatePosition(),i}return r(l,n),s(l,[{key:"destroy",value:function(){this.el.style.top=null,this._removePinClasses(),this._removeEventHandlers();var e=l._pushpins.indexOf(this);l._pushpins.splice(e,1)}},{key:"_setupEventHandlers",value:function(){document.addEventListener("scroll",l._updateElements)}},{key:"_removeEventHandlers",value:function(){document.removeEventListener("scroll",l._updateElements)}},{key:"_updatePosition",value:function(){var e=M.getDocumentScrollTop()+this.options.offset;this.options.top<=e&&this.options.bottom>=e&&!this.el.classList.contains("pinned")&&(this._removePinClasses(),this.el.style.top=this.options.offset+"px",this.el.classList.add("pinned"),"function"==typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pinned")),e<this.options.top&&!this.el.classList.contains("pin-top")&&(this._removePinClasses(),this.el.style.top=0,this.el.classList.add("pin-top"),"function"==typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pin-top")),e>this.options.bottom&&!this.el.classList.contains("pin-bottom")&&(this._removePinClasses(),this.el.classList.add("pin-bottom"),this.el.style.top=this.options.bottom-this.originalOffset+"px","function"==typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pin-bottom"))}},{key:"_removePinClasses",value:function(){this.el.classList.remove("pin-top"),this.el.classList.remove("pinned"),this.el.classList.remove("pin-bottom")}}],[{key:"init",value:function(e,t){return i(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Pushpin}},{key:"_updateElements",value:function(){for(var e in l._pushpins)l._pushpins[e]._updatePosition()}},{key:"defaults",get:function(){return t}}]),l}(l);n._pushpins=[],M.Pushpin=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"pushpin","M_Pushpin")}(cash),function(e,t){"use strict";var n={direction:"top",hoverEnabled:!0,toolbarEnabled:!1};e.fn.reverse=[].reverse;var u=function(l){function u(t,n){a(this,u);var i=o(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,u,t,n));return i.el.M_FloatingActionButton=i,i.options=e.extend({},u.defaults,n),i.isOpen=!1,i.$anchor=i.$el.children("a").first(),i.$menu=i.$el.children("ul").first(),i.$floatingBtns=i.$el.find("ul .btn-floating"),i.$floatingBtnsReverse=i.$el.find("ul .btn-floating").reverse(),i.offsetY=0,i.offsetX=0,i.$el.addClass("direction-"+i.options.direction),"top"===i.options.direction?i.offsetY=40:"right"===i.options.direction?i.offsetX=-40:"bottom"===i.options.direction?i.offsetY=-40:i.offsetX=40,i._setupEventHandlers(),i}return r(u,l),s(u,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_FloatingActionButton=void 0}},{key:"_setupEventHandlers",value:function(){this._handleFABClickBound=this._handleFABClick.bind(this),this._handleOpenBound=this.open.bind(this),this._handleCloseBound=this.close.bind(this),this.options.hoverEnabled&&!this.options.toolbarEnabled?(this.el.addEventListener("mouseenter",this._handleOpenBound),this.el.addEventListener("mouseleave",this._handleCloseBound)):this.el.addEventListener("click",this._handleFABClickBound)}},{key:"_removeEventHandlers",value:function(){this.options.hoverEnabled&&!this.options.toolbarEnabled?(this.el.removeEventListener("mouseenter",this._handleOpenBound),this.el.removeEventListener("mouseleave",this._handleCloseBound)):this.el.removeEventListener("click",this._handleFABClickBound)}},{key:"_handleFABClick",value:function(){this.isOpen?this.close():this.open()}},{key:"_handleDocumentClick",value:function(t){e(t.target).closest(this.$menu).length||this.close()}},{key:"open",value:function(){this.isOpen||(this.options.toolbarEnabled?this._animateInToolbar():this._animateInFAB(),this.isOpen=!0)}},{key:"close",value:function(){this.isOpen&&(this.options.toolbarEnabled?(window.removeEventListener("scroll",this._handleCloseBound,!0),document.body.removeEventListener("click",this._handleDocumentClickBound,!0),this._animateOutToolbar()):this._animateOutFAB(),this.isOpen=!1)}},{key:"_animateInFAB",value:function(){var e=this;this.$el.addClass("active");var n=0;this.$floatingBtnsReverse.each((function(i){t({targets:i,opacity:1,scale:[.4,1],translateY:[e.offsetY,0],translateX:[e.offsetX,0],duration:275,delay:n,easing:"easeInOutQuad"}),n+=40}))}},{key:"_animateOutFAB",value:function(){var e=this;this.$floatingBtnsReverse.each((function(n){t.remove(n),t({targets:n,opacity:0,scale:.4,translateY:e.offsetY,translateX:e.offsetX,duration:175,easing:"easeOutQuad",complete:function(){e.$el.removeClass("active")}})}))}},{key:"_animateInToolbar",value:function(){var t,n=this,i=window.innerWidth,s=window.innerHeight,o=this.el.getBoundingClientRect(),r=e('<div class="fab-backdrop"></div>'),a=this.$anchor.css("background-color");this.$anchor.append(r),this.offsetX=o.left-i/2+o.width/2,this.offsetY=s-o.bottom,t=i/r[0].clientWidth,this.btnBottom=o.bottom,this.btnLeft=o.left,this.btnWidth=o.width,this.$el.addClass("active"),this.$el.css({"text-align":"center",width:"100%",bottom:0,left:0,transform:"translateX("+this.offsetX+"px)",transition:"none"}),this.$anchor.css({transform:"translateY("+-this.offsetY+"px)",transition:"none"}),r.css({"background-color":a}),setTimeout((function(){n.$el.css({transform:"",transition:"transform .2s cubic-bezier(0.550, 0.085, 0.680, 0.530), background-color 0s linear .2s"}),n.$anchor.css({overflow:"visible",transform:"",transition:"transform .2s"}),setTimeout((function(){n.$el.css({overflow:"hidden","background-color":a}),r.css({transform:"scale("+t+")",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"}),n.$menu.children("li").children("a").css({opacity:1}),n._handleDocumentClickBound=n._handleDocumentClick.bind(n),window.addEventListener("scroll",n._handleCloseBound,!0),document.body.addEventListener("click",n._handleDocumentClickBound,!0)}),100)}),0)}},{key:"_animateOutToolbar",value:function(){var e=this,t=window.innerWidth,n=window.innerHeight,i=this.$el.find(".fab-backdrop"),s=this.$anchor.css("background-color");this.offsetX=this.btnLeft-t/2+this.btnWidth/2,this.offsetY=n-this.btnBottom,this.$el.removeClass("active"),this.$el.css({"background-color":"transparent",transition:"none"}),this.$anchor.css({transition:"none"}),i.css({transform:"scale(0)","background-color":s}),this.$menu.children("li").children("a").css({opacity:""}),setTimeout((function(){i.remove(),e.$el.css({"text-align":"",width:"",bottom:"",left:"",overflow:"","background-color":"",transform:"translate3d("+-e.offsetX+"px,0,0)"}),e.$anchor.css({overflow:"",transform:"translate3d(0,"+e.offsetY+"px,0)"}),setTimeout((function(){e.$el.css({transform:"translate3d(0,0,0)",transition:"transform .2s"}),e.$anchor.css({transform:"translate3d(0,0,0)",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"})}),20)}),200)}}],[{key:"init",value:function(e,t){return i(u.__proto__||Object.getPrototypeOf(u),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_FloatingActionButton}},{key:"defaults",get:function(){return n}}]),u}(l);M.FloatingActionButton=u,M.jQueryLoaded&&M.initializeJqueryWrapper(u,"floatingActionButton","M_FloatingActionButton")}(cash,M.anime),function(e){"use strict";var t={autoClose:!1,format:"mmm dd, yyyy",parse:null,defaultDate:null,setDefaultDate:!1,disableWeekends:!1,disableDayFn:null,firstDay:0,minDate:null,maxDate:null,yearRange:10,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,container:null,showClearBtn:!1,i18n:{cancel:"Cancel",clear:"Clear",done:"Ok",previousMonth:"",nextMonth:"",months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysAbbrev:["S","M","T","W","T","F","S"]},events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null},n=function(n){function l(t,n){a(this,l);var i=o(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,n));i.el.M_Datepicker=i,i.options=e.extend({},l.defaults,n),n&&n.hasOwnProperty("i18n")&&"object"==typeof n.i18n&&(i.options.i18n=e.extend({},l.defaults.i18n,n.i18n)),i.options.minDate&&i.options.minDate.setHours(0,0,0,0),i.options.maxDate&&i.options.maxDate.setHours(0,0,0,0),i.id=M.guid(),i._setupVariables(),i._insertHTMLIntoDOM(),i._setupModal(),i._setupEventHandlers(),i.options.defaultDate||(i.options.defaultDate=new Date(Date.parse(i.el.value)));var s=i.options.defaultDate;return l._isDate(s)?i.options.setDefaultDate?(i.setDate(s,!0),i.setInputValue()):i.gotoDate(s):i.gotoDate(new Date),i.isOpen=!1,i}return r(l,n),s(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this.modal.destroy(),e(this.modalEl).remove(),this.destroySelects(),this.el.M_Datepicker=void 0}},{key:"destroySelects",value:function(){var e=this.calendarEl.querySelector(".orig-select-year");e&&M.FormSelect.getInstance(e).destroy();var t=this.calendarEl.querySelector(".orig-select-month");t&&M.FormSelect.getInstance(t).destroy()}},{key:"_insertHTMLIntoDOM",value:function(){this.options.showClearBtn&&(e(this.clearBtn).css({visibility:""}),this.clearBtn.innerHTML=this.options.i18n.clear),this.doneBtn.innerHTML=this.options.i18n.done,this.cancelBtn.innerHTML=this.options.i18n.cancel,this.options.container?this.$modalEl.appendTo(this.options.container):this.$modalEl.insertBefore(this.el)}},{key:"_setupModal",value:function(){var e=this;this.modalEl.id="modal-"+this.id,this.modal=M.Modal.init(this.modalEl,{onCloseEnd:function(){e.isOpen=!1}})}},{key:"toString",value:function(e){var t=this;return e=e||this.options.format,l._isDate(this.date)?e.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g).map((function(e){return t.formats[e]?t.formats[e]():e})).join(""):""}},{key:"setDate",value:function(e,t){if(!e)return this.date=null,this._renderDateDisplay(),this.draw();if("string"==typeof e&&(e=new Date(Date.parse(e))),l._isDate(e)){var n=this.options.minDate,i=this.options.maxDate;l._isDate(n)&&e<n?e=n:l._isDate(i)&&e>i&&(e=i),this.date=new Date(e.getTime()),this._renderDateDisplay(),l._setToStartOfDay(this.date),this.gotoDate(this.date),t||"function"!=typeof this.options.onSelect||this.options.onSelect.call(this,this.date)}}},{key:"setInputValue",value:function(){this.el.value=this.toString(),this.$el.trigger("change",{firedBy:this})}},{key:"_renderDateDisplay",value:function(){var e=l._isDate(this.date)?this.date:new Date,t=this.options.i18n,n=t.weekdaysShort[e.getDay()],i=t.monthsShort[e.getMonth()],s=e.getDate();this.yearTextEl.innerHTML=e.getFullYear(),this.dateTextEl.innerHTML=n+", "+i+" "+s}},{key:"gotoDate",value:function(e){var t=!0;if(l._isDate(e)){if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),i=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),s=e.getTime();i.setMonth(i.getMonth()+1),i.setDate(i.getDate()-1),t=s<n.getTime()||i.getTime()<s}t&&(this.calendars=[{month:e.getMonth(),year:e.getFullYear()}]),this.adjustCalendars()}}},{key:"adjustCalendars",value:function(){this.calendars[0]=this.adjustCalendar(this.calendars[0]),this.draw()}},{key:"adjustCalendar",value:function(e){return e.month<0&&(e.year-=Math.ceil(Math.abs(e.month)/12),e.month+=12),e.month>11&&(e.year+=Math.floor(Math.abs(e.month)/12),e.month-=12),e}},{key:"nextMonth",value:function(){this.calendars[0].month++,this.adjustCalendars()}},{key:"prevMonth",value:function(){this.calendars[0].month--,this.adjustCalendars()}},{key:"render",value:function(e,t,n){var i=this.options,s=new Date,o=l._getDaysInMonth(e,t),r=new Date(e,t,1).getDay(),a=[],u=[];l._setToStartOfDay(s),i.firstDay>0&&(r-=i.firstDay)<0&&(r+=7);for(var c=0===t?11:t-1,d=11===t?0:t+1,h=0===t?e-1:e,p=11===t?e+1:e,f=l._getDaysInMonth(h,c),m=o+r,v=m;v>7;)v-=7;m+=7-v;for(var g=!1,y=0,_=0;y<m;y++){var b=new Date(e,t,y-r+1),w=!!l._isDate(this.date)&&l._compareDates(b,this.date),k=l._compareDates(b,s),C=-1!==i.events.indexOf(b.toDateString()),E=y<r||y>=o+r,x=y-r+1,S=t,M=e,O=i.startRange&&l._compareDates(i.startRange,b),T=i.endRange&&l._compareDates(i.endRange,b),L=i.startRange&&i.endRange&&i.startRange<b&&b<i.endRange;E&&(y<r?(x=f+x,S=c,M=h):(x-=o,S=d,M=p));var D={day:x,month:S,year:M,hasEvent:C,isSelected:w,isToday:k,isDisabled:i.minDate&&b<i.minDate||i.maxDate&&b>i.maxDate||i.disableWeekends&&l._isWeekend(b)||i.disableDayFn&&i.disableDayFn(b),isEmpty:E,isStartRange:O,isEndRange:T,isInRange:L,showDaysInNextAndPreviousMonths:i.showDaysInNextAndPreviousMonths};u.push(this.renderDay(D)),7==++_&&(a.push(this.renderRow(u,i.isRTL,g)),u=[],_=0,g=!1)}return this.renderTable(i,a,n)}},{key:"renderDay",value:function(e){var t=[],n="false";if(e.isEmpty){if(!e.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';t.push("is-outside-current-month"),t.push("is-selection-disabled")}return e.isDisabled&&t.push("is-disabled"),e.isToday&&t.push("is-today"),e.isSelected&&(t.push("is-selected"),n="true"),e.hasEvent&&t.push("has-event"),e.isInRange&&t.push("is-inrange"),e.isStartRange&&t.push("is-startrange"),e.isEndRange&&t.push("is-endrange"),'<td data-day="'+e.day+'" class="'+t.join(" ")+'" aria-selected="'+n+'"><button class="datepicker-day-button" type="button" data-year="'+e.year+'" data-month="'+e.month+'" data-day="'+e.day+'">'+e.day+"</button></td>"}},{key:"renderRow",value:function(e,t,n){return'<tr class="datepicker-row'+(n?" is-selected":"")+'">'+(t?e.reverse():e).join("")+"</tr>"}},{key:"renderTable",value:function(e,t,n){return'<div class="datepicker-table-wrapper"><table cellpadding="0" cellspacing="0" class="datepicker-table" role="grid" aria-labelledby="'+n+'">'+this.renderHead(e)+this.renderBody(t)+"</table></div>"}},{key:"renderHead",value:function(e){var t=void 0,n=[];for(t=0;t<7;t++)n.push('<th scope="col"><abbr title="'+this.renderDayName(e,t)+'">'+this.renderDayName(e,t,!0)+"</abbr></th>");return"<thead><tr>"+(e.isRTL?n.reverse():n).join("")+"</tr></thead>"}},{key:"renderBody",value:function(e){return"<tbody>"+e.join("")+"</tbody>"}},{key:"renderTitle",value:function(t,n,i,s,o,r){var a,l,u=void 0,c=void 0,d=void 0,h=this.options,p=i===h.minYear,f=i===h.maxYear,m='<div id="'+r+'" class="datepicker-controls" role="heading" aria-live="assertive">',v=!0,g=!0;for(d=[],u=0;u<12;u++)d.push('<option value="'+(i===o?u-n:12+u-n)+'"'+(u===s?' selected="selected"':"")+(p&&u<h.minMonth||f&&u>h.maxMonth?'disabled="disabled"':"")+">"+h.i18n.months[u]+"</option>");for(a='<select class="datepicker-select orig-select-month" tabindex="-1">'+d.join("")+"</select>",e.isArray(h.yearRange)?(u=h.yearRange[0],c=h.yearRange[1]+1):(u=i-h.yearRange,c=1+i+h.yearRange),d=[];u<c&&u<=h.maxYear;u++)u>=h.minYear&&d.push('<option value="'+u+'" '+(u===i?'selected="selected"':"")+">"+u+"</option>");return l='<select class="datepicker-select orig-select-year" tabindex="-1">'+d.join("")+"</select>",m+='<button class="month-prev'+(v?"":" is-disabled")+'" type="button"><svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"/><path d="M0-.5h24v24H0z" fill="none"/></svg></button>',m+='<div class="selects-container">',h.showMonthAfterYear?m+=l+a:m+=a+l,m+="</div>",p&&(0===s||h.minMonth>=s)&&(v=!1),f&&(11===s||h.maxMonth<=s)&&(g=!1),(m+='<button class="month-next'+(g?"":" is-disabled")+'" type="button"><svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"/><path d="M0-.25h24v24H0z" fill="none"/></svg></button>')+"</div>"}},{key:"draw",value:function(e){if(this.isOpen||e){var t,n=this.options,i=n.minYear,s=n.maxYear,o=n.minMonth,r=n.maxMonth,a="";this._y<=i&&(this._y=i,!isNaN(o)&&this._m<o&&(this._m=o)),this._y>=s&&(this._y=s,!isNaN(r)&&this._m>r&&(this._m=r)),t="datepicker-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2);for(var l=0;l<1;l++)this._renderDateDisplay(),a+=this.renderTitle(this,l,this.calendars[l].year,this.calendars[l].month,this.calendars[0].year,t)+this.render(this.calendars[l].year,this.calendars[l].month,t);this.destroySelects(),this.calendarEl.innerHTML=a;var u=this.calendarEl.querySelector(".orig-select-year"),c=this.calendarEl.querySelector(".orig-select-month");M.FormSelect.init(u,{classes:"select-year",dropdownOptions:{container:document.body,constrainWidth:!1}}),M.FormSelect.init(c,{classes:"select-month",dropdownOptions:{container:document.body,constrainWidth:!1}}),u.addEventListener("change",this._handleYearChange.bind(this)),c.addEventListener("change",this._handleMonthChange.bind(this)),"function"==typeof this.options.onDraw&&this.options.onDraw(this)}}},{key:"_setupEventHandlers",value:function(){this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleInputChangeBound=this._handleInputChange.bind(this),this._handleCalendarClickBound=this._handleCalendarClick.bind(this),this._finishSelectionBound=this._finishSelection.bind(this),this._handleMonthChange=this._handleMonthChange.bind(this),this._closeBound=this.close.bind(this),this.el.addEventListener("click",this._handleInputClickBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.el.addEventListener("change",this._handleInputChangeBound),this.calendarEl.addEventListener("click",this._handleCalendarClickBound),this.doneBtn.addEventListener("click",this._finishSelectionBound),this.cancelBtn.addEventListener("click",this._closeBound),this.options.showClearBtn&&(this._handleClearClickBound=this._handleClearClick.bind(this),this.clearBtn.addEventListener("click",this._handleClearClickBound))}},{key:"_setupVariables",value:function(){var t=this;this.$modalEl=e(l._template),this.modalEl=this.$modalEl[0],this.calendarEl=this.modalEl.querySelector(".datepicker-calendar"),this.yearTextEl=this.modalEl.querySelector(".year-text"),this.dateTextEl=this.modalEl.querySelector(".date-text"),this.options.showClearBtn&&(this.clearBtn=this.modalEl.querySelector(".datepicker-clear")),this.doneBtn=this.modalEl.querySelector(".datepicker-done"),this.cancelBtn=this.modalEl.querySelector(".datepicker-cancel"),this.formats={d:function(){return t.date.getDate()},dd:function(){var e=t.date.getDate();return(e<10?"0":"")+e},ddd:function(){return t.options.i18n.weekdaysShort[t.date.getDay()]},dddd:function(){return t.options.i18n.weekdays[t.date.getDay()]},m:function(){return t.date.getMonth()+1},mm:function(){var e=t.date.getMonth()+1;return(e<10?"0":"")+e},mmm:function(){return t.options.i18n.monthsShort[t.date.getMonth()]},mmmm:function(){return t.options.i18n.months[t.date.getMonth()]},yy:function(){return(""+t.date.getFullYear()).slice(2)},yyyy:function(){return t.date.getFullYear()}}}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleInputClickBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound),this.el.removeEventListener("change",this._handleInputChangeBound),this.calendarEl.removeEventListener("click",this._handleCalendarClickBound)}},{key:"_handleInputClick",value:function(){this.open()}},{key:"_handleInputKeydown",value:function(e){e.which===M.keys.ENTER&&(e.preventDefault(),this.open())}},{key:"_handleCalendarClick",value:function(t){if(this.isOpen){var n=e(t.target);n.hasClass("is-disabled")||(!n.hasClass("datepicker-day-button")||n.hasClass("is-empty")||n.parent().hasClass("is-disabled")?n.closest(".month-prev").length?this.prevMonth():n.closest(".month-next").length&&this.nextMonth():(this.setDate(new Date(t.target.getAttribute("data-year"),t.target.getAttribute("data-month"),t.target.getAttribute("data-day"))),this.options.autoClose&&this._finishSelection()))}}},{key:"_handleClearClick",value:function(){this.date=null,this.setInputValue(),this.close()}},{key:"_handleMonthChange",value:function(e){this.gotoMonth(e.target.value)}},{key:"_handleYearChange",value:function(e){this.gotoYear(e.target.value)}},{key:"gotoMonth",value:function(e){isNaN(e)||(this.calendars[0].month=parseInt(e,10),this.adjustCalendars())}},{key:"gotoYear",value:function(e){isNaN(e)||(this.calendars[0].year=parseInt(e,10),this.adjustCalendars())}},{key:"_handleInputChange",value:function(e){var t=void 0;e.firedBy!==this&&(t=this.options.parse?this.options.parse(this.el.value,this.options.format):new Date(Date.parse(this.el.value)),l._isDate(t)&&this.setDate(t))}},{key:"renderDayName",value:function(e,t,n){for(t+=e.firstDay;t>=7;)t-=7;return n?e.i18n.weekdaysAbbrev[t]:e.i18n.weekdays[t]}},{key:"_finishSelection",value:function(){this.setInputValue(),this.close()}},{key:"open",value:function(){if(!this.isOpen)return this.isOpen=!0,"function"==typeof this.options.onOpen&&this.options.onOpen.call(this),this.draw(),this.modal.open(),this}},{key:"close",value:function(){if(this.isOpen)return this.isOpen=!1,"function"==typeof this.options.onClose&&this.options.onClose.call(this),this.modal.close(),this}}],[{key:"init",value:function(e,t){return i(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"_isDate",value:function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())}},{key:"_isWeekend",value:function(e){var t=e.getDay();return 0===t||6===t}},{key:"_setToStartOfDay",value:function(e){l._isDate(e)&&e.setHours(0,0,0,0)}},{key:"_getDaysInMonth",value:function(e,t){return[31,l._isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]}},{key:"_isLeapYear",value:function(e){return e%4==0&&e%100!=0||e%400==0}},{key:"_compareDates",value:function(e,t){return e.getTime()===t.getTime()}},{key:"_setToStartOfDay",value:function(e){l._isDate(e)&&e.setHours(0,0,0,0)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Datepicker}},{key:"defaults",get:function(){return t}}]),l}(l);n._template=['<div class= "modal datepicker-modal">','<div class="modal-content datepicker-container">','<div class="datepicker-date-display">','<span class="year-text"></span>','<span class="date-text"></span>',"</div>",'<div class="datepicker-calendar-container">','<div class="datepicker-calendar"></div>','<div class="datepicker-footer">','<button class="btn-flat datepicker-clear waves-effect" style="visibility: hidden;" type="button"></button>','<div class="confirmation-btns">','<button class="btn-flat datepicker-cancel waves-effect" type="button"></button>','<button class="btn-flat datepicker-done waves-effect" type="button"></button>',"</div>","</div>","</div>","</div>","</div>"].join(""),M.Datepicker=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"datepicker","M_Datepicker")}(cash),function(e){"use strict";var t={dialRadius:135,outerRadius:105,innerRadius:70,tickRadius:20,duration:350,container:null,defaultTime:"now",fromNow:0,showClearBtn:!1,i18n:{cancel:"Cancel",clear:"Clear",done:"Ok"},autoClose:!1,twelveHour:!0,vibrate:!0,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,onSelect:null},n=function(n){function l(t,n){a(this,l);var i=o(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,n));return i.el.M_Timepicker=i,i.options=e.extend({},l.defaults,n),i.id=M.guid(),i._insertHTMLIntoDOM(),i._setupModal(),i._setupVariables(),i._setupEventHandlers(),i._clockSetup(),i._pickerSetup(),i}return r(l,n),s(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this.modal.destroy(),e(this.modalEl).remove(),this.el.M_Timepicker=void 0}},{key:"_setupEventHandlers",value:function(){this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleClockClickStartBound=this._handleClockClickStart.bind(this),this._handleDocumentClickMoveBound=this._handleDocumentClickMove.bind(this),this._handleDocumentClickEndBound=this._handleDocumentClickEnd.bind(this),this.el.addEventListener("click",this._handleInputClickBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.plate.addEventListener("mousedown",this._handleClockClickStartBound),this.plate.addEventListener("touchstart",this._handleClockClickStartBound),e(this.spanHours).on("click",this.showView.bind(this,"hours")),e(this.spanMinutes).on("click",this.showView.bind(this,"minutes"))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleInputClickBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound)}},{key:"_handleInputClick",value:function(){this.open()}},{key:"_handleInputKeydown",value:function(e){e.which===M.keys.ENTER&&(e.preventDefault(),this.open())}},{key:"_handleClockClickStart",value:function(e){e.preventDefault();var t=this.plate.getBoundingClientRect(),n=t.left,i=t.top;this.x0=n+this.options.dialRadius,this.y0=i+this.options.dialRadius,this.moved=!1;var s=l._Pos(e);this.dx=s.x-this.x0,this.dy=s.y-this.y0,this.setHand(this.dx,this.dy,!1),document.addEventListener("mousemove",this._handleDocumentClickMoveBound),document.addEventListener("touchmove",this._handleDocumentClickMoveBound),document.addEventListener("mouseup",this._handleDocumentClickEndBound),document.addEventListener("touchend",this._handleDocumentClickEndBound)}},{key:"_handleDocumentClickMove",value:function(e){e.preventDefault();var t=l._Pos(e),n=t.x-this.x0,i=t.y-this.y0;this.moved=!0,this.setHand(n,i,!1,!0)}},{key:"_handleDocumentClickEnd",value:function(t){var n=this;t.preventDefault(),document.removeEventListener("mouseup",this._handleDocumentClickEndBound),document.removeEventListener("touchend",this._handleDocumentClickEndBound);var i=l._Pos(t),s=i.x-this.x0,o=i.y-this.y0;this.moved&&s===this.dx&&o===this.dy&&this.setHand(s,o),"hours"===this.currentView?this.showView("minutes",this.options.duration/2):this.options.autoClose&&(e(this.minutesView).addClass("timepicker-dial-out"),setTimeout((function(){n.done()}),this.options.duration/2)),"function"==typeof this.options.onSelect&&this.options.onSelect.call(this,this.hours,this.minutes),document.removeEventListener("mousemove",this._handleDocumentClickMoveBound),document.removeEventListener("touchmove",this._handleDocumentClickMoveBound)}},{key:"_insertHTMLIntoDOM",value:function(){this.$modalEl=e(l._template),this.modalEl=this.$modalEl[0],this.modalEl.id="modal-"+this.id;var t=document.querySelector(this.options.container);this.options.container&&t?this.$modalEl.appendTo(t):this.$modalEl.insertBefore(this.el)}},{key:"_setupModal",value:function(){var e=this;this.modal=M.Modal.init(this.modalEl,{onOpenStart:this.options.onOpenStart,onOpenEnd:this.options.onOpenEnd,onCloseStart:this.options.onCloseStart,onCloseEnd:function(){"function"==typeof e.options.onCloseEnd&&e.options.onCloseEnd.call(e),e.isOpen=!1}})}},{key:"_setupVariables",value:function(){this.currentView="hours",this.vibrate=navigator.vibrate?"vibrate":navigator.webkitVibrate?"webkitVibrate":null,this._canvas=this.modalEl.querySelector(".timepicker-canvas"),this.plate=this.modalEl.querySelector(".timepicker-plate"),this.hoursView=this.modalEl.querySelector(".timepicker-hours"),this.minutesView=this.modalEl.querySelector(".timepicker-minutes"),this.spanHours=this.modalEl.querySelector(".timepicker-span-hours"),this.spanMinutes=this.modalEl.querySelector(".timepicker-span-minutes"),this.spanAmPm=this.modalEl.querySelector(".timepicker-span-am-pm"),this.footer=this.modalEl.querySelector(".timepicker-footer"),this.amOrPm="PM"}},{key:"_pickerSetup",value:function(){var t=e('<button class="btn-flat timepicker-clear waves-effect" style="visibility: hidden;" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.clear+"</button>").appendTo(this.footer).on("click",this.clear.bind(this));this.options.showClearBtn&&t.css({visibility:""});var n=e('<div class="confirmation-btns"></div>');e('<button class="btn-flat timepicker-close waves-effect" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.cancel+"</button>").appendTo(n).on("click",this.close.bind(this)),e('<button class="btn-flat timepicker-close waves-effect" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.done+"</button>").appendTo(n).on("click",this.done.bind(this)),n.appendTo(this.footer)}},{key:"_clockSetup",value:function(){this.options.twelveHour&&(this.$amBtn=e('<div class="am-btn">AM</div>'),this.$pmBtn=e('<div class="pm-btn">PM</div>'),this.$amBtn.on("click",this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm),this.$pmBtn.on("click",this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm)),this._buildHoursView(),this._buildMinutesView(),this._buildSVGClock()}},{key:"_buildSVGClock",value:function(){var e=this.options.dialRadius,t=this.options.tickRadius,n=2*e,i=l._createSVGEl("svg");i.setAttribute("class","timepicker-svg"),i.setAttribute("width",n),i.setAttribute("height",n);var s=l._createSVGEl("g");s.setAttribute("transform","translate("+e+","+e+")");var o=l._createSVGEl("circle");o.setAttribute("class","timepicker-canvas-bearing"),o.setAttribute("cx",0),o.setAttribute("cy",0),o.setAttribute("r",4);var r=l._createSVGEl("line");r.setAttribute("x1",0),r.setAttribute("y1",0);var a=l._createSVGEl("circle");a.setAttribute("class","timepicker-canvas-bg"),a.setAttribute("r",t),s.appendChild(r),s.appendChild(a),s.appendChild(o),i.appendChild(s),this._canvas.appendChild(i),this.hand=r,this.bg=a,this.bearing=o,this.g=s}},{key:"_buildHoursView",value:function(){var t=e('<div class="timepicker-tick"></div>');if(this.options.twelveHour)for(var n=1;n<13;n+=1){var i=t.clone(),s=n/6*Math.PI,o=this.options.outerRadius;i.css({left:this.options.dialRadius+Math.sin(s)*o-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(s)*o-this.options.tickRadius+"px"}),i.html(0===n?"00":n),this.hoursView.appendChild(i[0])}else for(var r=0;r<24;r+=1){var a=t.clone(),l=r/6*Math.PI,u=r>0&&r<13?this.options.innerRadius:this.options.outerRadius;a.css({left:this.options.dialRadius+Math.sin(l)*u-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(l)*u-this.options.tickRadius+"px"}),a.html(0===r?"00":r),this.hoursView.appendChild(a[0])}}},{key:"_buildMinutesView",value:function(){for(var t=e('<div class="timepicker-tick"></div>'),n=0;n<60;n+=5){var i=t.clone(),s=n/30*Math.PI;i.css({left:this.options.dialRadius+Math.sin(s)*this.options.outerRadius-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(s)*this.options.outerRadius-this.options.tickRadius+"px"}),i.html(l._addLeadingZero(n)),this.minutesView.appendChild(i[0])}}},{key:"_handleAmPmClick",value:function(t){var n=e(t.target);this.amOrPm=n.hasClass("am-btn")?"AM":"PM",this._updateAmPmView()}},{key:"_updateAmPmView",value:function(){this.options.twelveHour&&(this.$amBtn.toggleClass("text-primary","AM"===this.amOrPm),this.$pmBtn.toggleClass("text-primary","PM"===this.amOrPm))}},{key:"_updateTimeFromInput",value:function(){var e=((this.el.value||this.options.defaultTime||"")+"").split(":");if(this.options.twelveHour&&void 0!==e[1]&&(e[1].toUpperCase().indexOf("AM")>0?this.amOrPm="AM":this.amOrPm="PM",e[1]=e[1].replace("AM","").replace("PM","")),"now"===e[0]){var t=new Date(+new Date+this.options.fromNow);e=[t.getHours(),t.getMinutes()],this.options.twelveHour&&(this.amOrPm=e[0]>=12&&e[0]<24?"PM":"AM")}this.hours=+e[0]||0,this.minutes=+e[1]||0,this.spanHours.innerHTML=this.hours,this.spanMinutes.innerHTML=l._addLeadingZero(this.minutes),this._updateAmPmView()}},{key:"showView",value:function(t,n){"minutes"===t&&e(this.hoursView).css("visibility");var i="hours"===t,s=i?this.hoursView:this.minutesView,o=i?this.minutesView:this.hoursView;this.currentView=t,e(this.spanHours).toggleClass("text-primary",i),e(this.spanMinutes).toggleClass("text-primary",!i),o.classList.add("timepicker-dial-out"),e(s).css("visibility","visible").removeClass("timepicker-dial-out"),this.resetClock(n),clearTimeout(this.toggleViewTimer),this.toggleViewTimer=setTimeout((function(){e(o).css("visibility","hidden")}),this.options.duration)}},{key:"resetClock",value:function(t){var n=this.currentView,i=this[n],s="hours"===n,o=i*(Math.PI/(s?6:30)),r=s&&i>0&&i<13?this.options.innerRadius:this.options.outerRadius,a=Math.sin(o)*r,l=-Math.cos(o)*r,u=this;t?(e(this.canvas).addClass("timepicker-canvas-out"),setTimeout((function(){e(u.canvas).removeClass("timepicker-canvas-out"),u.setHand(a,l)}),t)):this.setHand(a,l)}},{key:"setHand",value:function(e,t,n){var i=this,s=Math.atan2(e,-t),o="hours"===this.currentView,r=Math.PI/(o||n?6:30),a=Math.sqrt(e*e+t*t),u=o&&a<(this.options.outerRadius+this.options.innerRadius)/2,c=u?this.options.innerRadius:this.options.outerRadius;this.options.twelveHour&&(c=this.options.outerRadius),s<0&&(s=2*Math.PI+s);var d=Math.round(s/r);s=d*r,this.options.twelveHour?o?0===d&&(d=12):(n&&(d*=5),60===d&&(d=0)):o?(12===d&&(d=0),d=u?0===d?12:d:0===d?0:d+12):(n&&(d*=5),60===d&&(d=0)),this[this.currentView]!==d&&this.vibrate&&this.options.vibrate&&(this.vibrateTimer||(navigator[this.vibrate](10),this.vibrateTimer=setTimeout((function(){i.vibrateTimer=null}),100))),this[this.currentView]=d,o?this.spanHours.innerHTML=d:this.spanMinutes.innerHTML=l._addLeadingZero(d);var h=Math.sin(s)*(c-this.options.tickRadius),p=-Math.cos(s)*(c-this.options.tickRadius),f=Math.sin(s)*c,m=-Math.cos(s)*c;this.hand.setAttribute("x2",h),this.hand.setAttribute("y2",p),this.bg.setAttribute("cx",f),this.bg.setAttribute("cy",m)}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,this._updateTimeFromInput(),this.showView("hours"),this.modal.open())}},{key:"close",value:function(){this.isOpen&&(this.isOpen=!1,this.modal.close())}},{key:"done",value:function(e,t){var n=this.el.value,i=t?"":l._addLeadingZero(this.hours)+":"+l._addLeadingZero(this.minutes);this.time=i,!t&&this.options.twelveHour&&(i=i+" "+this.amOrPm),this.el.value=i,i!==n&&this.$el.trigger("change"),this.close(),this.el.focus()}},{key:"clear",value:function(){this.done(null,!0)}}],[{key:"init",value:function(e,t){return i(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"_addLeadingZero",value:function(e){return(e<10?"0":"")+e}},{key:"_createSVGEl",value:function(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}},{key:"_Pos",value:function(e){return e.targetTouches&&e.targetTouches.length>=1?{x:e.targetTouches[0].clientX,y:e.targetTouches[0].clientY}:{x:e.clientX,y:e.clientY}}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Timepicker}},{key:"defaults",get:function(){return t}}]),l}(l);n._template=['<div class= "modal timepicker-modal">','<div class="modal-content timepicker-container">','<div class="timepicker-digital-display">','<div class="timepicker-text-container">','<div class="timepicker-display-column">','<span class="timepicker-span-hours text-primary"></span>',":",'<span class="timepicker-span-minutes"></span>',"</div>",'<div class="timepicker-display-column timepicker-display-am-pm">','<div class="timepicker-span-am-pm"></div>',"</div>","</div>","</div>",'<div class="timepicker-analog-display">','<div class="timepicker-plate">','<div class="timepicker-canvas"></div>','<div class="timepicker-dial timepicker-hours"></div>','<div class="timepicker-dial timepicker-minutes timepicker-dial-out"></div>',"</div>",'<div class="timepicker-footer"></div>',"</div>","</div>","</div>"].join(""),M.Timepicker=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"timepicker","M_Timepicker")}(cash),function(e){"use strict";var t={},n=function(n){function l(t,n){a(this,l);var i=o(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,n));return i.el.M_CharacterCounter=i,i.options=e.extend({},l.defaults,n),i.isInvalid=!1,i.isValidLength=!1,i._setupCounter(),i._setupEventHandlers(),i}return r(l,n),s(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.CharacterCounter=void 0,this._removeCounter()}},{key:"_setupEventHandlers",value:function(){this._handleUpdateCounterBound=this.updateCounter.bind(this),this.el.addEventListener("focus",this._handleUpdateCounterBound,!0),this.el.addEventListener("input",this._handleUpdateCounterBound,!0)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("focus",this._handleUpdateCounterBound,!0),this.el.removeEventListener("input",this._handleUpdateCounterBound,!0)}},{key:"_setupCounter",value:function(){this.counterEl=document.createElement("span"),e(this.counterEl).addClass("character-counter").css({float:"right","font-size":"12px",height:1}),this.$el.parent().append(this.counterEl)}},{key:"_removeCounter",value:function(){e(this.counterEl).remove()}},{key:"updateCounter",value:function(){var t=+this.$el.attr("data-length"),n=this.el.value.length;this.isValidLength=n<=t;var i=n;t&&(i+="/"+t,this._validateInput()),e(this.counterEl).html(i)}},{key:"_validateInput",value:function(){this.isValidLength&&this.isInvalid?(this.isInvalid=!1,this.$el.removeClass("invalid")):this.isValidLength||this.isInvalid||(this.isInvalid=!0,this.$el.removeClass("valid"),this.$el.addClass("invalid"))}}],[{key:"init",value:function(e,t){return i(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_CharacterCounter}},{key:"defaults",get:function(){return t}}]),l}(l);M.CharacterCounter=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"characterCounter","M_CharacterCounter")}(cash),function(e){"use strict";var t={duration:200,dist:-100,shift:0,padding:0,numVisible:5,fullWidth:!1,indicators:!1,noWrap:!1,onCycleTo:null},n=function(n){function l(t,n){a(this,l);var i=o(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,n));return i.el.M_Carousel=i,i.options=e.extend({},l.defaults,n),i.hasMultipleSlides=i.$el.find(".carousel-item").length>1,i.showIndicators=i.options.indicators&&i.hasMultipleSlides,i.noWrap=i.options.noWrap||!i.hasMultipleSlides,i.pressed=!1,i.dragged=!1,i.offset=i.target=0,i.images=[],i.itemWidth=i.$el.find(".carousel-item").first().innerWidth(),i.itemHeight=i.$el.find(".carousel-item").first().innerHeight(),i.dim=2*i.itemWidth+i.options.padding||1,i._autoScrollBound=i._autoScroll.bind(i),i._trackBound=i._track.bind(i),i.options.fullWidth&&(i.options.dist=0,i._setCarouselHeight(),i.showIndicators&&i.$el.find(".carousel-fixed-item").addClass("with-indicators")),i.$indicators=e('<ul class="indicators"></ul>'),i.$el.find(".carousel-item").each((function(t,n){if(i.images.push(t),i.showIndicators){var s=e('<li class="indicator-item"></li>');0===n&&s[0].classList.add("active"),i.$indicators.append(s)}})),i.showIndicators&&i.$el.append(i.$indicators),i.count=i.images.length,i.options.numVisible=Math.min(i.count,i.options.numVisible),i.xform="transform",["webkit","Moz","O","ms"].every((function(e){var t=e+"Transform";return void 0===document.body.style[t]||(i.xform=t,!1)})),i._setupEventHandlers(),i._scroll(i.offset),i}return r(l,n),s(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Carousel=void 0}},{key:"_setupEventHandlers",value:function(){var e=this;this._handleCarouselTapBound=this._handleCarouselTap.bind(this),this._handleCarouselDragBound=this._handleCarouselDrag.bind(this),this._handleCarouselReleaseBound=this._handleCarouselRelease.bind(this),this._handleCarouselClickBound=this._handleCarouselClick.bind(this),void 0!==window.ontouchstart&&(this.el.addEventListener("touchstart",this._handleCarouselTapBound),this.el.addEventListener("touchmove",this._handleCarouselDragBound),this.el.addEventListener("touchend",this._handleCarouselReleaseBound)),this.el.addEventListener("mousedown",this._handleCarouselTapBound),this.el.addEventListener("mousemove",this._handleCarouselDragBound),this.el.addEventListener("mouseup",this._handleCarouselReleaseBound),this.el.addEventListener("mouseleave",this._handleCarouselReleaseBound),this.el.addEventListener("click",this._handleCarouselClickBound),this.showIndicators&&this.$indicators&&(this._handleIndicatorClickBound=this._handleIndicatorClick.bind(this),this.$indicators.find(".indicator-item").each((function(t,n){t.addEventListener("click",e._handleIndicatorClickBound)})));var t=M.throttle(this._handleResize,200);this._handleThrottledResizeBound=t.bind(this),window.addEventListener("resize",this._handleThrottledResizeBound)}},{key:"_removeEventHandlers",value:function(){var e=this;void 0!==window.ontouchstart&&(this.el.removeEventListener("touchstart",this._handleCarouselTapBound),this.el.removeEventListener("touchmove",this._handleCarouselDragBound),this.el.removeEventListener("touchend",this._handleCarouselReleaseBound)),this.el.removeEventListener("mousedown",this._handleCarouselTapBound),this.el.removeEventListener("mousemove",this._handleCarouselDragBound),this.el.removeEventListener("mouseup",this._handleCarouselReleaseBound),this.el.removeEventListener("mouseleave",this._handleCarouselReleaseBound),this.el.removeEventListener("click",this._handleCarouselClickBound),this.showIndicators&&this.$indicators&&this.$indicators.find(".indicator-item").each((function(t,n){t.removeEventListener("click",e._handleIndicatorClickBound)})),window.removeEventListener("resize",this._handleThrottledResizeBound)}},{key:"_handleCarouselTap",value:function(t){"mousedown"===t.type&&e(t.target).is("img")&&t.preventDefault(),this.pressed=!0,this.dragged=!1,this.verticalDragged=!1,this.reference=this._xpos(t),this.referenceY=this._ypos(t),this.velocity=this.amplitude=0,this.frame=this.offset,this.timestamp=Date.now(),clearInterval(this.ticker),this.ticker=setInterval(this._trackBound,100)}},{key:"_handleCarouselDrag",value:function(e){var t=void 0,n=void 0,i=void 0;if(this.pressed)if(t=this._xpos(e),n=this._ypos(e),i=this.reference-t,Math.abs(this.referenceY-n)<30&&!this.verticalDragged)(i>2||i<-2)&&(this.dragged=!0,this.reference=t,this._scroll(this.offset+i));else{if(this.dragged)return e.preventDefault(),e.stopPropagation(),!1;this.verticalDragged=!0}if(this.dragged)return e.preventDefault(),e.stopPropagation(),!1}},{key:"_handleCarouselRelease",value:function(e){if(this.pressed)return this.pressed=!1,clearInterval(this.ticker),this.target=this.offset,(this.velocity>10||this.velocity<-10)&&(this.amplitude=.9*this.velocity,this.target=this.offset+this.amplitude),this.target=Math.round(this.target/this.dim)*this.dim,this.noWrap&&(this.target>=this.dim*(this.count-1)?this.target=this.dim*(this.count-1):this.target<0&&(this.target=0)),this.amplitude=this.target-this.offset,this.timestamp=Date.now(),requestAnimationFrame(this._autoScrollBound),this.dragged&&(e.preventDefault(),e.stopPropagation()),!1}},{key:"_handleCarouselClick",value:function(t){if(this.dragged)return t.preventDefault(),t.stopPropagation(),!1;if(!this.options.fullWidth){var n=e(t.target).closest(".carousel-item").index();0!=this._wrap(this.center)-n&&(t.preventDefault(),t.stopPropagation()),this._cycleTo(n)}}},{key:"_handleIndicatorClick",value:function(t){t.stopPropagation();var n=e(t.target).closest(".indicator-item");n.length&&this._cycleTo(n.index())}},{key:"_handleResize",value:function(e){this.options.fullWidth?(this.itemWidth=this.$el.find(".carousel-item").first().innerWidth(),this.imageHeight=this.$el.find(".carousel-item.active").height(),this.dim=2*this.itemWidth+this.options.padding,this.offset=2*this.center*this.itemWidth,this.target=this.offset,this._setCarouselHeight(!0)):this._scroll()}},{key:"_setCarouselHeight",value:function(e){var t=this,n=this.$el.find(".carousel-item.active").length?this.$el.find(".carousel-item.active").first():this.$el.find(".carousel-item").first(),i=n.find("img").first();if(i.length)if(i[0].complete){var s=i.height();if(s>0)this.$el.css("height",s+"px");else{var o=i[0].naturalWidth,r=i[0].naturalHeight,a=this.$el.width()/o*r;this.$el.css("height",a+"px")}}else i.one("load",(function(e,n){t.$el.css("height",e.offsetHeight+"px")}));else if(!e){var l=n.height();this.$el.css("height",l+"px")}}},{key:"_xpos",value:function(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}},{key:"_ypos",value:function(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}},{key:"_wrap",value:function(e){return e>=this.count?e%this.count:e<0?this._wrap(this.count+e%this.count):e}},{key:"_track",value:function(){var e,t,n,i;t=(e=Date.now())-this.timestamp,this.timestamp=e,n=this.offset-this.frame,this.frame=this.offset,i=1e3*n/(1+t),this.velocity=.8*i+.2*this.velocity}},{key:"_autoScroll",value:function(){var e=void 0,t=void 0;this.amplitude&&(e=Date.now()-this.timestamp,(t=this.amplitude*Math.exp(-e/this.options.duration))>2||t<-2?(this._scroll(this.target-t),requestAnimationFrame(this._autoScrollBound)):this._scroll(this.target))}},{key:"_scroll",value:function(t){var n=this;this.$el.hasClass("scrolling")||this.el.classList.add("scrolling"),null!=this.scrollingTimeout&&window.clearTimeout(this.scrollingTimeout),this.scrollingTimeout=window.setTimeout((function(){n.$el.removeClass("scrolling")}),this.options.duration);var i,s,o,r,a=void 0,l=void 0,u=void 0,c=void 0,d=void 0,h=void 0,p=this.center,f=1/this.options.numVisible;if(this.offset="number"==typeof t?t:this.offset,this.center=Math.floor((this.offset+this.dim/2)/this.dim),r=-(o=(s=this.offset-this.center*this.dim)<0?1:-1)*s*2/this.dim,i=this.count>>1,this.options.fullWidth?(u="translateX(0)",h=1):(u="translateX("+(this.el.clientWidth-this.itemWidth)/2+"px) ",u+="translateY("+(this.el.clientHeight-this.itemHeight)/2+"px)",h=1-f*r),this.showIndicators){var m=this.center%this.count,v=this.$indicators.find(".indicator-item.active");v.index()!==m&&(v.removeClass("active"),this.$indicators.find(".indicator-item").eq(m)[0].classList.add("active"))}if(!this.noWrap||this.center>=0&&this.center<this.count){l=this.images[this._wrap(this.center)],e(l).hasClass("active")||(this.$el.find(".carousel-item").removeClass("active"),l.classList.add("active"));var g=u+" translateX("+-s/2+"px) translateX("+o*this.options.shift*r*a+"px) translateZ("+this.options.dist*r+"px)";this._updateItemStyle(l,h,0,g)}for(a=1;a<=i;++a){if(this.options.fullWidth?(c=this.options.dist,d=a===i&&s<0?1-r:1):(c=this.options.dist*(2*a+r*o),d=1-f*(2*a+r*o)),!this.noWrap||this.center+a<this.count){l=this.images[this._wrap(this.center+a)];var y=u+" translateX("+(this.options.shift+(this.dim*a-s)/2)+"px) translateZ("+c+"px)";this._updateItemStyle(l,d,-a,y)}if(this.options.fullWidth?(c=this.options.dist,d=a===i&&s>0?1-r:1):(c=this.options.dist*(2*a-r*o),d=1-f*(2*a-r*o)),!this.noWrap||this.center-a>=0){l=this.images[this._wrap(this.center-a)];var _=u+" translateX("+(-this.options.shift+(-this.dim*a-s)/2)+"px) translateZ("+c+"px)";this._updateItemStyle(l,d,-a,_)}}if(!this.noWrap||this.center>=0&&this.center<this.count){l=this.images[this._wrap(this.center)];var b=u+" translateX("+-s/2+"px) translateX("+o*this.options.shift*r+"px) translateZ("+this.options.dist*r+"px)";this._updateItemStyle(l,h,0,b)}var w=this.$el.find(".carousel-item").eq(this._wrap(this.center));p!==this.center&&"function"==typeof this.options.onCycleTo&&this.options.onCycleTo.call(this,w[0],this.dragged),"function"==typeof this.oneTimeCallback&&(this.oneTimeCallback.call(this,w[0],this.dragged),this.oneTimeCallback=null)}},{key:"_updateItemStyle",value:function(e,t,n,i){e.style[this.xform]=i,e.style.zIndex=n,e.style.opacity=t,e.style.visibility="visible"}},{key:"_cycleTo",value:function(e,t){var n=this.center%this.count-e;this.noWrap||(n<0?Math.abs(n+this.count)<Math.abs(n)&&(n+=this.count):n>0&&Math.abs(n-this.count)<n&&(n-=this.count)),this.target=this.dim*Math.round(this.offset/this.dim),n<0?this.target+=this.dim*Math.abs(n):n>0&&(this.target-=this.dim*n),"function"==typeof t&&(this.oneTimeCallback=t),this.offset!==this.target&&(this.amplitude=this.target-this.offset,this.timestamp=Date.now(),requestAnimationFrame(this._autoScrollBound))}},{key:"next",value:function(e){(void 0===e||isNaN(e))&&(e=1);var t=this.center+e;if(t>=this.count||t<0){if(this.noWrap)return;t=this._wrap(t)}this._cycleTo(t)}},{key:"prev",value:function(e){(void 0===e||isNaN(e))&&(e=1);var t=this.center-e;if(t>=this.count||t<0){if(this.noWrap)return;t=this._wrap(t)}this._cycleTo(t)}},{key:"set",value:function(e,t){if((void 0===e||isNaN(e))&&(e=0),e>this.count||e<0){if(this.noWrap)return;e=this._wrap(e)}this._cycleTo(e,t)}}],[{key:"init",value:function(e,t){return i(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Carousel}},{key:"defaults",get:function(){return t}}]),l}(l);M.Carousel=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"carousel","M_Carousel")}(cash),function(e){"use strict";var t={onOpen:void 0,onClose:void 0},n=function(n){function l(t,n){a(this,l);var i=o(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,n));return i.el.M_TapTarget=i,i.options=e.extend({},l.defaults,n),i.isOpen=!1,i.$origin=e("#"+i.$el.attr("data-target")),i._setup(),i._calculatePositioning(),i._setupEventHandlers(),i}return r(l,n),s(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.TapTarget=void 0}},{key:"_setupEventHandlers",value:function(){this._handleDocumentClickBound=this._handleDocumentClick.bind(this),this._handleTargetClickBound=this._handleTargetClick.bind(this),this._handleOriginClickBound=this._handleOriginClick.bind(this),this.el.addEventListener("click",this._handleTargetClickBound),this.originEl.addEventListener("click",this._handleOriginClickBound);var e=M.throttle(this._handleResize,200);this._handleThrottledResizeBound=e.bind(this),window.addEventListener("resize",this._handleThrottledResizeBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleTargetClickBound),this.originEl.removeEventListener("click",this._handleOriginClickBound),window.removeEventListener("resize",this._handleThrottledResizeBound)}},{key:"_handleTargetClick",value:function(e){this.open()}},{key:"_handleOriginClick",value:function(e){this.close()}},{key:"_handleResize",value:function(e){this._calculatePositioning()}},{key:"_handleDocumentClick",value:function(t){e(t.target).closest(".tap-target-wrapper").length||(this.close(),t.preventDefault(),t.stopPropagation())}},{key:"_setup",value:function(){this.wrapper=this.$el.parent()[0],this.waveEl=e(this.wrapper).find(".tap-target-wave")[0],this.originEl=e(this.wrapper).find(".tap-target-origin")[0],this.contentEl=this.$el.find(".tap-target-content")[0],e(this.wrapper).hasClass(".tap-target-wrapper")||(this.wrapper=document.createElement("div"),this.wrapper.classList.add("tap-target-wrapper"),this.$el.before(e(this.wrapper)),this.wrapper.append(this.el)),this.contentEl||(this.contentEl=document.createElement("div"),this.contentEl.classList.add("tap-target-content"),this.$el.append(this.contentEl)),this.waveEl||(this.waveEl=document.createElement("div"),this.waveEl.classList.add("tap-target-wave"),this.originEl||(this.originEl=this.$origin.clone(!0,!0),this.originEl.addClass("tap-target-origin"),this.originEl.removeAttr("id"),this.originEl.removeAttr("style"),this.originEl=this.originEl[0],this.waveEl.append(this.originEl)),this.wrapper.append(this.waveEl))}},{key:"_calculatePositioning",value:function(){var t="fixed"===this.$origin.css("position");if(!t)for(var n=this.$origin.parents(),i=0;i<n.length&&!(t="fixed"==e(n[i]).css("position"));i++);var s=this.$origin.outerWidth(),o=this.$origin.outerHeight(),r=t?this.$origin.offset().top-M.getDocumentScrollTop():this.$origin.offset().top,a=t?this.$origin.offset().left-M.getDocumentScrollLeft():this.$origin.offset().left,l=window.innerWidth,u=window.innerHeight,c=l/2,d=u/2,h=a<=c,p=a>c,f=r<=d,m=r>d,v=a>=.25*l&&a<=.75*l,g=this.$el.outerWidth(),y=this.$el.outerHeight(),_=r+o/2-y/2,b=a+s/2-g/2,w=t?"fixed":"absolute",k=v?g:g/2+s,C=y/2,E=f?y/2:0,x=h&&!v?g/2-s:0,S=s,O=m?"bottom":"top",T=2*s,L=T,D=y/2-L/2,$=g/2-T/2,B={};B.top=f?_+"px":"",B.right=p?l-b-g+"px":"",B.bottom=m?u-_-y+"px":"",B.left=h?b+"px":"",B.position=w,e(this.wrapper).css(B),e(this.contentEl).css({width:k+"px",height:C+"px",top:E+"px",right:"0px",bottom:"0px",left:x+"px",padding:S+"px",verticalAlign:O}),e(this.waveEl).css({top:D+"px",left:$+"px",width:T+"px",height:L+"px"})}},{key:"open",value:function(){this.isOpen||("function"==typeof this.options.onOpen&&this.options.onOpen.call(this,this.$origin[0]),this.isOpen=!0,this.wrapper.classList.add("open"),document.body.addEventListener("click",this._handleDocumentClickBound,!0),document.body.addEventListener("touchend",this._handleDocumentClickBound))}},{key:"close",value:function(){this.isOpen&&("function"==typeof this.options.onClose&&this.options.onClose.call(this,this.$origin[0]),this.isOpen=!1,this.wrapper.classList.remove("open"),document.body.removeEventListener("click",this._handleDocumentClickBound,!0),document.body.removeEventListener("touchend",this._handleDocumentClickBound))}}],[{key:"init",value:function(e,t){return i(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_TapTarget}},{key:"defaults",get:function(){return t}}]),l}(l);M.TapTarget=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"tapTarget","M_TapTarget")}(cash),function(e){"use strict";var t={classes:"",dropdownOptions:{}},n=function(n){function l(t,n){a(this,l);var i=o(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,l,t,n));return i.$el.hasClass("browser-default")?o(i):(i.el.M_FormSelect=i,i.options=e.extend({},l.defaults,n),i.isMultiple=i.$el.prop("multiple"),i.el.tabIndex=-1,i._keysSelected={},i._valueDict={},i._setupDropdown(),i._setupEventHandlers(),i)}return r(l,n),s(l,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeDropdown(),this.el.M_FormSelect=void 0}},{key:"_setupEventHandlers",value:function(){var t=this;this._handleSelectChangeBound=this._handleSelectChange.bind(this),this._handleOptionClickBound=this._handleOptionClick.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),e(this.dropdownOptions).find("li:not(.optgroup)").each((function(e){e.addEventListener("click",t._handleOptionClickBound)})),this.el.addEventListener("change",this._handleSelectChangeBound),this.input.addEventListener("click",this._handleInputClickBound)}},{key:"_removeEventHandlers",value:function(){var t=this;e(this.dropdownOptions).find("li:not(.optgroup)").each((function(e){e.removeEventListener("click",t._handleOptionClickBound)})),this.el.removeEventListener("change",this._handleSelectChangeBound),this.input.removeEventListener("click",this._handleInputClickBound)}},{key:"_handleSelectChange",value:function(e){this._setValueToInput()}},{key:"_handleOptionClick",value:function(t){t.preventDefault();var n=e(t.target).closest("li")[0],i=n.id;if(!e(n).hasClass("disabled")&&!e(n).hasClass("optgroup")&&i.length){var s=!0;if(this.isMultiple){var o=e(this.dropdownOptions).find("li.disabled.selected");o.length&&(o.removeClass("selected"),o.find('input[type="checkbox"]').prop("checked",!1),this._toggleEntryFromArray(o[0].id)),s=this._toggleEntryFromArray(i)}else e(this.dropdownOptions).find("li").removeClass("selected"),e(n).toggleClass("selected",s);e(this._valueDict[i].el).prop("selected")!==s&&(e(this._valueDict[i].el).prop("selected",s),this.$el.trigger("change"))}t.stopPropagation()}},{key:"_handleInputClick",value:function(){this.dropdown&&this.dropdown.isOpen&&(this._setValueToInput(),this._setSelectedStates())}},{key:"_setupDropdown",value:function(){var t=this;this.wrapper=document.createElement("div"),e(this.wrapper).addClass("select-wrapper "+this.options.classes),this.$el.before(e(this.wrapper)),this.wrapper.appendChild(this.el),this.el.disabled&&this.wrapper.classList.add("disabled"),this.$selectOptions=this.$el.children("option, optgroup"),this.dropdownOptions=document.createElement("ul"),this.dropdownOptions.id="select-options-"+M.guid(),e(this.dropdownOptions).addClass("dropdown-content select-dropdown "+(this.isMultiple?"multiple-select-dropdown":"")),this.$selectOptions.length&&this.$selectOptions.each((function(n){if(e(n).is("option")){var i;i=t.isMultiple?t._appendOptionWithIcon(t.$el,n,"multiple"):t._appendOptionWithIcon(t.$el,n),t._addOptionToValueDict(n,i)}else if(e(n).is("optgroup")){var s=e(n).children("option");e(t.dropdownOptions).append(e('<li class="optgroup"><span>'+n.getAttribute("label")+"</span></li>")[0]),s.each((function(e){var n=t._appendOptionWithIcon(t.$el,e,"optgroup-option");t._addOptionToValueDict(e,n)}))}})),this.$el.after(this.dropdownOptions),this.input=document.createElement("input"),e(this.input).addClass("select-dropdown dropdown-trigger"),this.input.setAttribute("type","text"),this.input.setAttribute("readonly","true"),this.input.setAttribute("data-target",this.dropdownOptions.id),this.el.disabled&&e(this.input).prop("disabled","true"),this.$el.before(this.input),this._setValueToInput();var n=e('<svg class="caret" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>');if(this.$el.before(n[0]),!this.el.disabled){var i=e.extend({},this.options.dropdownOptions);i.onOpenEnd=function(n){var i=e(t.dropdownOptions).find(".selected").first();if(i.length&&(M.keyDown=!0,t.dropdown.focusedIndex=i.index(),t.dropdown._focusFocusedItem(),M.keyDown=!1,t.dropdown.isScrollable)){var s=i[0].getBoundingClientRect().top-t.dropdownOptions.getBoundingClientRect().top;s-=t.dropdownOptions.clientHeight/2,t.dropdownOptions.scrollTop=s}},this.isMultiple&&(i.closeOnClick=!1),this.dropdown=M.Dropdown.init(this.input,i)}this._setSelectedStates()}},{key:"_addOptionToValueDict",value:function(e,t){var n=Object.keys(this._valueDict).length,i=this.dropdownOptions.id+n,s={};t.id=i,s.el=e,s.optionEl=t,this._valueDict[i]=s}},{key:"_removeDropdown",value:function(){e(this.wrapper).find(".caret").remove(),e(this.input).remove(),e(this.dropdownOptions).remove(),e(this.wrapper).before(this.$el),e(this.wrapper).remove()}},{key:"_appendOptionWithIcon",value:function(t,n,i){var s=n.disabled?"disabled ":"",o="optgroup-option"===i?"optgroup-option ":"",r=this.isMultiple?'<label><input type="checkbox"'+s+'"/><span>'+n.innerHTML+"</span></label>":n.innerHTML,a=e("<li></li>"),l=e("<span></span>");l.html(r),a.addClass(s+" "+o),a.append(l);var u=n.getAttribute("data-icon");if(u){var c=e('<img alt="" src="'+u+'">');a.prepend(c)}return e(this.dropdownOptions).append(a[0]),a[0]}},{key:"_toggleEntryFromArray",value:function(t){var n=!this._keysSelected.hasOwnProperty(t),i=e(this._valueDict[t].optionEl);return n?this._keysSelected[t]=!0:delete this._keysSelected[t],i.toggleClass("selected",n),i.find('input[type="checkbox"]').prop("checked",n),i.prop("selected",n),n}},{key:"_setValueToInput",value:function(){var t=[];if(this.$el.find("option").each((function(n){if(e(n).prop("selected")){var i=e(n).text();t.push(i)}})),!t.length){var n=this.$el.find("option:disabled").eq(0);n.length&&""===n[0].value&&t.push(n.text())}this.input.value=t.join(", ")}},{key:"_setSelectedStates",value:function(){for(var t in this._keysSelected={},this._valueDict){var n=this._valueDict[t],i=e(n.el).prop("selected");e(n.optionEl).find('input[type="checkbox"]').prop("checked",i),i?(this._activateOption(e(this.dropdownOptions),e(n.optionEl)),this._keysSelected[t]=!0):e(n.optionEl).removeClass("selected")}}},{key:"_activateOption",value:function(t,n){n&&(this.isMultiple||t.find("li.selected").removeClass("selected"),e(n).addClass("selected"))}},{key:"getSelectedValues",value:function(){var e=[];for(var t in this._keysSelected)e.push(this._valueDict[t].el.value);return e}}],[{key:"init",value:function(e,t){return i(l.__proto__||Object.getPrototypeOf(l),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_FormSelect}},{key:"defaults",get:function(){return t}}]),l}(l);M.FormSelect=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"formSelect","M_FormSelect")}(cash),function(e,t){"use strict";var n={},u=function(l){function u(t,n){a(this,u);var i=o(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,u,t,n));return i.el.M_Range=i,i.options=e.extend({},u.defaults,n),i._mousedown=!1,i._setupThumb(),i._setupEventHandlers(),i}return r(u,l),s(u,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeThumb(),this.el.M_Range=void 0}},{key:"_setupEventHandlers",value:function(){this._handleRangeChangeBound=this._handleRangeChange.bind(this),this._handleRangeMousedownTouchstartBound=this._handleRangeMousedownTouchstart.bind(this),this._handleRangeInputMousemoveTouchmoveBound=this._handleRangeInputMousemoveTouchmove.bind(this),this._handleRangeMouseupTouchendBound=this._handleRangeMouseupTouchend.bind(this),this._handleRangeBlurMouseoutTouchleaveBound=this._handleRangeBlurMouseoutTouchleave.bind(this),this.el.addEventListener("change",this._handleRangeChangeBound),this.el.addEventListener("mousedown",this._handleRangeMousedownTouchstartBound),this.el.addEventListener("touchstart",this._handleRangeMousedownTouchstartBound),this.el.addEventListener("input",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("mousemove",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("touchmove",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("mouseup",this._handleRangeMouseupTouchendBound),this.el.addEventListener("touchend",this._handleRangeMouseupTouchendBound),this.el.addEventListener("blur",this._handleRangeBlurMouseoutTouchleaveBound),this.el.addEventListener("mouseout",this._handleRangeBlurMouseoutTouchleaveBound),this.el.addEventListener("touchleave",this._handleRangeBlurMouseoutTouchleaveBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("change",this._handleRangeChangeBound),this.el.removeEventListener("mousedown",this._handleRangeMousedownTouchstartBound),this.el.removeEventListener("touchstart",this._handleRangeMousedownTouchstartBound),this.el.removeEventListener("input",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("mousemove",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("touchmove",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("mouseup",this._handleRangeMouseupTouchendBound),this.el.removeEventListener("touchend",this._handleRangeMouseupTouchendBound),this.el.removeEventListener("blur",this._handleRangeBlurMouseoutTouchleaveBound),this.el.removeEventListener("mouseout",this._handleRangeBlurMouseoutTouchleaveBound),this.el.removeEventListener("touchleave",this._handleRangeBlurMouseoutTouchleaveBound)}},{key:"_handleRangeChange",value:function(){e(this.value).html(this.$el.val()),e(this.thumb).hasClass("active")||this._showRangeBubble();var t=this._calcRangeOffset();e(this.thumb).addClass("active").css("left",t+"px")}},{key:"_handleRangeMousedownTouchstart",value:function(t){if(e(this.value).html(this.$el.val()),this._mousedown=!0,this.$el.addClass("active"),e(this.thumb).hasClass("active")||this._showRangeBubble(),"input"!==t.type){var n=this._calcRangeOffset();e(this.thumb).addClass("active").css("left",n+"px")}}},{key:"_handleRangeInputMousemoveTouchmove",value:function(){if(this._mousedown){e(this.thumb).hasClass("active")||this._showRangeBubble();var t=this._calcRangeOffset();e(this.thumb).addClass("active").css("left",t+"px"),e(this.value).html(this.$el.val())}}},{key:"_handleRangeMouseupTouchend",value:function(){this._mousedown=!1,this.$el.removeClass("active")}},{key:"_handleRangeBlurMouseoutTouchleave",value:function(){if(!this._mousedown){var n=7+parseInt(this.$el.css("padding-left"))+"px";e(this.thumb).hasClass("active")&&(t.remove(this.thumb),t({targets:this.thumb,height:0,width:0,top:10,easing:"easeOutQuad",marginLeft:n,duration:100})),e(this.thumb).removeClass("active")}}},{key:"_setupThumb",value:function(){this.thumb=document.createElement("span"),this.value=document.createElement("span"),e(this.thumb).addClass("thumb"),e(this.value).addClass("value"),e(this.thumb).append(this.value),this.$el.after(this.thumb)}},{key:"_removeThumb",value:function(){e(this.thumb).remove()}},{key:"_showRangeBubble",value:function(){var n=-7+parseInt(e(this.thumb).parent().css("padding-left"))+"px";t.remove(this.thumb),t({targets:this.thumb,height:30,width:30,top:-30,marginLeft:n,duration:300,easing:"easeOutQuint"})}},{key:"_calcRangeOffset",value:function(){var e=this.$el.width()-15,t=parseFloat(this.$el.attr("max"))||100,n=parseFloat(this.$el.attr("min"))||0;return(parseFloat(this.$el.val())-n)/(t-n)*e}}],[{key:"init",value:function(e,t){return i(u.__proto__||Object.getPrototypeOf(u),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Range}},{key:"defaults",get:function(){return n}}]),u}(l);M.Range=u,M.jQueryLoaded&&M.initializeJqueryWrapper(u,"range","M_Range"),u.init(e("input[type=range]"))}(cash,M.anime)},159:function(e,t){var n,i;n=function e(){"use strict";var t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},n=!t.document&&!!t.postMessage,i=n&&/blob:/i.test((t.location||{}).protocol),s={},o=0,r={parse:function(n,i){var a=(i=i||{}).dynamicTyping||!1;if(w(a)&&(i.dynamicTypingFunction=a,a={}),i.dynamicTyping=a,i.transform=!!w(i.transform)&&i.transform,i.worker&&r.WORKERS_SUPPORTED){var l=function(){if(!r.WORKERS_SUPPORTED)return!1;var n,i,a=(n=t.URL||t.webkitURL||null,i=e.toString(),r.BLOB_URL||(r.BLOB_URL=n.createObjectURL(new Blob(["(",i,")();"],{type:"text/javascript"})))),l=new t.Worker(a);return l.onmessage=v,l.id=o++,s[l.id]=l}();return l.userStep=i.step,l.userChunk=i.chunk,l.userComplete=i.complete,l.userError=i.error,i.step=w(i.step),i.chunk=w(i.chunk),i.complete=w(i.complete),i.error=w(i.error),delete i.worker,void l.postMessage({input:n,config:i,workerId:l.id})}var p=null;return r.NODE_STREAM_INPUT,"string"==typeof n?p=i.download?new u(i):new d(i):!0===n.readable&&w(n.read)&&w(n.on)?p=new h(i):(t.File&&n instanceof File||n instanceof Object)&&(p=new c(i)),p.stream(n)},unparse:function(e,t){var n=!1,i=!0,s=",",o="\r\n",a='"',l=a+a,u=!1,c=null,d=!1;!function(){if("object"==typeof t){if("string"!=typeof t.delimiter||r.BAD_DELIMITERS.filter((function(e){return-1!==t.delimiter.indexOf(e)})).length||(s=t.delimiter),("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(u=t.skipEmptyLines),"string"==typeof t.newline&&(o=t.newline),"string"==typeof t.quoteChar&&(a=t.quoteChar),"boolean"==typeof t.header&&(i=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");c=t.columns}void 0!==t.escapeChar&&(l=t.escapeChar+a),("boolean"==typeof t.escapeFormulae||t.escapeFormulae instanceof RegExp)&&(d=t.escapeFormulae instanceof RegExp?t.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var h=new RegExp(f(a),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return p(null,e,u);if("object"==typeof e[0])return p(c||Object.keys(e[0]),e,u)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||c),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),p(e.fields||[],e.data||[],u);throw new Error("Unable to serialize unrecognized input");function p(e,t,n){var r="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var a=Array.isArray(e)&&0<e.length,l=!Array.isArray(t[0]);if(a&&i){for(var u=0;u<e.length;u++)0<u&&(r+=s),r+=m(e[u],u);0<t.length&&(r+=o)}for(var c=0;c<t.length;c++){var d=a?e.length:t[c].length,h=!1,p=a?0===Object.keys(t[c]).length:0===t[c].length;if(n&&!a&&(h="greedy"===n?""===t[c].join("").trim():1===t[c].length&&0===t[c][0].length),"greedy"===n&&a){for(var f=[],v=0;v<d;v++){var g=l?e[v]:v;f.push(t[c][g])}h=""===f.join("").trim()}if(!h){for(var y=0;y<d;y++){0<y&&!p&&(r+=s);var _=a&&l?e[y]:y;r+=m(t[c][_],y)}c<t.length-1&&(!n||0<d&&!p)&&(r+=o)}}return r}function m(e,t){if(null==e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);var i=!1;d&&"string"==typeof e&&d.test(e)&&(e="'"+e,i=!0);var o=e.toString().replace(h,l);return(i=i||!0===n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||function(e,t){for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1}(o,r.BAD_DELIMITERS)||-1<o.indexOf(s)||" "===o.charAt(0)||" "===o.charAt(o.length-1))?a+o+a:o}}};if(r.RECORD_SEP=String.fromCharCode(30),r.UNIT_SEP=String.fromCharCode(31),r.BYTE_ORDER_MARK="\ufeff",r.BAD_DELIMITERS=["\r","\n",'"',r.BYTE_ORDER_MARK],r.WORKERS_SUPPORTED=!n&&!!t.Worker,r.NODE_STREAM_INPUT=1,r.LocalChunkSize=10485760,r.RemoteChunkSize=5242880,r.DefaultDelimiter=",",r.Parser=m,r.ParserHandle=p,r.NetworkStreamer=u,r.FileStreamer=c,r.StringStreamer=d,r.ReadableStreamStreamer=h,t.jQuery){var a=t.jQuery;a.fn.parse=function(e){var n=e.config||{},i=[];return this.each((function(e){if("INPUT"!==a(this).prop("tagName").toUpperCase()||"file"!==a(this).attr("type").toLowerCase()||!t.FileReader||!this.files||0===this.files.length)return!0;for(var s=0;s<this.files.length;s++)i.push({file:this.files[s],inputElem:this,instanceConfig:a.extend({},n)})})),s(),this;function s(){if(0!==i.length){var t,n,s,l=i[0];if(w(e.before)){var u=e.before(l.file,l.inputElem);if("object"==typeof u){if("abort"===u.action)return"AbortError",t=l.file,n=l.inputElem,s=u.reason,void(w(e.error)&&e.error({name:"AbortError"},t,n,s));if("skip"===u.action)return void o();"object"==typeof u.config&&(l.instanceConfig=a.extend(l.instanceConfig,u.config))}else if("skip"===u)return void o()}var c=l.instanceConfig.complete;l.instanceConfig.complete=function(e){w(c)&&c(e,l.file,l.inputElem),o()},r.parse(l.file,l.instanceConfig)}else w(e.complete)&&e.complete()}function o(){i.splice(0,1),s()}}}function l(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=_(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new p(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,n){if(this.isFirstChunk&&w(this._config.beforeFirstChunk)){var s=this._config.beforeFirstChunk(e);void 0!==s&&(e=s)}this.isFirstChunk=!1,this._halted=!1;var o=this._partialLine+e;this._partialLine="";var a=this._handle.parse(o,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var l=a.meta.cursor;this._finished||(this._partialLine=o.substring(l-this._baseIndex),this._baseIndex=l),a&&a.data&&(this._rowCount+=a.data.length);var u=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(i)t.postMessage({results:a,workerId:r.WORKER_ID,finished:u});else if(w(this._config.chunk)&&!n){if(this._config.chunk(a,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);a=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(a.data),this._completeResults.errors=this._completeResults.errors.concat(a.errors),this._completeResults.meta=a.meta),this._completed||!u||!w(this._config.complete)||a&&a.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),u||a&&a.meta.paused||this._nextChunk(),a}this._halted=!0},this._sendError=function(e){w(this._config.error)?this._config.error(e):i&&this._config.error&&t.postMessage({workerId:r.WORKER_ID,error:e,finished:!1})}}function u(e){var t;(e=e||{}).chunkSize||(e.chunkSize=r.RemoteChunkSize),l.call(this,e),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),n||(t.onload=b(this._chunkLoaded,this),t.onerror=b(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var i in e)t.setRequestHeader(i,e[i])}if(this._config.chunkSize){var s=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+s)}try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}n&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:t.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(e){var t=e.getResponseHeader("Content-Range");return null===t?-1:parseInt(t.substring(t.lastIndexOf("/")+1))}(t),this.parseChunk(t.responseText)))},this._chunkError=function(e){var n=t.statusText||e;this._sendError(new Error(n))}}function c(e){var t,n;(e=e||{}).chunkSize||(e.chunkSize=r.LocalChunkSize),l.call(this,e);var i="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,i?((t=new FileReader).onload=b(this._chunkLoaded,this),t.onerror=b(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var s=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,s)}var o=t.readAsText(e,this._config.encoding);i||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function d(e){var t;l.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,n=this._config.chunkSize;return n?(e=t.substring(0,n),t=t.substring(n)):(e=t,t=""),this._finished=!t,this.parseChunk(e)}}}function h(e){l.call(this,e=e||{});var t=[],n=!0,i=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){i&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=b((function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}}),this),this._streamError=b((function(e){this._streamCleanUp(),this._sendError(e)}),this),this._streamEnd=b((function(){this._streamCleanUp(),i=!0,this._streamData("")}),this),this._streamCleanUp=b((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function p(e){var t,n,i,s=Math.pow(2,53),o=-s,a=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,l=/^(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))$/,u=this,c=0,d=0,h=!1,p=!1,v=[],g={data:[],errors:[],meta:{}};if(w(e.step)){var y=e.step;e.step=function(t){if(g=t,C())k();else{if(k(),0===g.data.length)return;c+=t.data.length,e.preview&&c>e.preview?n.abort():(g.data=g.data[0],y(g,u))}}}function b(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function k(){return g&&i&&(x("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+r.DefaultDelimiter+"'"),i=!1),e.skipEmptyLines&&(g.data=g.data.filter((function(e){return!b(e)}))),C()&&function(){if(g)if(Array.isArray(g.data[0])){for(var t=0;C()&&t<g.data.length;t++)g.data[t].forEach(n);g.data.splice(0,1)}else g.data.forEach(n);function n(t,n){w(e.transformHeader)&&(t=e.transformHeader(t,n)),v.push(t)}}(),function(){if(!g||!e.header&&!e.dynamicTyping&&!e.transform)return g;function t(t,n){var i,s=e.header?{}:[];for(i=0;i<t.length;i++){var o=i,r=t[i];e.header&&(o=i>=v.length?"__parsed_extra":v[i]),e.transform&&(r=e.transform(r,o)),r=E(o,r),"__parsed_extra"===o?(s[o]=s[o]||[],s[o].push(r)):s[o]=r}return e.header&&(i>v.length?x("FieldMismatch","TooManyFields","Too many fields: expected "+v.length+" fields but parsed "+i,d+n):i<v.length&&x("FieldMismatch","TooFewFields","Too few fields: expected "+v.length+" fields but parsed "+i,d+n)),s}var n=1;return!g.data.length||Array.isArray(g.data[0])?(g.data=g.data.map(t),n=g.data.length):g.data=t(g.data,0),e.header&&g.meta&&(g.meta.fields=v),d+=n,g}()}function C(){return e.header&&0===v.length}function E(t,n){return i=t,e.dynamicTypingFunction&&void 0===e.dynamicTyping[i]&&(e.dynamicTyping[i]=e.dynamicTypingFunction(i)),!0===(e.dynamicTyping[i]||e.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(function(e){if(a.test(e)){var t=parseFloat(e);if(o<t&&t<s)return!0}return!1}(n)?parseFloat(n):l.test(n)?new Date(n):""===n?null:n):n;var i}function x(e,t,n,i){var s={type:e,code:t,message:n};void 0!==i&&(s.row=i),g.errors.push(s)}this.parse=function(s,o,a){var l=e.quoteChar||'"';if(e.newline||(e.newline=function(e,t){e=e.substring(0,1048576);var n=new RegExp(f(t)+"([^]*?)"+f(t),"gm"),i=(e=e.replace(n,"")).split("\r"),s=e.split("\n"),o=1<s.length&&s[0].length<i[0].length;if(1===i.length||o)return"\n";for(var r=0,a=0;a<i.length;a++)"\n"===i[a][0]&&r++;return r>=i.length/2?"\r\n":"\r"}(s,l)),i=!1,e.delimiter)w(e.delimiter)&&(e.delimiter=e.delimiter(s),g.meta.delimiter=e.delimiter);else{var u=function(t,n,i,s,o){var a,l,u,c;o=o||[",","\t","|",";",r.RECORD_SEP,r.UNIT_SEP];for(var d=0;d<o.length;d++){var h=o[d],p=0,f=0,v=0;u=void 0;for(var g=new m({comments:s,delimiter:h,newline:n,preview:10}).parse(t),y=0;y<g.data.length;y++)if(i&&b(g.data[y]))v++;else{var _=g.data[y].length;f+=_,void 0!==u?0<_&&(p+=Math.abs(_-u),u=_):u=_}0<g.data.length&&(f/=g.data.length-v),(void 0===l||p<=l)&&(void 0===c||c<f)&&1.99<f&&(l=p,a=h,c=f)}return{successful:!!(e.delimiter=a),bestDelimiter:a}}(s,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);u.successful?e.delimiter=u.bestDelimiter:(i=!0,e.delimiter=r.DefaultDelimiter),g.meta.delimiter=e.delimiter}var c=_(e);return e.preview&&e.header&&c.preview++,t=s,n=new m(c),g=n.parse(t,o,a),k(),h?{meta:{paused:!0}}:g||{meta:{paused:!1}}},this.paused=function(){return h},this.pause=function(){h=!0,n.abort(),t=w(e.chunk)?"":t.substring(n.getCharIndex())},this.resume=function(){u.streamer._halted?(h=!1,u.streamer.parseChunk(t,!0)):setTimeout(u.resume,3)},this.aborted=function(){return p},this.abort=function(){p=!0,n.abort(),g.meta.aborted=!0,w(e.complete)&&e.complete(g),t=""}}function f(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function m(e){var t,n=(e=e||{}).delimiter,i=e.newline,s=e.comments,o=e.step,a=e.preview,l=e.fastMode,u=t=void 0===e.quoteChar||null===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(u=e.escapeChar),("string"!=typeof n||-1<r.BAD_DELIMITERS.indexOf(n))&&(n=","),s===n)throw new Error("Comment character same as delimiter");!0===s?s="#":("string"!=typeof s||-1<r.BAD_DELIMITERS.indexOf(s))&&(s=!1),"\n"!==i&&"\r"!==i&&"\r\n"!==i&&(i="\n");var c=0,d=!1;this.parse=function(e,r,h){if("string"!=typeof e)throw new Error("Input must be a string");var p=e.length,m=n.length,v=i.length,g=s.length,y=w(o),_=[],b=[],k=[],C=c=0;if(!e)return R();if(l||!1!==l&&-1===e.indexOf(t)){for(var E=e.split(i),x=0;x<E.length;x++){if(k=E[x],c+=k.length,x!==E.length-1)c+=i.length;else if(h)return R();if(!s||k.substring(0,g)!==s){if(y){if(_=[],$(k.split(n)),P(),d)return R()}else $(k.split(n));if(a&&a<=x)return _=_.slice(0,a),R(!0)}}return R()}for(var S=e.indexOf(n,c),M=e.indexOf(i,c),O=new RegExp(f(u)+f(t),"g"),T=e.indexOf(t,c);;)if(e[c]!==t)if(s&&0===k.length&&e.substring(c,c+g)===s){if(-1===M)return R();c=M+v,M=e.indexOf(i,c),S=e.indexOf(n,c)}else if(-1!==S&&(S<M||-1===M))k.push(e.substring(c,S)),c=S+m,S=e.indexOf(n,c);else{if(-1===M)break;if(k.push(e.substring(c,M)),I(M+v),y&&(P(),d))return R();if(a&&_.length>=a)return R(!0)}else for(T=c,c++;;){if(-1===(T=e.indexOf(t,T+1)))return h||b.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:_.length,index:c}),A();if(T===p-1)return A(e.substring(c,T).replace(O,t));if(t!==u||e[T+1]!==u){if(t===u||0===T||e[T-1]!==u){-1!==S&&S<T+1&&(S=e.indexOf(n,T+1)),-1!==M&&M<T+1&&(M=e.indexOf(i,T+1));var L=B(-1===M?S:Math.min(S,M));if(e.substr(T+1+L,m)===n){k.push(e.substring(c,T).replace(O,t)),e[c=T+1+L+m]!==t&&(T=e.indexOf(t,c)),S=e.indexOf(n,c),M=e.indexOf(i,c);break}var D=B(M);if(e.substring(T+1+D,T+1+D+v)===i){if(k.push(e.substring(c,T).replace(O,t)),I(T+1+D+v),S=e.indexOf(n,c),T=e.indexOf(t,c),y&&(P(),d))return R();if(a&&_.length>=a)return R(!0);break}b.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:_.length,index:c}),T++}}else T++}return A();function $(e){_.push(e),C=c}function B(t){var n=0;if(-1!==t){var i=e.substring(T+1,t);i&&""===i.trim()&&(n=i.length)}return n}function A(t){return h||(void 0===t&&(t=e.substring(c)),k.push(t),c=p,$(k),y&&P()),R()}function I(t){c=t,$(k),k=[],M=e.indexOf(i,c)}function R(e){return{data:_,errors:b,meta:{delimiter:n,linebreak:i,aborted:d,truncated:!!e,cursor:C+(r||0)}}}function P(){o(R()),_=[],b=[]}},this.abort=function(){d=!0},this.getCharIndex=function(){return c}}function v(e){var t=e.data,n=s[t.workerId],i=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var o={abort:function(){i=!0,g(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(w(n.userStep)){for(var r=0;r<t.results.data.length&&(n.userStep({data:t.results.data[r],errors:t.results.errors,meta:t.results.meta},o),!i);r++);delete t.results}else w(n.userChunk)&&(n.userChunk(t.results,o,t.file),delete t.results)}t.finished&&!i&&g(t.workerId,t.results)}function g(e,t){var n=s[e];w(n.userComplete)&&n.userComplete(t),n.terminate(),delete s[e]}function y(){throw new Error("Not implemented.")}function _(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var n in e)t[n]=_(e[n]);return t}function b(e,t){return function(){e.apply(t,arguments)}}function w(e){return"function"==typeof e}return i&&(t.onmessage=function(e){var n=e.data;if(void 0===r.WORKER_ID&&n&&(r.WORKER_ID=n.workerId),"string"==typeof n.input)t.postMessage({workerId:r.WORKER_ID,results:r.parse(n.input,n.config),finished:!0});else if(t.File&&n.input instanceof File||n.input instanceof Object){var i=r.parse(n.input,n.config);i&&t.postMessage({workerId:r.WORKER_ID,results:i,finished:!0})}}),(u.prototype=Object.create(l.prototype)).constructor=u,(c.prototype=Object.create(l.prototype)).constructor=c,(d.prototype=Object.create(d.prototype)).constructor=d,(h.prototype=Object.create(l.prototype)).constructor=h,r},void 0===(i=n.apply(t,[]))||(e.exports=i)}},i={};function s(e){var t=i[e];if(void 0!==t)return t.exports;var o=i[e]={exports:{}};return n[e].call(o.exports,o,o.exports,s),o.exports}s.m=n,s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce(((t,n)=>(s.f[n](e,t),t)),[])),s.u=e=>({293:"36117c7ce56cc92371b8",354:"a20d79c324d7155720ae",356:"b7f4deb41613c88e821e",380:"d090a1666ecda60c81f5",683:"500f831481b9b5e7d72f",740:"afa0789db278424c154f"}[e]+".js"),s.miniCssF=e=>{},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="lineup_app:",s.l=(n,i,o,r)=>{if(e[n])e[n].push(i);else{var a,l;if(void 0!==o)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+o){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,s.nc&&a.setAttribute("nonce",s.nc),a.setAttribute("data-webpack",t+o),a.src=n),e[n]=[i];var h=(t,i)=>{a.onerror=a.onload=null,clearTimeout(p);var s=e[n];if(delete e[n],a.parentNode&&a.parentNode.removeChild(a),s&&s.forEach((e=>e(i))),t)return t(i)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}},s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.p="",(()=>{var e={143:0};s.f.j=(t,n)=>{var i=s.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var o=new Promise(((n,s)=>i=e[t]=[n,s]));n.push(i[2]=o);var r=s.p+s.u(t),a=new Error;s.l(r,(n=>{if(s.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",a.name="ChunkLoadError",a.type=o,a.request=r,i[1](a)}}),"chunk-"+t,t)}};var t=(t,n)=>{var i,o,[r,a,l]=n,u=0;if(r.some((t=>0!==e[t]))){for(i in a)s.o(a,i)&&(s.m[i]=a[i]);l&&l(s)}for(t&&t(n);u<r.length;u++)o=r[u],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.webpackChunklineup_app=self.webpackChunklineup_app||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";s.p;var e=s(443);s.p,s.p,s.p;const t={lineup:null,dataset:null,datasets:[],session:null},n=".lu {\n  clear: both;\n  position: absolute;\n  top: 1px;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  padding: 0;\n}\n",i=LineUpJS;function o(e){return`${function(e){return e.toLowerCase().replace(/[\s@;./\\:_+~"#'!$%&()[\]{}?`]+/g,"_")}(e)}-${3,Math.random().toString(36).slice(-8).substr(0,3)}`}function r(e){const t=e.search(/[\n\r]/);return t<0?e:`${e.slice(0,t).replace(/[ @./\\:_+~#!$%&()[\]{}?`]+/g,"_")}${e.slice(t)}`}const a=e.Modal.init(document.getElementById("modalAreYouSure")),l=e.Modal.init(document.getElementById("modalSave"));function u(e){return new Promise((t=>{a.el.querySelector(".are-you-sure").innerHTML=e,a.el.querySelector(".are-you-sure-confirm").onclick=()=>t(!0),a.open()}))}function c(t,n,i){const s=l.el;s.querySelector("h4").innerHTML=t,s.querySelector("input").value=n;const o=s.querySelector("textarea");return o.parentElement.style.display=null==i?"none":"",o.value=i||"",(0,e.updateTextFields)(),new Promise((t=>{s.onsubmit=e=>{e.preventDefault(),e.stopPropagation();const n=new FormData(s);l.close(),t({name:n.get("name"),description:n.get("description")})},l.open(),(0,e.textareaAutoResize)(o)}))}const d=86400,h=[[-1,"in the future"],[43,"a few seconds ago"],[44,"44 seconds ago"],[89,"a minute ago"],[2640,e=>`${Math.ceil(e/60)} minutes ago`],[5340,"an hour ago"],[75600,e=>`${Math.ceil(e/3600)} hours ago`],[126e3,"a day ago"],[25*d,e=>`${Math.ceil(e/d)} days ago`],[45*d,"a month ago"],[319*d,e=>`${Math.ceil(e/d/30)} months ago`],[547*d,()=>"a year ago"]];function p(e){return new Intl.DateTimeFormat(void 0,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"}).format(e)}const f="preloaded",m=(s.p,"https://lineup.js.org/app_develop/schema.1.0.0.json");function v(e,t,n){return`\nconst parsed = JSON.parse(${e});\nconst dump = ${n};\n\nconst lineup = LineUpJS\n  .builder(parsed)\n  .deriveColumns()\n  .deriveColors()\n  .restore(dump)\n  .build(${t});\n`}const g={type:"json",supports:e=>e.name.endsWith(".json")||"application/json"===e.type,loadFile:e=>new Promise((t=>{const n=new FileReader;n.onload=()=>{const e=String(n.result),i=JSON.parse(e);t({raw:e,parsed:i})},n.readAsText(e)})).then((({raw:t,parsed:n})=>{if((s=n)&&s.$schema===m)return Promise.resolve(function(e){return delete e.$schema,e.id=o(e.name),e.creationDate=new Date(e.creationDate),e.sessions&&e.sessions.forEach((e=>e.creationDate=new Date(e.creationDate))),e}(n));var s;if(!Array.isArray(n)||0===n.length||"object"!=typeof n[0])return Promise.reject("not an array of objects");const r=e.name.split(".").slice(0,-1).join(".");return{id:o(r),type:"json",name:r,creationDate:new Date,description:`Imported from "${e.name}" on ${p(new Date)}`,rawData:t,buildScript:v,build:e=>(0,i.builder)(n).deriveColumns().deriveColors().defaultRanking().buildTaggle(e)}})),complete:e=>Object.assign(e,{type:"json",buildScript:v,build:t=>{const n=JSON.parse(e.rawData);return(0,i.builder)(n).deriveColumns().deriveColors().defaultRanking().buildTaggle(t)}})},y=g;var _=s(159);function b(e,t,n){return`\nconst parsed = Papa.parse(${e}, {\n  dynamicTyping: true,\n  header: true,\n  skipEmptyLines: true\n});\nconst dump = ${n};\n\nconst lineup = LineUpJS\n  .builder(parsed.data)\n  .deriveColumns(parsed.meta.fields)\n  .deriveColors()\n  .restore(dump)\n  .build(${t});\n`}const w={type:"csv",supports:e=>e.name.endsWith(".csv")||e.name.endsWith(".tsv")||e.name.endsWith(".txt")||"text/csv"===e.type,loadFile:e=>new Promise((t=>{const n=new FileReader;n.onload=()=>{const e=r(String(n.result)),i=(0,_.parse)(e,{dynamicTyping:!0,header:!0,skipEmptyLines:!0});t({raw:e,parsed:i})},n.readAsText(e)})).then((({raw:t,parsed:n})=>{const s=e.name.split(".").slice(0,-1).join(".");return{id:o(s),type:"csv",name:s,creationDate:new Date,description:`Imported from "${e.name}" on ${p(new Date)}`,rawData:t,buildScript:b,build:e=>(0,i.builder)(n.data).deriveColumns(n.meta.fields).deriveColors().defaultRanking().buildTaggle(e)}})),complete:e=>Object.assign(e,{type:"csv",buildScript:b,build:t=>{const n=(0,_.parse)(e.rawData,{dynamicTyping:!0,header:!0,skipEmptyLines:!0});return(0,i.builder)(n.data).deriveColumns(n.meta.fields).deriveColors().defaultRanking().buildTaggle(t)}})},k=w;var C=s(748),E=s.n(C);const x=s.p+"cc7da449ebe155b02dcd.png",S=s.p+"ebedcfadb66aea3f35f1.png",M={id:"wur",type:f,creationDate:new Date,name:"Times Higher Education World University Ranking",image:x,link:"https://www.kaggle.com/mylesoneill/world-university-rankings/version/3",description:'<p>\n  Of all the universities in the world, which are the best?\n</p>\n<p>\n  Ranking universities is a difficult, political, and controversial practice. There are hundreds of different national and\n  international university ranking systems, many of which disagree with each other. This dataset contains\n  three global university rankings from very different places.\n</p><p>\nThe <a href="https://www.timeshighereducation.com/world-university-rankings" target="_blank" rel="noopener">Times Higher\nEducation World University Ranking</a> is widely regarded as one of the most influential and widely observed\nuniversity measures. Founded in the United Kingdom in 2010, it has been criticized for its commercialization\nand for undermining non-English-instructing institutions.\n</p>',rawData:"",buildScript(e,t,n){const i=this.yearArray;return`\n// per year:\nconst yearArray = ${JSON.stringify(i)};\nconst rows = JSON.parse(${e});\nconst dump = ${n};\n\nconst perYear = 'score,national_rank,quality_of_education,alumni_employment,quality_of_faculty,publications,influence,citations,broad_impact,patents'.split(',');\nconst b = LineUpJS.builder(rows)\n  .column(LineUpJS.buildStringColumn('institution'))\n  .column(LineUpJS.buildStringColumn('country'));\n\nyearArray.slice(0, 2).forEach((year) => {\n  perYear.forEach((k) => {\n    b.column(LineUpJS.buildNumberColumn(year + '_' + k).label(k + '(' + year + ')'));\n  });\n});\n\nyearArray.slice(2).forEach((year) => {\n  b.column(LineUpJS.buildNumberColumn(year + '_score').label('score (' + year + ')'));\n});\n\nconst lineup = b.deriveColors().restore(dump).buildTaggle(${t});\n  `},build(e){return s.e(380).then(s.bind(s,380)).then((e=>{const t=e.default?e.default:e;return this.rawData=t,(0,_.parse)(t,{dynamicTyping:!0,header:!0,skipEmptyLines:!0})})).then((t=>{const{rows:n,yearArray:s}=T(t.data,"institution");this.rawData=JSON.stringify(n),this.yearArray=s;const o="score,national_rank,quality_of_education,alumni_employment,quality_of_faculty,publications,influence,citations,broad_impact,patents".split(","),r=(0,i.builder)(n).column((0,i.buildStringColumn)("institution")).column((0,i.buildStringColumn)("country"));return s.slice(0,2).forEach((e=>{const t=(0,i.buildRanking)().supportTypes().column("institution").column("country").sortBy(`${e}_score`,"desc");o.forEach((n=>{r.column((0,i.buildNumberColumn)(`${e}_${n}`).label(`${n} (${e})`)),t.column(`${e}_${n}`)})),r.ranking(t)})),s.slice(2).forEach((e=>{r.column((0,i.buildNumberColumn)(`${e}_score`).label(`score (${e})`))})),r.deriveColors().buildTaggle(e)}))}},O={id:"shanghai",type:f,creationDate:new Date,name:"Academic Ranking of World Universities",image:S,link:"https://www.kaggle.com/mylesoneill/world-university-rankings/version/3",description:'<p>\n  Of all the universities in the world, which are the best?\n</p>\n<p>\n  Ranking universities is a difficult, political, and controversial practice. There are hundreds of different national and\n  international university ranking systems, many of which disagree with each other. This dataset contains\n  three global university rankings from very different places.\n</p><p>\nThe <a href="http://www.shanghairanking.com/" target="_blank" rel="noopener">Academic Ranking of World Universities</a>, also known as the Shanghai Ranking,\nis an equally influential ranking. It was founded in China in 2003 and has been criticized for focusing on raw research power\nand for undermining humanities and quality of instruction.\n</p>',rawData:"",buildScript(e,t,n){const i=this.yearArray;return`// per year:\nconst yearArray = ${JSON.stringify(i)};\nconst rows = JSON.parse(${e});\nconst dump = ${n};\n\nconst perYear = 'total_score,alumni,award,hici,ns,pub,pcp'.split(',');\nconst b = builder(rows)\n  .column(buildStringColumn('university_name'));\n\nyearArray.slice(0, 2).forEach((year) => {\n  const bb = buildRanking()\n    .supportTypes()\n    .column('university_name')\n    .column(year + '_national_rank')\n    .sortBy(year + '_total_score', 'desc');\n\n  b.column(buildNumberColumn(year + '_national_rank').label('national_rank'));\n  perYear.forEach((k) => {\n    b.column(buildNumberColumn(year + '_' + k, [0, 100]).label(k + '(' + year + ')'));\n    bb.column(year + '_' + k);\n  });\n  b.ranking(bb);\n});\n\nyearArray.slice(2).forEach((year) => {\n  b.column(buildNumberColumn(year + '_total_score', [0, 100]).label('total_score (' + year + ')'));\n});\n\nconst lineup = b.deriveColors().restore(dump).buildTaggle(${t});`},build(e){return s.e(356).then(s.bind(s,356)).then((e=>{const t=e.default?e.default:e;return(0,_.parse)(t,{dynamicTyping:!0,header:!0,skipEmptyLines:!0})})).then((t=>{const{rows:n,yearArray:s}=T(t.data,"university_name");this.rawData=JSON.stringify(n),this.yearArray=s;const o="total_score,alumni,award,hici,ns,pub,pcp".split(","),r=(0,i.builder)(n).column((0,i.buildStringColumn)("university_name"));return s.slice(0,2).forEach((e=>{const t=(0,i.buildRanking)().supportTypes().column("university_name").column(`${e}_national_rank`).sortBy(`${e}_total_score`,"desc");r.column((0,i.buildNumberColumn)(`${e}_national_rank`).label("national_rank")),o.forEach((n=>{r.column((0,i.buildNumberColumn)(`${e}_${n}`,[0,100]).label(`${n} (${e})`)),t.column(`${e}_${n}`)})),r.ranking(t)})),s.slice(2).forEach((e=>{r.column((0,i.buildNumberColumn)(`${e}_total_score`,[0,100]).label(`total_score (${e})`))})),r.deriveColors().buildTaggle(e)}))}};function T(e,t){const n=new Map,i=new Set;return e.forEach((e=>{const s=e[t];n.has(s)||n.set(s,e);const o=n.get(s),r=e.year;i.add(r),Object.keys(e).forEach((t=>{o[`${r}_${t}`]=e[t]}))})),{rows:Array.from(n.values()),yearArray:Array.from(i).sort()}}const L=s.p+"b776cca4f6611ef34a84.png",D={id:"forbes",type:f,creationDate:new Date,name:"Forbes Top 2000",image:L,link:"https://www.kaggle.com/ash316/forbes-top-2000-companies",description:"<p>\n  Every Year Forbes.com releases a list of Top 2000 companies worldwide. These companies are ranked by various metrics like\n  the company size, its market value, sales, profit,etc.\n</p>",rawData:"",buildScript:(e,t,n)=>`\nconst parsed = Papa.parse(${e}, {\n  dynamicTyping: true,\n  header: true,\n  skipEmptyLines: true\n});\nconst dump = ${n};\n\nconst lineup = LineUpJS.builder(parsed.data)\n  .column(LineUpJS.buildStringColumn('Company'))\n  .column(LineUpJS.buildStringColumn('Country'))\n  .column(LineUpJS.buildNumberColumn('Rank'))\n  .column(LineUpJS.buildNumberColumn('Sales'))\n  .column(LineUpJS.buildNumberColumn('Market Value'))\n  .column(LineUpJS.buildNumberColumn('Profits'))\n  .column(LineUpJS.buildNumberColumn('Assets'))\n  .column(LineUpJS.buildCategoricalColumn('Sector'))\n  .column(LineUpJS.buildStringColumn('Industry'))\n  .deriveColors()\n  .restore(dump)\n  .buildTaggle(${t});\n  `,build(e){return s.e(683).then(s.bind(s,683)).then((e=>{const t=e.default?e.default:e;return this.rawData=t,(0,_.parse)(t,{dynamicTyping:!0,header:!0,skipEmptyLines:!0})})).then((t=>(0,i.builder)(t.data).column((0,i.buildStringColumn)("Company")).column((0,i.buildStringColumn)("Country")).column((0,i.buildNumberColumn)("Rank").label("Forbes Rank")).column((0,i.buildNumberColumn)("Sales")).column((0,i.buildNumberColumn)("Market Value")).column((0,i.buildNumberColumn)("Profits")).column((0,i.buildNumberColumn)("Assets")).column((0,i.buildCategoricalColumn)("Sector")).column((0,i.buildStringColumn)("Industry")).deriveColors().ranking((0,i.buildRanking)().supportTypes().allColumns().sortBy("Forbes Rank","asc")).buildTaggle(e)))}},$=s.p+"67321768d23a2385fc3e.png",B={id:"happiness",type:f,creationDate:new Date,name:"World Happiness Report",image:$,link:"https://www.kaggle.com/unsdsn/world-happiness",description:"<p>The World Happiness Report is a landmark survey of the state of global happiness. The first report was published in 2012,\n  the second in 2013, the third in 2015, and the fourth in the 2016 Update. The World Happiness 2017, which\n  ranks 155 countries by their happiness levels, was released at the United Nations at an event celebrating\n  International Day of Happiness on March 20th.</p>",rawData:"",buildScript:(e,t,n)=>`\nconst parsed = Papa.parse(${e}, {\n  dynamicTyping: true,\n  header: true,\n  skipEmptyLines: true\n});\nconst dump = ${n};\n\nconst lineup = LineUpJS.builder(parsed.data)\n  .column(LineUpJS.buildStringColumn('Country'))\n  .column(LineUpJS.buildNumberColumn('Happiness_Score', [0, 10]))\n  .column(LineUpJS.buildNumberColumn('Economy_GDP_per_Capita_', [0, 10]))\n  .column(LineUpJS.buildNumberColumn('Family', [0, 10]))\n  .column(LineUpJS.buildNumberColumn('Health_Life_Expectancy_', [0, 10]))\n  .column(LineUpJS.buildNumberColumn('Freedom', [0, 10]))\n  .column(LineUpJS.buildNumberColumn('Generosity', [0, 10]))\n  .column(LineUpJS.buildNumberColumn('Trust_Government_Corruption_', [0, 10]))\n  .column(LineUpJS.buildNumberColumn('Dystopia_Residual', [0, 10]))\n  .deriveColors()\n  .restore(dump)\n  .buildTaggle(${t});\n`,build(e){return s.e(740).then(s.bind(s,740)).then((e=>{const t=e.default?e.default:e;return this.rawData=r(t),(0,_.parse)(this.rawData,{dynamicTyping:!0,header:!0,skipEmptyLines:!0})})).then((t=>(0,i.builder)(t.data).column((0,i.buildStringColumn)("Country")).column((0,i.buildNumberColumn)("Happiness_Score",[0,10])).column((0,i.buildNumberColumn)("Economy_GDP_per_Capita_",[0,10])).column((0,i.buildNumberColumn)("Family",[0,10])).column((0,i.buildNumberColumn)("Health_Life_Expectancy_",[0,10])).column((0,i.buildNumberColumn)("Freedom",[0,10])).column((0,i.buildNumberColumn)("Generosity",[0,10])).column((0,i.buildNumberColumn)("Trust_Government_Corruption_",[0,10])).column((0,i.buildNumberColumn)("Dystopia_Residual",[0,10])).deriveColors().ranking((0,i.buildRanking)().supportTypes().allColumns().sortBy("Happiness_Score","desc")).buildTaggle(e)))}},A={id:"soccer",type:f,creationDate:new Date,name:"Soccer Stats",image:"./preview.png",link:"https://www.kaggle.com/gimunu/football-striker-performance",description:"<p>\n  The aim of this dataset is to offer in a relatively small number of columns (~30) data to compare the performance of some football players, or to compare the efficiency of strikers in-between different European leagues.\n</p>",rawData:"",buildScript:(e,t,n)=>`\nconst parsed = Papa.parse(${e}, {\n  dynamicTyping: true,\n  header: true,\n  skipEmptyLines: true\n});\nconst dump = ${n};\n\nparsed.data.forEach((row) => {\n  const suffix = [12, 13, 14, 15, 16, 17];\n  const cols = ['games', 'goals', 'minutes', 'assists'];\n  cols.forEach((col) => {\n    row[col] = suffix.map((d) => !row[col + d] && row[col + d] !== 0 ? null : row[col + d]);\n  });\n});\n\nconst lineup = LineUpJS.builder(parsed.data)\n  .column(LineUpJS.buildStringColumn('player'))\n  .column(LineUpJS.buildNumberColumn('age', [0, NaN]))\n  .column(LineUpJS.buildStringColumn('current_club'))\n  .column(LineUpJS.buildCategoricalColumn('current_league'))\n  .column(LineUpJS.buildCategoricalColumn('foot'))\n  .column(LineUpJS.buildNumberColumn('height', [160, NaN]))\n  .column(LineUpJS.buildStringColumn('nationality'))\n  .column(LineUpJS.buildCategoricalColumn('position'))\n  .column(LineUpJS.buildNumberColumn('games', [0, NaN]).asArray(4))\n  .column(LineUpJS.buildNumberColumn('goals', [0, NaN]).asArray(4))\n  .column(LineUpJS.buildNumberColumn('minutes', [0, NaN]).asArray(4))\n  .column(LineUpJS.buildNumberColumn('assists', [0, NaN]).asArray(4))\n  .deriveColors()\n  .restore(dump)\n  .buildTaggle(${t});\n`,build(e){return s.e(293).then(s.bind(s,293)).then((e=>{const t=e.default?e.default:e;return this.rawData=t,(0,_.parse)(t,{dynamicTyping:!0,header:!0,skipEmptyLines:!0})})).then((t=>{const n=[12,13,14,15,16,17],s=["games","goals","minutes","assists"],o=n.map((e=>`20${e}`));return t.data.forEach((e=>{s.forEach((t=>{e[t]=n.map((n=>e[`${t}${n}`]||0===e[`${t}${n}`]?e[`${t}${n}`]:null))}))})),(0,i.builder)(t.data).column((0,i.buildStringColumn)("player").width(150)).column((0,i.buildNumberColumn)("age",[0,NaN])).column((0,i.buildStringColumn)("current_club").width(100)).column((0,i.buildCategoricalColumn)("current_league")).column((0,i.buildCategoricalColumn)("foot")).column((0,i.buildNumberColumn)("height",[160,210])).column((0,i.buildStringColumn)("nationality")).column((0,i.buildCategoricalColumn)("position")).column((0,i.buildNumberColumn)("games",[0,NaN]).asArray(o).width(300)).column((0,i.buildNumberColumn)("goals",[0,NaN]).asArray(o).width(300)).column((0,i.buildNumberColumn)("minutes",[0,NaN]).asArray(o)).column((0,i.buildNumberColumn)("assists",[0,NaN]).asArray(o)).deriveColors().ranking((0,i.buildRanking)().supportTypes().column("player").column("current_league").column("current_club").column("position").column("foot").column("age").column("height").column("goals").column("games")).aggregationStrategy("group+top+item").buildTaggle(e)}))}},I=A,R=s.p+"5966ef7dce4c7bd1df83.png",P=s.p+"fb841c97ab2eb04109b7.png",j={id:"ieee_bars",type:f,creationDate:new Date,name:"IEEE Programming Languages Bars",image:R,description:'<p>\n  55 programming languages are compared by 11 metrics from 2014 to 2018.\n  For each year, the languages are ranked with stacked bars by their total popularity across all metrics.\n</p>\n  <p>Source: <a href="https://spectrum.ieee.org/static/ieee-top-programming-languages-2018-methods">IEEE Spectrum</a></p>',rawData:"",buildScript:(e,t,n)=>`\n  const parsed = Papa.parse(${e}, {\n    dynamicTyping: true,\n    header: true,\n    skipEmptyLines: true\n  });\n  const dump = ${n};\n\n  const years = [2014, 2015, 2016, 2017, 2018]; // 5 years\n  const sources = ['Career Builder', 'Dice', 'Github (active)', 'Github (created)', 'Google Search', 'Google Trends', 'Hacker News', 'IEEE Xplore', 'Reddit (posts)', 'Stack Overflow (?s)', 'Stack Overflow (views)', 'Twitter']; // 12 sources\n  const spectrumWeights = [5, 5, 50, 30, 50, 50, 20, 100, 20, 30, 30, 20];\n  // //Merge data of multiple years for each source\n  parsed.data.forEach((row) => {\n    sources.forEach((source) => {\n      row[source] = years.map((y) => !row[source + ' ' + y] && row[source + ' ' + y] !== 0 ? null : row[source + ' ' + y]);\n    });\n  });\n\n  // basic data\n  let dataBuilder = LineUpJS.builder(parsed.data)\n    .column(LineUpJS.buildStringColumn('name'))\n    .column(LineUpJS.buildCategoricalColumn('web'))\n    .column(LineUpJS.buildCategoricalColumn('mobile'))\n    .column(LineUpJS.buildCategoricalColumn('enterprise'))\n    .column(LineUpJS.buildCategoricalColumn('embedded'))\n    .column(LineUpJS.buildNumberColumn('NA 2018')); // NA column of 2018\n\n  // source matrices\n  sources.forEach((source) => {\n    dataBuilder = dataBuilder.column(LineUpJS.buildNumberColumn(source).asArray(years.map(String)));\n  });\n\n  // rankings per year, begin with 2018\n  years.reverse().forEach((year) => {\n    const columnNames: string[] = [];\n    const colSpectrumWeights = spectrumWeights.slice(); //duplicate array\n\n    sources.forEach((source, i) => {\n      const colName = source + ' ' + year;\n      if(colName === 'Google Trends 2018') {\n        // not available in dataset\n        colSpectrumWeights.splice(i, 1); //remove weight\n      } else {\n        dataBuilder = dataBuilder.column(LineUpJS.buildNumberColumn(colName)); //Create a column to use it for the ranking\n        columnNames.push(colName);\n      }\n    });\n  });\n\n  const lineup = dataBuilder.deriveColors().restore(dump).buildTaggle(${t});\n  `,build(e){return s.e(354).then(s.bind(s,354)).then((e=>{const t=e.default?e.default:e;return this.rawData=t,(0,_.parse)(t,{dynamicTyping:!0,header:!0,skipEmptyLines:!0})})).then((t=>{const n=[2014,2015,2016,2017,2018],s=["Career Builder","Dice","Github (active)","Github (created)","Google Search","Google Trends","Hacker News","IEEE Xplore","Reddit (posts)","Stack Overflow (?s)","Stack Overflow (views)","Twitter"],o=[5,5,50,30,50,50,20,100,20,30,30,20];t.data.forEach((e=>{s.forEach((t=>{e[t]=n.map((n=>e[`${t} ${n}`]||0===e[`${t} ${n}`]?e[`${t} ${n}`]:null))}))}));let r=(0,i.builder)(t.data).column((0,i.buildStringColumn)("name")).column((0,i.buildCategoricalColumn)("web")).column((0,i.buildCategoricalColumn)("mobile")).column((0,i.buildCategoricalColumn)("enterprise")).column((0,i.buildCategoricalColumn)("embedded")).column((0,i.buildNumberColumn)("NA 2018"));return s.forEach((e=>{r=r.column((0,i.buildNumberColumn)(e).asArray(n.map(String)))})),n.reverse().forEach((e=>{const t=[],n=o.slice();s.forEach(((s,o)=>{const a=`${s} ${e}`;"Google Trends 2018"===a?n.splice(o,1):(r=r.column((0,i.buildNumberColumn)(a)),t.push(a))})),r=r.ranking((0,i.buildRanking)().column({type:"weightedSum",columns:t,weights:n,label:e.toString()}).supportTypes().column("name").sortBy(e.toString(),"desc"))})),r.deriveColors().buildTaggle(e)}))}},N={id:"ieee-heatmap",type:f,creationDate:new Date,name:"IEEE Programming Languages Heatmap",image:P,description:'<p>\n  55 programming languages are compared by 11 metrics from 2014 to 2018.\n  For each year, the languages are ranked by their total popularity across all metrics, collected in a heatmap.\n</p>\n  <p>Source: <a href="https://spectrum.ieee.org/static/ieee-top-programming-languages-2018-methods">IEEE Spectrum</a></p>',rawData:"",buildScript:(e,t,n)=>`\n  const parsed = Papa.parse(${e}, {\n    dynamicTyping: true,\n    header: true,\n    skipEmptyLines: true\n  });\n  const dump = ${n};\n\n  const years = [2014, 2015, 2016, 2017, 2018]; // 5 years\n  const sources = ['Career Builder', 'Dice', 'Github (active)', 'Github (created)', 'Google Search', 'Google Trends', 'Hacker News', 'IEEE Xplore', 'Reddit (posts)', 'Stack Overflow (?s)', 'Stack Overflow (views)', 'Twitter']; // 12 sources\n\n  parsed.data.forEach((row) => {\n    // //Merge data of multiple years for each source\n    sources.forEach((source) => {\n      row[source] = years.map((y) => row[source + ' ' + y]);\n    });\n\n    // Merge data of multiple sources for each year\n    years.forEach((y) => {\n      row[y] = sources.map((source) => row[source + ' ' + y]);\n    });\n  });\n\n\n  // basic data\n  let dataBuilder = LineUpJS.builder(parsed.data)\n    .column(LineUpJS.buildStringColumn('name'))\n    .column(LineUpJS.buildCategoricalColumn('web'))\n    .column(LineUpJS.buildCategoricalColumn('mobile'))\n    .column(LineUpJS.buildCategoricalColumn('enterprise'))\n    .column(LineUpJS.buildCategoricalColumn('embedded'))\n    .column(LineUpJS.buildNumberColumn('NA 2018')); // NA column of 2018\n\n  // source matrices\n  sources.forEach((source) => {\n    dataBuilder = dataBuilder.column(LineUpJS.buildNumberColumn(source, [0, NaN]).asArray(years.map(String)));\n  });\n\n  // year matrices\n  years.forEach((year) => {\n    dataBuilder = dataBuilder.column(LineUpJS.buildNumberColumn(year.toString(), [0, NaN]).asArray(sources));\n  });\n\n  const lineup = dataBuilder.deriveColors().restore(dump).buildTaggle(${t});\n  `,build(e){return s.e(354).then(s.bind(s,354)).then((e=>{const t=e.default?e.default:e;return this.rawData=t,(0,_.parse)(t,{dynamicTyping:!0,header:!0,skipEmptyLines:!0})})).then((t=>{const n=[2014,2015,2016,2017,2018],s=["Career Builder","Dice","Github (active)","Github (created)","Google Search","Google Trends","Hacker News","IEEE Xplore","Reddit (posts)","Stack Overflow (?s)","Stack Overflow (views)","Twitter"];t.data.forEach((e=>{s.forEach((t=>{e[t]=n.map((n=>e[`${t} ${n}`]))})),n.forEach((t=>{e[t]=s.map((n=>e[`${n} ${t}`]))}))}));let o=(0,i.builder)(t.data).column((0,i.buildStringColumn)("name")).column((0,i.buildCategoricalColumn)("web")).column((0,i.buildCategoricalColumn)("mobile")).column((0,i.buildCategoricalColumn)("enterprise")).column((0,i.buildCategoricalColumn)("embedded")).column((0,i.buildNumberColumn)("NA 2018"));return s.forEach((e=>{o=o.column((0,i.buildNumberColumn)(e,[0,NaN]).asArray(n.map(String)))})),n.forEach((e=>{o=o.column((0,i.buildNumberColumn)(e.toString(),[0,NaN]).asArray(s))})),o=o.ranking((0,i.buildRanking)().supportTypes().column("name").column("2018").sortBy("2018","desc")),o=o.ranking((0,i.buildRanking)().supportTypes().column("name").column("2017").column("2016").column("2015").column("2014").sortBy("2017","desc")),o.deriveColors().buildTaggle(e)}))}},H=s.p+"dd392007405b1a257d3c.png",F={id:"simple",type:f,creationDate:new Date,name:"Simple Random Dataset",image:H,description:"A random dataset to illustrate LineUp features",rawData:"",buildScript:(e,t,n)=>`\n// generate some data\nconst arr = [];\nconst cats = ['c1', 'c2', 'c3'];\nfor (let i = 0; i < 100; ++i) {\n  arr.push({\n    d: 'Row ' + i,\n    a: Math.random() * 10,\n    cat: cats[Math.floor(Math.random() * 3)],\n    cat2: cats[Math.floor(Math.random() * 3)]\n  });\n}\n\nconst lineup = LineUpJS.builder(arr)\n  .deriveColumns()\n  .deriveColors()\n  .restore(${n})\n  .build(${t});\n  `,build(e){const t=[],n=["c1","c2","c3"];for(let e=0;e<100;++e)t.push({d:`Row ${e}`,a:10*Math.random(),cat:n[Math.floor(3*Math.random())],cat2:n[Math.floor(3*Math.random())]});return(0,i.builder)(t).deriveColumns().deriveColors().build(e)}},q={id:"big",type:f,creationDate:new Date,name:"1M Random Dataset",image:H,description:"A random dataset to illustrate LineUp scalability with one million rows",rawData:"",buildScript:(e,t,n)=>`\n// generate some data\nconst arr = [];\nconst cats = ['c1', 'c2', 'c3'];\nconst cat2 = ['a1', 'a2'];\nfor (let i = 0; i < 1000000; ++i) {\n  arr.push({\n    label: 'Row ' + i,\n    number: Math.random() * 10,\n    number2: Math.random() * 10,\n    cat: cats[Math.floor(Math.random() * cats.length)],\n    cat2: cat2[Math.floor(Math.random() * cat2.length)]\n  });\n}\nconsole.log('generated');\nconst desc = [{\n    label: 'Label',\n    type: 'string',\n    column: 'label'\n  },\n  {\n    label: 'Number',\n    type: 'number',\n    column: 'number',\n    domain: [0, 10]\n  },\n  {\n  label: 'Number2',\n  type: 'number',\n  column: 'number2',\n  domain: [0, 10]\n  },\n  {\n    label: 'Cat',\n    type: 'categorical',\n    column: 'cat',\n    categories: ['c1', 'c2', 'c3']\n  },\n  {\n    label: 'Cat2',\n    type: 'categorical',\n    column: 'cat2',\n    categories: [{\n      name: 'a1',\n      label: 'A1',\n      color: 'green'\n    }, {\n      name: 'a2',\n      label: 'A2',\n      color: 'blue'\n    }]\n  },\n];\nLineUpJS.deriveColors(desc);\n\nconst p = new LineUpJS.LocalDataProvider(arr, desc, {\n  taskExecutor: 'scheduled'\n});\np.restore(${n});\n\nconst lineup = new LineUpJS.Taggle(${t}, p, {\n  animated: false\n});\nlineup.update();\n  `,build(e){const t=[],n=["c1","c2","c3"],s=["a1","a2"];for(let e=0;e<1e6;++e)t.push({label:`Row ${e}`,number:10*Math.random(),number2:10*Math.random(),cat:n[Math.floor(Math.random()*n.length)],cat2:s[Math.floor(Math.random()*s.length)]});console.log("generated");const o=[{label:"Label",type:"string",column:"label"},{label:"Number",type:"number",column:"number",domain:[0,10]},{label:"Number2",type:"number",column:"number2",domain:[0,10]},{label:"Cat",type:"categorical",column:"cat",categories:["c1","c2","c3"]},{label:"Cat2",type:"categorical",column:"cat2",categories:[{name:"a1",label:"A1",color:"green"},{name:"a2",label:"A2",color:"blue"}]}];(0,i.deriveColors)(o);const r=new i.LocalDataProvider(t,o,{taskExecutor:"scheduled"});r.deriveDefault();const a=new i.Taggle(e,r,{animated:!1});return a.update(),a}},W="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,K=Object.keys,U=Array.isArray;function z(e,t){return"object"!=typeof t||K(t).forEach((function(n){e[n]=t[n]})),e}"undefined"==typeof Promise||W.Promise||(W.Promise=Promise);const J=Object.getPrototypeOf,V={}.hasOwnProperty;function X(e,t){return V.call(e,t)}function Y(e,t){"function"==typeof t&&(t=t(J(e))),("undefined"==typeof Reflect?K:Reflect.ownKeys)(t).forEach((n=>{G(e,n,t[n])}))}const Q=Object.defineProperty;function G(e,t,n,i){Q(e,t,z(n&&X(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},i))}function Z(e){return{from:function(t){return e.prototype=Object.create(t.prototype),G(e.prototype,"constructor",e),{extend:Y.bind(null,e.prototype)}}}}const ee=Object.getOwnPropertyDescriptor;function te(e,t){let n;return ee(e,t)||(n=J(e))&&te(n,t)}const ne=[].slice;function ie(e,t,n){return ne.call(e,t,n)}function se(e,t){return t(e)}function oe(e){if(!e)throw new Error("Assertion Failed")}function re(e){W.setImmediate?setImmediate(e):setTimeout(e,0)}function ae(e,t){return e.reduce(((e,n,i)=>{var s=t(n,i);return s&&(e[s[0]]=s[1]),e}),{})}function le(e,t){if(X(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],i=0,s=t.length;i<s;++i){var o=le(e,t[i]);n.push(o)}return n}var r=t.indexOf(".");if(-1!==r){var a=e[t.substr(0,r)];return void 0===a?void 0:le(a,t.substr(r+1))}}function ue(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){oe("string"!=typeof n&&"length"in n);for(var i=0,s=t.length;i<s;++i)ue(e,t[i],n[i])}else{var o=t.indexOf(".");if(-1!==o){var r=t.substr(0,o),a=t.substr(o+1);if(""===a)void 0===n?U(e)&&!isNaN(parseInt(r))?e.splice(r,1):delete e[r]:e[r]=n;else{var l=e[r];l&&X(e,r)||(l=e[r]={}),ue(l,a,n)}}else void 0===n?U(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function ce(e){var t={};for(var n in e)X(e,n)&&(t[n]=e[n]);return t}const de=[].concat;function he(e){return de.apply([],e)}const pe="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(he([8,16,32,64].map((e=>["Int","Uint","Float"].map((t=>t+e+"Array")))))).filter((e=>W[e])),fe=pe.map((e=>W[e]));ae(pe,(e=>[e,!0]));let me=null;function ve(e){me="undefined"!=typeof WeakMap&&new WeakMap;const t=ge(e);return me=null,t}function ge(e){if(!e||"object"!=typeof e)return e;let t=me&&me.get(e);if(t)return t;if(U(e)){t=[],me&&me.set(e,t);for(var n=0,i=e.length;n<i;++n)t.push(ge(e[n]))}else if(fe.indexOf(e.constructor)>=0)t=e;else{const n=J(e);for(var s in t=n===Object.prototype?{}:Object.create(n),me&&me.set(e,t),e)X(e,s)&&(t[s]=ge(e[s]))}return t}const{toString:ye}={};function _e(e){return ye.call(e).slice(8,-1)}const be="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",we="symbol"==typeof be?function(e){var t;return null!=e&&(t=e[be])&&t.apply(e)}:function(){return null},ke={};function Ce(e){var t,n,i,s;if(1===arguments.length){if(U(e))return e.slice();if(this===ke&&"string"==typeof e)return[e];if(s=we(e)){for(n=[];!(i=s.next()).done;)n.push(i.value);return n}if(null==e)return[e];if("number"==typeof(t=e.length)){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}const Ee="undefined"!=typeof Symbol?e=>"AsyncFunction"===e[Symbol.toStringTag]:()=>!1;var xe="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Se(e,t){xe=e,Me=t}var Me=()=>!0;const Oe=!new Error("").stack;function Te(){if(Oe)try{throw Te.arguments,new Error}catch(e){return e}return new Error}function Le(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),n.split("\n").slice(t).filter(Me).map((e=>"\n"+e)).join("")):""}var De=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],$e=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(De),Be={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ae(e,t){this._e=Te(),this.name=e,this.message=t}function Ie(e,t){return e+". Errors: "+Object.keys(t).map((e=>t[e].toString())).filter(((e,t,n)=>n.indexOf(e)===t)).join("\n")}function Re(e,t,n,i){this._e=Te(),this.failures=t,this.failedKeys=i,this.successCount=n,this.message=Ie(e,t)}function Pe(e,t){this._e=Te(),this.name="BulkError",this.failures=Object.keys(t).map((e=>t[e])),this.failuresByPos=t,this.message=Ie(e,t)}Z(Ae).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Le(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Z(Re).from(Ae),Z(Pe).from(Ae);var je=$e.reduce(((e,t)=>(e[t]=t+"Error",e)),{});const Ne=Ae;var He=$e.reduce(((e,t)=>{var n=t+"Error";function i(e,i){this._e=Te(),this.name=n,e?"string"==typeof e?(this.message=`${e}${i?"\n "+i:""}`,this.inner=i||null):"object"==typeof e&&(this.message=`${e.name} ${e.message}`,this.inner=e):(this.message=Be[t]||n,this.inner=null)}return Z(i).from(Ne),e[t]=i,e}),{});He.Syntax=SyntaxError,He.Type=TypeError,He.Range=RangeError;var Fe=De.reduce(((e,t)=>(e[t+"Error"]=He[t],e)),{}),qe=$e.reduce(((e,t)=>(-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=He[t]),e)),{});function We(){}function Ke(e){return e}function Ue(e,t){return null==e||e===Ke?t:function(n){return t(e(n))}}function ze(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function Je(e,t){return e===We?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var i=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?ze(i,this.onsuccess):i),s&&(this.onerror=this.onerror?ze(s,this.onerror):s),void 0!==o?o:n}}function Ve(e,t){return e===We?t:function(){e.apply(this,arguments);var n=this.onsuccess,i=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?ze(n,this.onsuccess):n),i&&(this.onerror=this.onerror?ze(i,this.onerror):i)}}function Xe(e,t){return e===We?t:function(n){var i=e.apply(this,arguments);z(n,i);var s=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var r=t.apply(this,arguments);return s&&(this.onsuccess=this.onsuccess?ze(s,this.onsuccess):s),o&&(this.onerror=this.onerror?ze(o,this.onerror):o),void 0===i?void 0===r?void 0:r:z(i,r)}}function Ye(e,t){return e===We?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function Qe(e,t){return e===We?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var i=this,s=arguments.length,o=new Array(s);s--;)o[s]=arguments[s];return n.then((function(){return t.apply(i,o)}))}return t.apply(this,arguments)}}qe.ModifyError=Re,qe.DexieError=Ae,qe.BulkError=Pe;var Ge={};const[Ze,et,tt]="undefined"==typeof Promise?[]:(()=>{let e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,J(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,J(t),e]})(),nt=et&&et.then,it=Ze&&Ze.constructor,st=!!tt;var ot=!1,rt=tt?()=>{tt.then(Tt)}:W.setImmediate?setImmediate.bind(null,Tt):W.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver((()=>{Tt(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(Tt,0)},at=function(e,t){vt.push([e,t]),ut&&(rt(),ut=!1)},lt=!0,ut=!0,ct=[],dt=[],ht=null,pt=Ke,ft={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Zt,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((e=>{try{Zt(e[0],e[1])}catch(e){}}))}},mt=ft,vt=[],gt=0,yt=[];function _t(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=We,this._lib=!1;var t=this._PSD=mt;if(xe&&(this._stackHolder=Te(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==Ge)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Ct(this,this._value))}this._state=null,this._value=null,++t.ref,kt(this,e)}const bt={get:function(){var e=mt,t=Nt;function n(n,i){var s=!e.global&&(e!==mt||t!==Nt);const o=s&&!Wt();var r=new _t(((t,r)=>{xt(this,new wt(Qt(n,e,s,o),Qt(i,e,s,o),t,r,e))}));return xe&&Ot(r,this),r}return n.prototype=Ge,n},set:function(e){G(this,"then",e&&e.prototype===Ge?bt:{get:function(){return e},set:bt.set})}};function wt(e,t,n,i,s){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=i,this.psd=s}function kt(e,t){try{t((t=>{if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&Lt();t&&"function"==typeof t.then?kt(e,((e,n)=>{t instanceof _t?t._then(e,n):t.then(e,n)})):(e._state=!0,e._value=t,Et(e)),n&&Dt()}}),Ct.bind(null,e))}catch(t){Ct(e,t)}}function Ct(e,t){if(dt.push(t),null===e._state){var n=e._lib&&Lt();t=pt(t),e._state=!1,e._value=t,xe&&null!==t&&"object"==typeof t&&!t._promise&&function(e,t,n){try{e.apply(null,void 0)}catch(e){}}((()=>{var n=te(t,"stack");t._promise=e,G(t,"stack",{get:()=>ot?n&&(n.get?n.get.apply(t):n.value):e.stack})})),function(e){ct.some((t=>t._value===e._value))||ct.push(e)}(e),Et(e),n&&Dt()}}function Et(e){var t=e._listeners;e._listeners=[];for(var n=0,i=t.length;n<i;++n)xt(e,t[n]);var s=e._PSD;--s.ref||s.finalize(),0===gt&&(++gt,at((()=>{0==--gt&&$t()}),[]))}function xt(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++gt,at(St,[n,e,t])}else e._listeners.push(t)}function St(e,t,n){try{ht=t;var i,s=t._value;t._state?i=e(s):(dt.length&&(dt=[]),i=e(s),-1===dt.indexOf(s)&&function(e){for(var t=ct.length;t;)if(ct[--t]._value===e._value)return void ct.splice(t,1)}(t)),n.resolve(i)}catch(e){n.reject(e)}finally{ht=null,0==--gt&&$t(),--n.psd.ref||n.psd.finalize()}}function Mt(e,t,n){if(t.length===n)return t;var i="";if(!1===e._state){var s,o,r=e._value;null!=r?(s=r.name||"Error",o=r.message||r,i=Le(r,0)):(s=r,o=""),t.push(s+(o?": "+o:"")+i)}return xe&&((i=Le(e._stackHolder,2))&&-1===t.indexOf(i)&&t.push(i),e._prev&&Mt(e._prev,t,n)),t}function Ot(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function Tt(){Lt()&&Dt()}function Lt(){var e=lt;return lt=!1,ut=!1,e}function Dt(){var e,t,n;do{for(;vt.length>0;)for(e=vt,vt=[],n=e.length,t=0;t<n;++t){var i=e[t];i[0].apply(null,i[1])}}while(vt.length>0);lt=!0,ut=!0}function $t(){var e=ct;ct=[],e.forEach((e=>{e._PSD.onunhandled.call(null,e._value,e)}));for(var t=yt.slice(0),n=t.length;n;)t[--n]()}function Bt(e){return new _t(Ge,!1,e)}function At(e,t){var n=mt;return function(){var i=Lt(),s=mt;try{return Jt(n,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{Jt(s,!1),i&&Dt()}}}Y(_t.prototype,{then:bt,_then:function(e,t){xt(this,new wt(null,null,e,t,mt))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return"function"==typeof t?this.then(null,(e=>e instanceof t?n(e):Bt(e))):this.then(null,(e=>e&&e.name===t?n(e):Bt(e)))},finally:function(e){return this.then((t=>(e(),t)),(t=>(e(),Bt(t))))},stack:{get:function(){if(this._stack)return this._stack;try{ot=!0;var e=Mt(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{ot=!1}}},timeout:function(e,t){return e<1/0?new _t(((n,i)=>{var s=setTimeout((()=>i(new He.Timeout(t))),e);this.then(n,i).finally(clearTimeout.bind(null,s))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&G(_t.prototype,Symbol.toStringTag,"Dexie.Promise"),ft.env=Vt(),Y(_t,{all:function(){var e=Ce.apply(null,arguments).map(Kt);return new _t((function(t,n){0===e.length&&t([]);var i=e.length;e.forEach(((s,o)=>_t.resolve(s).then((n=>{e[o]=n,--i||t(e)}),n)))}))},resolve:e=>{if(e instanceof _t)return e;if(e&&"function"==typeof e.then)return new _t(((t,n)=>{e.then(t,n)}));var t=new _t(Ge,!0,e);return Ot(t,ht),t},reject:Bt,race:function(){var e=Ce.apply(null,arguments).map(Kt);return new _t(((t,n)=>{e.map((e=>_t.resolve(e).then(t,n)))}))},PSD:{get:()=>mt,set:e=>mt=e},totalEchoes:{get:()=>Nt},newPSD:Ft,usePSD:Xt,scheduler:{get:()=>at,set:e=>{at=e}},rejectionMapper:{get:()=>pt,set:e=>{pt=e}},follow:(e,t)=>new _t(((n,i)=>Ft(((t,n)=>{var i=mt;i.unhandleds=[],i.onunhandled=n,i.finalize=ze((function(){!function(e){yt.push((function t(){e(),yt.splice(yt.indexOf(t),1)})),++gt,at((()=>{0==--gt&&$t()}),[])}((()=>{0===this.unhandleds.length?t():n(this.unhandleds[0])}))}),i.finalize),e()}),t,n,i)))}),it&&(it.allSettled&&G(_t,"allSettled",(function(){const e=Ce.apply(null,arguments).map(Kt);return new _t((t=>{0===e.length&&t([]);let n=e.length;const i=new Array(n);e.forEach(((e,s)=>_t.resolve(e).then((e=>i[s]={status:"fulfilled",value:e}),(e=>i[s]={status:"rejected",reason:e})).then((()=>--n||t(i)))))}))})),it.any&&"undefined"!=typeof AggregateError&&G(_t,"any",(function(){const e=Ce.apply(null,arguments).map(Kt);return new _t(((t,n)=>{0===e.length&&n(new AggregateError([]));let i=e.length;const s=new Array(i);e.forEach(((e,o)=>_t.resolve(e).then((e=>t(e)),(e=>{s[o]=e,--i||n(new AggregateError(s))}))))}))})));const It={awaits:0,echoes:0,id:0};var Rt=0,Pt=[],jt=0,Nt=0,Ht=0;function Ft(e,t,n,i){var s=mt,o=Object.create(s);o.parent=s,o.ref=0,o.global=!1,o.id=++Ht;var r=ft.env;o.env=st?{Promise:_t,PromiseProp:{value:_t,configurable:!0,writable:!0},all:_t.all,race:_t.race,allSettled:_t.allSettled,any:_t.any,resolve:_t.resolve,reject:_t.reject,nthen:Gt(r.nthen,o),gthen:Gt(r.gthen,o)}:{},t&&z(o,t),++s.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var a=Xt(o,e,n,i);return 0===o.ref&&o.finalize(),a}function qt(){return It.id||(It.id=++Rt),++It.awaits,It.echoes+=100,It.id}function Wt(){return!!It.awaits&&(0==--It.awaits&&(It.id=0),It.echoes=100*It.awaits,!0)}function Kt(e){return It.echoes&&e&&e.constructor===it?(qt(),e.then((e=>(Wt(),e)),(e=>(Wt(),en(e))))):e}function Ut(e){++Nt,It.echoes&&0!=--It.echoes||(It.echoes=It.id=0),Pt.push(mt),Jt(e,!0)}function zt(){var e=Pt[Pt.length-1];Pt.pop(),Jt(e,!1)}function Jt(e,t){var n=mt;if((t?!It.echoes||jt++&&e===mt:!jt||--jt&&e===mt)||Yt(t?Ut.bind(null,e):zt),e!==mt&&(mt=e,n===ft&&(ft.env=Vt()),st)){var i=ft.env.Promise,s=e.env;et.then=s.nthen,i.prototype.then=s.gthen,(n.global||e.global)&&(Object.defineProperty(W,"Promise",s.PromiseProp),i.all=s.all,i.race=s.race,i.resolve=s.resolve,i.reject=s.reject,s.allSettled&&(i.allSettled=s.allSettled),s.any&&(i.any=s.any))}}function Vt(){var e=W.Promise;return st?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(W,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:et.then,gthen:e.prototype.then}:{}}function Xt(e,t,n,i,s){var o=mt;try{return Jt(e,!0),t(n,i,s)}finally{Jt(o,!1)}}function Yt(e){nt.call(Ze,e)}function Qt(e,t,n,i){return"function"!=typeof e?e:function(){var s=mt;n&&qt(),Jt(t,!0);try{return e.apply(this,arguments)}finally{Jt(s,!1),i&&Yt(Wt)}}}function Gt(e,t){return function(n,i){return e.call(this,Qt(n,t),Qt(i,t))}}function Zt(e,t){var n;try{n=t.onuncatched(e)}catch(e){}if(!1!==n)try{var i,s={promise:t,reason:e};if(W.document&&document.createEvent?((i=document.createEvent("Event")).initEvent("unhandledrejection",!0,!0),z(i,s)):W.CustomEvent&&z(i=new CustomEvent("unhandledrejection",{detail:s}),s),i&&W.dispatchEvent&&(dispatchEvent(i),!W.PromiseRejectionEvent&&W.onunhandledrejection))try{W.onunhandledrejection(i)}catch(e){}xe&&i&&!i.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch(e){}}-1===(""+nt).indexOf("[native code]")&&(qt=Wt=We);var en=_t.reject;function tn(e,t,n,i){if(e.idbdb&&(e._state.openComplete||mt.letThrough||e._vip)){var s=e._createTransaction(t,n,e._dbSchema);try{s.create(),e._state.PR1398_maxLoop=3}catch(s){return s.name===je.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((()=>tn(e,t,n,i)))):en(s)}return s._promise(t,((e,t)=>Ft((()=>(mt.trans=s,i(e,t,s)))))).then((e=>s._completion.then((()=>e))))}if(e._state.openComplete)return en(new He.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return en(new He.DatabaseClosed);e.open().catch(We)}return e._state.dbReadyPromise.then((()=>tn(e,t,n,i)))}const nn=String.fromCharCode(65535),sn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",on=[],rn="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),an=rn,ln=rn,un=e=>!/(dexie\.js|dexie\.min\.js)/.test(e);function cn(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const dn={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function hn(e){return"string"!=typeof e||/\./.test(e)?e=>e:t=>(void 0===t[e]&&e in t&&delete(t=ve(t))[e],t)}class pn{_trans(e,t,n){const i=this._tx||mt.trans,s=this.name;function o(e,n,i){if(!i.schema[s])throw new He.NotFound("Table "+s+" not part of transaction");return t(i.idbtrans,i)}const r=Lt();try{return i&&i.db===this.db?i===mt.trans?i._promise(e,o,n):Ft((()=>i._promise(e,o,n)),{trans:i,transless:mt.transless||mt}):tn(this.db,e,[this.name],o)}finally{r&&Dt()}}get(e,t){return e&&e.constructor===Object?this.where(e).first(t):this._trans("readonly",(t=>this.core.get({trans:t,key:e}).then((e=>this.hook.reading.fire(e))))).then(t)}where(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(U(e))return new this.db.WhereClause(this,`[${e.join("+")}]`);const t=K(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);const n=this.schema.indexes.concat(this.schema.primKey).filter((e=>e.compound&&t.every((t=>e.keyPath.indexOf(t)>=0))&&e.keyPath.every((e=>t.indexOf(e)>=0))))[0];if(n&&this.db._maxKey!==nn)return this.where(n.name).equals(n.keyPath.map((t=>e[t])));!n&&xe&&console.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${t.join("+")}]`);const{idxByName:i}=this.schema,s=this.db._deps.indexedDB;function o(e,t){try{return 0===s.cmp(e,t)}catch(e){return!1}}const[r,a]=t.reduce((([t,n],s)=>{const r=i[s],a=e[s];return[t||r,t||!r?cn(n,r&&r.multi?e=>{const t=le(e,s);return U(t)&&t.some((e=>o(a,e)))}:e=>o(a,le(e,s))):n]}),[null,null]);return r?this.where(r.name).equals(e[r.keyPath]).filter(a):n?this.filter(a):this.where(t).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,U(e)?`[${e.join("+")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;const t=t=>{if(!t)return t;const n=Object.create(e.prototype);for(var i in t)if(X(t,i))try{n[i]=t[i]}catch(e){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=t,this.hook("reading",t),e}defineClass(){return this.mapToClass((function(e){z(this,e)}))}add(e,t){const{auto:n,keyPath:i}=this.schema.primKey;let s=e;return i&&n&&(s=hn(i)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[s]}))).then((e=>e.numFailures?_t.reject(e.failures[0]):e.lastResult)).then((t=>{if(i)try{ue(e,i,t)}catch(e){}return t}))}update(e,t){if("object"!=typeof e||U(e))return this.where(":id").equals(e).modify(t);{const n=le(e,this.schema.primKey.keyPath);if(void 0===n)return en(new He.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof t?K(t).forEach((n=>{ue(e,n,t[n])})):t(e,{value:e,primKey:n})}catch(e){}return this.where(":id").equals(n).modify(t)}}put(e,t){const{auto:n,keyPath:i}=this.schema.primKey;let s=e;return i&&n&&(s=hn(i)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"put",values:[s],keys:null!=t?[t]:null}))).then((e=>e.numFailures?_t.reject(e.failures[0]):e.lastResult)).then((t=>{if(i)try{ue(e,i,t)}catch(e){}return t}))}delete(e){return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:[e]}))).then((e=>e.numFailures?_t.reject(e.failures[0]):void 0))}clear(){return this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"deleteRange",range:dn}))).then((e=>e.numFailures?_t.reject(e.failures[0]):void 0))}bulkGet(e){return this._trans("readonly",(t=>this.core.getMany({keys:e,trans:t}).then((e=>e.map((e=>this.hook.reading.fire(e)))))))}bulkAdd(e,t,n){const i=Array.isArray(t)?t:void 0,s=(n=n||(i?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(t=>{const{auto:n,keyPath:o}=this.schema.primKey;if(o&&i)throw new He.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new He.InvalidArgument("Arguments objects and keys must have the same length");const r=e.length;let a=o&&n?e.map(hn(o)):e;return this.core.mutate({trans:t,type:"add",keys:i,values:a,wantResults:s}).then((({numFailures:e,results:t,lastResult:n,failures:i})=>{if(0===e)return s?t:n;throw new Pe(`${this.name}.bulkAdd(): ${e} of ${r} operations failed`,i)}))}))}bulkPut(e,t,n){const i=Array.isArray(t)?t:void 0,s=(n=n||(i?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(t=>{const{auto:n,keyPath:o}=this.schema.primKey;if(o&&i)throw new He.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new He.InvalidArgument("Arguments objects and keys must have the same length");const r=e.length;let a=o&&n?e.map(hn(o)):e;return this.core.mutate({trans:t,type:"put",keys:i,values:a,wantResults:s}).then((({numFailures:e,results:t,lastResult:n,failures:i})=>{if(0===e)return s?t:n;throw new Pe(`${this.name}.bulkPut(): ${e} of ${r} operations failed`,i)}))}))}bulkDelete(e){const t=e.length;return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:e}))).then((({numFailures:e,lastResult:n,failures:i})=>{if(0===e)return n;throw new Pe(`${this.name}.bulkDelete(): ${e} of ${t} operations failed`,i)}))}}function fn(e){var t={},n=function(n,i){if(i){for(var s=arguments.length,o=new Array(s-1);--s;)o[s-1]=arguments[s];return t[n].subscribe.apply(null,o),e}if("string"==typeof n)return t[n]};n.addEventType=o;for(var i=1,s=arguments.length;i<s;++i)o(arguments[i]);return n;function o(e,i,s){if("object"==typeof e)return r(e);i||(i=Ye),s||(s=We);var o={subscribers:[],fire:s,subscribe:function(e){-1===o.subscribers.indexOf(e)&&(o.subscribers.push(e),o.fire=i(o.fire,e))},unsubscribe:function(e){o.subscribers=o.subscribers.filter((function(t){return t!==e})),o.fire=o.subscribers.reduce(i,s)}};return t[e]=n[e]=o,o}function r(e){K(e).forEach((function(t){var n=e[t];if(U(n))o(t,e[t][0],e[t][1]);else{if("asap"!==n)throw new He.InvalidArgument("Invalid event config");var i=o(t,Ke,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];i.subscribers.forEach((function(e){re((function(){e.apply(null,t)}))}))}))}}))}}function mn(e,t){return Z(t).from({prototype:e}),t}function vn(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function gn(e,t){e.filter=cn(e.filter,t)}function yn(e,t,n){var i=e.replayFilter;e.replayFilter=i?()=>cn(i(),t()):t,e.justLimit=n&&!i}function _n(e,t){if(e.isPrimKey)return t.primaryKey;const n=t.getIndexByKeyPath(e.index);if(!n)throw new He.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function bn(e,t,n){const i=_n(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:i,range:e.range}})}function wn(e,t,n,i){const s=e.replayFilter?cn(e.filter,e.replayFilter()):e.filter;if(e.or){const o={},r=(e,n,i)=>{if(!s||s(n,i,(e=>n.stop(e)),(e=>n.fail(e)))){var r=n.primaryKey,a=""+r;"[object ArrayBuffer]"===a&&(a=""+new Uint8Array(r)),X(o,a)||(o[a]=!0,t(e,n,i))}};return Promise.all([e.or._iterate(r,n),kn(bn(e,i,n),e.algorithm,r,!e.keysOnly&&e.valueMapper)])}return kn(bn(e,i,n),cn(e.algorithm,s),t,!e.keysOnly&&e.valueMapper)}function kn(e,t,n,i){var s=At(i?(e,t,s)=>n(i(e),t,s):n);return e.then((e=>{if(e)return e.start((()=>{var n=()=>e.continue();t&&!t(e,(e=>n=e),(t=>{e.stop(t),n=We}),(t=>{e.fail(t),n=We}))||s(e.value,e,(e=>n=e)),n()}))}))}function Cn(e,t){try{const n=En(e),i=En(t);if(n!==i)return"Array"===n?1:"Array"===i?-1:"binary"===n?1:"binary"===i?-1:"string"===n?1:"string"===i?-1:"Date"===n?1:"Date"!==i?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(e,t){const n=e.length,i=t.length,s=n<i?n:i;for(let n=0;n<s;++n)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return n===i?0:n<i?-1:1}(xn(e),xn(t));case"Array":return function(e,t){const n=e.length,i=t.length,s=n<i?n:i;for(let n=0;n<s;++n){const i=Cn(e[n],t[n]);if(0!==i)return i}return n===i?0:n<i?-1:1}(e,t)}}catch(e){}return NaN}function En(e){const t=typeof e;if("object"!==t)return t;if(ArrayBuffer.isView(e))return"binary";const n=_e(e);return"ArrayBuffer"===n?"binary":n}function xn(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class Sn{_read(e,t){var n=this._ctx;return n.error?n.table._trans(null,en.bind(null,n.error)):n.table._trans("readonly",e).then(t)}_write(e){var t=this._ctx;return t.error?t.table._trans(null,en.bind(null,t.error)):t.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var t=this._ctx;t.algorithm=cn(t.algorithm,e)}_iterate(e,t){return wn(this._ctx,e,t,this._ctx.table.core)}clone(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&z(n,e),t._ctx=n,t}raw(){return this._ctx.valueMapper=null,this}each(e){var t=this._ctx;return this._read((n=>wn(t,e,n,t.table.core)))}count(e){return this._read((e=>{const t=this._ctx,n=t.table.core;if(vn(t,!0))return n.count({trans:e,query:{index:_n(t,n.schema),range:t.range}}).then((e=>Math.min(e,t.limit)));var i=0;return wn(t,(()=>(++i,!1)),e,n).then((()=>i))})).then(e)}sortBy(e,t){const n=e.split(".").reverse(),i=n[0],s=n.length-1;function o(e,t){return t?o(e[n[t]],t-1):e[i]}var r="next"===this._ctx.dir?1:-1;function a(e,t){var n=o(e,s),i=o(t,s);return n<i?-r:n>i?r:0}return this.toArray((function(e){return e.sort(a)})).then(t)}toArray(e){return this._read((e=>{var t=this._ctx;if("next"===t.dir&&vn(t,!0)&&t.limit>0){const{valueMapper:n}=t,i=_n(t,t.table.core.schema);return t.table.core.query({trans:e,limit:t.limit,values:!0,query:{index:i,range:t.range}}).then((({result:e})=>n?e.map(n):e))}{const n=[];return wn(t,(e=>n.push(e)),e,t.table.core).then((()=>n))}}),e)}offset(e){var t=this._ctx;return e<=0||(t.offset+=e,vn(t)?yn(t,(()=>{var t=e;return(e,n)=>0===t||(1===t?(--t,!1):(n((()=>{e.advance(t),t=0})),!1))})):yn(t,(()=>{var t=e;return()=>--t<0}))),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),yn(this._ctx,(()=>{var t=e;return function(e,n,i){return--t<=0&&n(i),t>=0}}),!0),this}until(e,t){return gn(this._ctx,(function(n,i,s){return!e(n.value)||(i(s),t)})),this}first(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)}last(e){return this.reverse().first(e)}filter(e){var t,n;return gn(this._ctx,(function(t){return e(t.value)})),t=this._ctx,n=e,t.isMatch=cn(t.isMatch,n),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.key,n)}))}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.primaryKey,n)}))}keys(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.key)})).then((function(){return n})).then(e)}primaryKeys(e){var t=this._ctx;if("next"===t.dir&&vn(t,!0)&&t.limit>0)return this._read((e=>{var n=_n(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:n,range:t.range}})})).then((({result:e})=>e)).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.primaryKey)})).then((function(){return n})).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys((function(e){return e[0]})).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var n={};return gn(this._ctx,(function(e){var t=e.primaryKey.toString(),i=X(n,t);return n[t]=!0,!i})),this}modify(e){var t=this._ctx;return this._write((n=>{var i;if("function"==typeof e)i=e;else{var s=K(e),o=s.length;i=function(t){for(var n=!1,i=0;i<o;++i){var r=s[i],a=e[r];le(t,r)!==a&&(ue(t,r,a),n=!0)}return n}}const r=t.table.core,{outbound:a,extractKey:l}=r.schema.primaryKey,u=this.db._options.modifyChunkSize||200,c=[];let d=0;const h=[],p=(e,t)=>{const{failures:n,numFailures:i}=t;d+=e-i;for(let e of K(n))c.push(n[e])};return this.clone().primaryKeys().then((s=>{const o=c=>{const d=Math.min(u,s.length-c);return r.getMany({trans:n,keys:s.slice(c,c+d),cache:"immutable"}).then((h=>{const f=[],m=[],v=a?[]:null,g=[];for(let e=0;e<d;++e){const t=h[e],n={value:ve(t),primKey:s[c+e]};!1!==i.call(n,n.value,n)&&(null==n.value?g.push(s[c+e]):a||0===Cn(l(t),l(n.value))?(m.push(n.value),a&&v.push(s[c+e])):(g.push(s[c+e]),f.push(n.value)))}const y=vn(t)&&t.limit===1/0&&("function"!=typeof e||e===Mn)&&{index:t.index,range:t.range};return Promise.resolve(f.length>0&&r.mutate({trans:n,type:"add",values:f}).then((e=>{for(let t in e.failures)g.splice(parseInt(t),1);p(f.length,e)}))).then((()=>(m.length>0||y&&"object"==typeof e)&&r.mutate({trans:n,type:"put",keys:v,values:m,criteria:y,changeSpec:"function"!=typeof e&&e}).then((e=>p(m.length,e))))).then((()=>(g.length>0||y&&e===Mn)&&r.mutate({trans:n,type:"delete",keys:g,criteria:y}).then((e=>p(g.length,e))))).then((()=>s.length>c+d&&o(c+u)))}))};return o(0).then((()=>{if(c.length>0)throw new Re("Error modifying one or more objects",c,d,h);return s.length}))}))}))}delete(){var e=this._ctx,t=e.range;return vn(e)&&(e.isPrimKey&&!ln||3===t.type)?this._write((n=>{const{primaryKey:i}=e.table.core.schema,s=t;return e.table.core.count({trans:n,query:{index:i,range:s}}).then((t=>e.table.core.mutate({trans:n,type:"deleteRange",range:s}).then((({failures:e,lastResult:n,results:i,numFailures:s})=>{if(s)throw new Re("Could not delete some values",Object.keys(e).map((t=>e[t])),t-s);return t-s}))))})):this.modify(Mn)}}const Mn=(e,t)=>t.value=null;function On(e,t){return e<t?-1:e===t?0:1}function Tn(e,t){return e>t?-1:e===t?0:1}function Ln(e,t,n){var i=e instanceof Rn?new e.Collection(e):e;return i._ctx.error=n?new n(t):new TypeError(t),i}function Dn(e){return new e.Collection(e,(()=>In(""))).limit(0)}function $n(e,t,n,i,s,o){for(var r=Math.min(e.length,i.length),a=-1,l=0;l<r;++l){var u=t[l];if(u!==i[l])return s(e[l],n[l])<0?e.substr(0,l)+n[l]+n.substr(l+1):s(e[l],i[l])<0?e.substr(0,l)+i[l]+n.substr(l+1):a>=0?e.substr(0,a)+t[a]+n.substr(a+1):null;s(e[l],u)<0&&(a=l)}return r<i.length&&"next"===o?e+n.substr(e.length):r<e.length&&"prev"===o?e.substr(0,n.length):a<0?null:e.substr(0,a)+i[a]+n.substr(a+1)}function Bn(e,t,n,i){var s,o,r,a,l,u,c,d=n.length;if(!n.every((e=>"string"==typeof e)))return Ln(e,"String expected.");function h(e){s=function(e){return"next"===e?e=>e.toUpperCase():e=>e.toLowerCase()}(e),o=function(e){return"next"===e?e=>e.toLowerCase():e=>e.toUpperCase()}(e),r="next"===e?On:Tn;var t=n.map((function(e){return{lower:o(e),upper:s(e)}})).sort((function(e,t){return r(e.lower,t.lower)}));a=t.map((function(e){return e.upper})),l=t.map((function(e){return e.lower})),u=e,c="next"===e?"":i}h("next");var p=new e.Collection(e,(()=>An(a[0],l[d-1]+i)));p._ondirectionchange=function(e){h(e)};var f=0;return p._addAlgorithm((function(e,n,i){var s=e.key;if("string"!=typeof s)return!1;var h=o(s);if(t(h,l,f))return!0;for(var p=null,m=f;m<d;++m){var v=$n(s,h,a[m],l[m],r,u);null===v&&null===p?f=m+1:(null===p||r(p,v)>0)&&(p=v)}return n(null!==p?function(){e.continue(p+c)}:i),!1})),p}function An(e,t,n,i){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:i}}function In(e){return{type:1,lower:e,upper:e}}class Rn{get Collection(){return this._ctx.table.db.Collection}between(e,t,n,i){n=!1!==n,i=!0===i;try{return this._cmp(e,t)>0||0===this._cmp(e,t)&&(n||i)&&(!n||!i)?Dn(this):new this.Collection(this,(()=>An(e,t,!n,!i)))}catch(e){return Ln(this,sn)}}equals(e){return null==e?Ln(this,sn):new this.Collection(this,(()=>In(e)))}above(e){return null==e?Ln(this,sn):new this.Collection(this,(()=>An(e,void 0,!0)))}aboveOrEqual(e){return null==e?Ln(this,sn):new this.Collection(this,(()=>An(e,void 0,!1)))}below(e){return null==e?Ln(this,sn):new this.Collection(this,(()=>An(void 0,e,!1,!0)))}belowOrEqual(e){return null==e?Ln(this,sn):new this.Collection(this,(()=>An(void 0,e)))}startsWith(e){return"string"!=typeof e?Ln(this,"String expected."):this.between(e,e+nn,!0,!0)}startsWithIgnoreCase(e){return""===e?this.startsWith(e):Bn(this,((e,t)=>0===e.indexOf(t[0])),[e],nn)}equalsIgnoreCase(e){return Bn(this,((e,t)=>e===t[0]),[e],"")}anyOfIgnoreCase(){var e=Ce.apply(ke,arguments);return 0===e.length?Dn(this):Bn(this,((e,t)=>-1!==t.indexOf(e)),e,"")}startsWithAnyOfIgnoreCase(){var e=Ce.apply(ke,arguments);return 0===e.length?Dn(this):Bn(this,((e,t)=>t.some((t=>0===e.indexOf(t)))),e,nn)}anyOf(){const e=Ce.apply(ke,arguments);let t=this._cmp;try{e.sort(t)}catch(e){return Ln(this,sn)}if(0===e.length)return Dn(this);const n=new this.Collection(this,(()=>An(e[0],e[e.length-1])));n._ondirectionchange=n=>{t="next"===n?this._ascending:this._descending,e.sort(t)};let i=0;return n._addAlgorithm(((n,s,o)=>{const r=n.key;for(;t(r,e[i])>0;)if(++i,i===e.length)return s(o),!1;return 0===t(r,e[i])||(s((()=>{n.continue(e[i])})),!1)})),n}notEqual(e){return this.inAnyRange([[-1/0,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=Ce.apply(ke,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return Ln(this,sn)}const t=e.reduce(((e,t)=>e?e.concat([[e[e.length-1][1],t]]):[[-1/0,t]]),null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,t){const n=this._cmp,i=this._ascending,s=this._descending,o=this._min,r=this._max;if(0===e.length)return Dn(this);if(!e.every((e=>void 0!==e[0]&&void 0!==e[1]&&i(e[0],e[1])<=0)))return Ln(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",He.InvalidArgument);const a=!t||!1!==t.includeLowers,l=t&&!0===t.includeUppers;let u,c=i;function d(e,t){return c(e[0],t[0])}try{u=e.reduce((function(e,t){let i=0,s=e.length;for(;i<s;++i){const s=e[i];if(n(t[0],s[1])<0&&n(t[1],s[0])>0){s[0]=o(s[0],t[0]),s[1]=r(s[1],t[1]);break}}return i===s&&e.push(t),e}),[]),u.sort(d)}catch(e){return Ln(this,sn)}let h=0;const p=l?e=>i(e,u[h][1])>0:e=>i(e,u[h][1])>=0,f=a?e=>s(e,u[h][0])>0:e=>s(e,u[h][0])>=0;let m=p;const v=new this.Collection(this,(()=>An(u[0][0],u[u.length-1][1],!a,!l)));return v._ondirectionchange=e=>{"next"===e?(m=p,c=i):(m=f,c=s),u.sort(d)},v._addAlgorithm(((e,t,n)=>{for(var s=e.key;m(s);)if(++h,h===u.length)return t(n),!1;return!!function(e){return!p(e)&&!f(e)}(s)||(0===this._cmp(s,u[h][1])||0===this._cmp(s,u[h][0])||t((()=>{c===i?e.continue(u[h][0]):e.continue(u[h][1])})),!1)})),v}startsWithAnyOf(){const e=Ce.apply(ke,arguments);return e.every((e=>"string"==typeof e))?0===e.length?Dn(this):this.inAnyRange(e.map((e=>[e,e+nn]))):Ln(this,"startsWithAnyOf() only works with strings")}}function Pn(e){return At((function(t){return jn(t),e(t.target.error),!1}))}function jn(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const Nn=fn(null,"storagemutated");class Hn{_lock(){return oe(!mt.global),++this._reculock,1!==this._reculock||mt.global||(mt.lockOwnerFor=this),this}_unlock(){if(oe(!mt.global),0==--this._reculock)for(mt.global||(mt.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{Xt(e[1],e[0])}catch(e){}}return this}_locked(){return this._reculock&&mt.lockOwnerFor!==this}create(e){if(!this.mode)return this;const t=this.db.idbdb,n=this.db._state.dbOpenError;if(oe(!this.idbtrans),!e&&!t)switch(n&&n.name){case"DatabaseClosedError":throw new He.DatabaseClosed(n);case"MissingAPIError":throw new He.MissingAPI(n.message,n);default:throw new He.OpenFailed(n)}if(!this.active)throw new He.TransactionInactive;return oe(null===this._completion._state),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):t.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=At((t=>{jn(t),this._reject(e.error)})),e.onabort=At((t=>{jn(t),this.active&&this._reject(new He.Abort(e.error)),this.active=!1,this.on("abort").fire(t)})),e.oncomplete=At((()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&Nn.storagemutated.fire(e.mutatedParts)})),this}_promise(e,t,n){if("readwrite"===e&&"readwrite"!==this.mode)return en(new He.ReadOnly("Transaction is readonly"));if(!this.active)return en(new He.TransactionInactive);if(this._locked())return new _t(((i,s)=>{this._blockedFuncs.push([()=>{this._promise(e,t,n).then(i,s)},mt])}));if(n)return Ft((()=>{var e=new _t(((e,n)=>{this._lock();const i=t(e,n,this);i&&i.then&&i.then(e,n)}));return e.finally((()=>this._unlock())),e._lib=!0,e}));var i=new _t(((e,n)=>{var i=t(e,n,this);i&&i.then&&i.then(e,n)}));return i._lib=!0,i}_root(){return this.parent?this.parent._root():this}waitFor(e){var t=this._root();const n=_t.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then((()=>n));else{t._waitingFor=n,t._waitingQueue=[];var i=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(i.get(-1/0).onsuccess=e)}()}var s=t._waitingFor;return new _t(((e,i)=>{n.then((n=>t._waitingQueue.push(At(e.bind(null,n)))),(e=>t._waitingQueue.push(At(i.bind(null,e))))).finally((()=>{t._waitingFor===s&&(t._waitingFor=null)}))}))}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new He.Abort))}table(e){const t=this._memoizedTables||(this._memoizedTables={});if(X(t,e))return t[e];const n=this.schema[e];if(!n)throw new He.NotFound("Table "+e+" not part of transaction");const i=new this.db.Table(e,n,this);return i.core=this.db.core.table(e),t[e]=i,i}}function Fn(e,t,n,i,s,o,r){return{name:e,keyPath:t,unique:n,multi:i,auto:s,compound:o,src:(n&&!r?"&":"")+(i?"*":"")+(s?"++":"")+qn(t)}}function qn(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function Wn(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:ae(n,(e=>[e.name,e]))}}let Kn=e=>{try{return e.only([[]]),Kn=()=>[[]],[[]]}catch(e){return Kn=()=>nn,nn}};function Un(e){return null==e?()=>{}:"string"==typeof e?function(e){return 1===e.split(".").length?t=>t[e]:t=>le(t,e)}(e):t=>le(t,e)}function zn(e){return[].slice.call(e)}let Jn=0;function Vn(e){return null==e?":id":"string"==typeof e?e:`[${e.join("+")}]`}function Xn(e,t,n){function i(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:n,upper:i,lowerOpen:s,upperOpen:o}=e;return void 0===n?void 0===i?null:t.upperBound(i,!!o):void 0===i?t.lowerBound(n,!!s):t.bound(n,i,!!s,!!o)}const{schema:s,hasGetAll:o}=function(e,t){const n=zn(e.objectStoreNames);return{schema:{name:e.name,tables:n.map((e=>t.objectStore(e))).map((e=>{const{keyPath:t,autoIncrement:n}=e,i=U(t),s=null==t,o={},r={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:s,compound:i,keyPath:t,autoIncrement:n,unique:!0,extractKey:Un(t)},indexes:zn(e.indexNames).map((t=>e.index(t))).map((e=>{const{name:t,unique:n,multiEntry:i,keyPath:s}=e,r={name:t,compound:U(s),keyPath:s,unique:n,multiEntry:i,extractKey:Un(s)};return o[Vn(s)]=r,r})),getIndexByKeyPath:e=>o[Vn(e)]};return o[":id"]=r.primaryKey,null!=t&&(o[Vn(t)]=r.primaryKey),r}))},hasGetAll:n.length>0&&"getAll"in t.objectStore(n[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),r=s.tables.map((e=>function(e){const t=e.name;return{name:t,schema:e,mutate:function({trans:e,type:n,keys:s,values:o,range:r}){return new Promise(((a,l)=>{a=At(a);const u=e.objectStore(t),c=null==u.keyPath,d="put"===n||"add"===n;if(!d&&"delete"!==n&&"deleteRange"!==n)throw new Error("Invalid operation type: "+n);const{length:h}=s||o||{length:1};if(s&&o&&s.length!==o.length)throw new Error("Given keys array must have same length as given values array.");if(0===h)return a({numFailures:0,failures:{},results:[],lastResult:void 0});let p;const f=[],m=[];let v=0;const g=e=>{++v,jn(e)};if("deleteRange"===n){if(4===r.type)return a({numFailures:v,failures:m,results:[],lastResult:void 0});3===r.type?f.push(p=u.clear()):f.push(p=u.delete(i(r)))}else{const[e,t]=d?c?[o,s]:[o,null]:[s,null];if(d)for(let i=0;i<h;++i)f.push(p=t&&void 0!==t[i]?u[n](e[i],t[i]):u[n](e[i])),p.onerror=g;else for(let t=0;t<h;++t)f.push(p=u[n](e[t])),p.onerror=g}const y=e=>{const t=e.target.result;f.forEach(((e,t)=>null!=e.error&&(m[t]=e.error))),a({numFailures:v,failures:m,results:"delete"===n?s:f.map((e=>e.result)),lastResult:t})};p.onerror=e=>{g(e),y(e)},p.onsuccess=y}))},getMany:({trans:e,keys:n})=>new Promise(((i,s)=>{i=At(i);const o=e.objectStore(t),r=n.length,a=new Array(r);let l,u=0,c=0;const d=e=>{const t=e.target;a[t._pos]=t.result,++c===u&&i(a)},h=Pn(s);for(let e=0;e<r;++e)null!=n[e]&&(l=o.get(n[e]),l._pos=e,l.onsuccess=d,l.onerror=h,++u);0===u&&i(a)})),get:({trans:e,key:n})=>new Promise(((i,s)=>{i=At(i);const o=e.objectStore(t).get(n);o.onsuccess=e=>i(e.target.result),o.onerror=Pn(s)})),query:function(e){return n=>new Promise(((s,o)=>{s=At(s);const{trans:r,values:a,limit:l,query:u}=n,c=l===1/0?void 0:l,{index:d,range:h}=u,p=r.objectStore(t),f=d.isPrimaryKey?p:p.index(d.name),m=i(h);if(0===l)return s({result:[]});if(e){const e=a?f.getAll(m,c):f.getAllKeys(m,c);e.onsuccess=e=>s({result:e.target.result}),e.onerror=Pn(o)}else{let e=0;const t=a||!("openKeyCursor"in f)?f.openCursor(m):f.openKeyCursor(m),n=[];t.onsuccess=i=>{const o=t.result;return o?(n.push(a?o.value:o.primaryKey),++e===l?s({result:n}):void o.continue()):s({result:n})},t.onerror=Pn(o)}}))}(o),openCursor:function({trans:e,values:n,query:s,reverse:o,unique:r}){return new Promise(((a,l)=>{a=At(a);const{index:u,range:c}=s,d=e.objectStore(t),h=u.isPrimaryKey?d:d.index(u.name),p=o?r?"prevunique":"prev":r?"nextunique":"next",f=n||!("openKeyCursor"in h)?h.openCursor(i(c),p):h.openKeyCursor(i(c),p);f.onerror=Pn(l),f.onsuccess=At((t=>{const n=f.result;if(!n)return void a(null);n.___id=++Jn,n.done=!1;const i=n.continue.bind(n);let s=n.continuePrimaryKey;s&&(s=s.bind(n));const o=n.advance.bind(n),r=()=>{throw new Error("Cursor not stopped")};n.trans=e,n.stop=n.continue=n.continuePrimaryKey=n.advance=()=>{throw new Error("Cursor not started")},n.fail=At(l),n.next=function(){let e=1;return this.start((()=>e--?this.continue():this.stop())).then((()=>this))},n.start=e=>{const t=new Promise(((e,t)=>{e=At(e),f.onerror=Pn(t),n.fail=t,n.stop=t=>{n.stop=n.continue=n.continuePrimaryKey=n.advance=r,e(t)}})),a=()=>{if(f.result)try{e()}catch(e){n.fail(e)}else n.done=!0,n.start=()=>{throw new Error("Cursor behind last entry")},n.stop()};return f.onsuccess=At((e=>{f.onsuccess=a,a()})),n.continue=i,n.continuePrimaryKey=s,n.advance=o,a(),t},a(n)}),l)}))},count({query:e,trans:n}){const{index:s,range:o}=e;return new Promise(((e,r)=>{const a=n.objectStore(t),l=s.isPrimaryKey?a:a.index(s.name),u=i(o),c=u?l.count(u):l.count();c.onsuccess=At((t=>e(t.target.result))),c.onerror=Pn(r)}))}}}(e))),a={};return r.forEach((e=>a[e.name]=e)),{stack:"dbcore",transaction:e.transaction.bind(e),table(e){if(!a[e])throw new Error(`Table '${e}' not found`);return a[e]},MIN_KEY:-1/0,MAX_KEY:Kn(t),schema:s}}function Yn({_novip:e},t){const n=t.db,i=function(e,t,{IDBKeyRange:n,indexedDB:i},s){const o=function(e,t){return t.reduce(((e,{create:t})=>({...e,...t(e)})),e)}(Xn(t,n,s),e.dbcore);return{dbcore:o}}(e._middlewares,n,e._deps,t);e.core=i.dbcore,e.tables.forEach((t=>{const n=t.name;e.core.schema.tables.some((e=>e.name===n))&&(t.core=e.core.table(n),e[n]instanceof e.Table&&(e[n].core=t.core))}))}function Qn({_novip:e},t,n,i){n.forEach((n=>{const s=i[n];t.forEach((t=>{const i=te(t,n);(!i||"value"in i&&void 0===i.value)&&(t===e.Transaction.prototype||t instanceof e.Transaction?G(t,n,{get(){return this.table(n)},set(e){Q(this,n,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):t[n]=new e.Table(n,s))}))}))}function Gn({_novip:e},t){t.forEach((t=>{for(let n in t)t[n]instanceof e.Table&&delete t[n]}))}function Zn(e,t){return e._cfg.version-t._cfg.version}function ei(e,t,n,i){const s=e._dbSchema,o=e._createTransaction("readwrite",e._storeNames,s);o.create(n),o._completion.catch(i);const r=o._reject.bind(o),a=mt.transless||mt;Ft((()=>{mt.trans=o,mt.transless=a,0===t?(K(s).forEach((e=>{ni(n,e,s[e].primKey,s[e].indexes)})),Yn(e,n),_t.follow((()=>e.on.populate.fire(o))).catch(r)):function({_novip:e},t,n,i){const s=[],o=e._versions;let r=e._dbSchema=si(0,e.idbdb,i),a=!1;return o.filter((e=>e._cfg.version>=t)).forEach((o=>{s.push((()=>{const s=r,l=o._cfg.dbschema;oi(e,s,i),oi(e,l,i),r=e._dbSchema=l;const u=ti(s,l);u.add.forEach((e=>{ni(i,e[0],e[1].primKey,e[1].indexes)})),u.change.forEach((e=>{if(e.recreate)throw new He.Upgrade("Not yet support for changing primary key");{const t=i.objectStore(e.name);e.add.forEach((e=>ii(t,e))),e.change.forEach((e=>{t.deleteIndex(e.name),ii(t,e)})),e.del.forEach((e=>t.deleteIndex(e)))}}));const c=o._cfg.contentUpgrade;if(c&&o._cfg.version>t){Yn(e,i),n._memoizedTables={},a=!0;let t=ce(l);u.del.forEach((e=>{t[e]=s[e]})),Gn(e,[e.Transaction.prototype]),Qn(e,[e.Transaction.prototype],K(t),t),n.schema=t;const o=Ee(c);let r;o&&qt();const d=_t.follow((()=>{if(r=c(n),r&&o){var e=Wt.bind(null,null);r.then(e,e)}}));return r&&"function"==typeof r.then?_t.resolve(r):d.then((()=>r))}})),s.push((t=>{a&&an||function(e,t){[].slice.call(t.db.objectStoreNames).forEach((n=>null==e[n]&&t.db.deleteObjectStore(n)))}(o._cfg.dbschema,t),Gn(e,[e.Transaction.prototype]),Qn(e,[e.Transaction.prototype],e._storeNames,e._dbSchema),n.schema=e._dbSchema}))})),function e(){return s.length?_t.resolve(s.shift()(n.idbtrans)).then(e):_t.resolve()}().then((()=>{var e,t;t=i,K(e=r).forEach((n=>{t.db.objectStoreNames.contains(n)||ni(t,n,e[n].primKey,e[n].indexes)}))}))}(e,t,o,n).catch(r)}))}function ti(e,t){const n={del:[],add:[],change:[]};let i;for(i in e)t[i]||n.del.push(i);for(i in t){const s=e[i],o=t[i];if(s){const e={name:i,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(s.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||s.primKey.auto!==o.primKey.auto&&!rn)e.recreate=!0,n.change.push(e);else{const t=s.idxByName,i=o.idxByName;let r;for(r in t)i[r]||e.del.push(r);for(r in i){const n=t[r],s=i[r];n?n.src!==s.src&&e.change.push(s):e.add.push(s)}(e.del.length>0||e.add.length>0||e.change.length>0)&&n.change.push(e)}}else n.add.push([i,o])}return n}function ni(e,t,n,i){const s=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return i.forEach((e=>ii(s,e))),s}function ii(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function si(e,t,n){const i={};return ie(t.objectStoreNames,0).forEach((e=>{const t=n.objectStore(e);let s=t.keyPath;const o=Fn(qn(s),s||"",!1,!1,!!t.autoIncrement,s&&"string"!=typeof s,!0),r=[];for(let e=0;e<t.indexNames.length;++e){const n=t.index(t.indexNames[e]);s=n.keyPath;var a=Fn(n.name,s,!!n.unique,!!n.multiEntry,!1,s&&"string"!=typeof s,!1);r.push(a)}i[e]=Wn(e,o,r)})),i}function oi({_novip:e},t,n){const i=n.db.objectStoreNames;for(let s=0;s<i.length;++s){const o=i[s],r=n.objectStore(o);e._hasGetAll="getAll"in r;for(let e=0;e<r.indexNames.length;++e){const n=r.indexNames[e],i=r.index(n).keyPath,s="string"==typeof i?i:"["+ie(i).join("+")+"]";if(t[o]){const e=t[o].idxByName[s];e&&(e.name=n,delete t[o].idxByName[s],t[o].idxByName[n]=e)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&W.WorkerGlobalScope&&W instanceof W.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class ri{_parseStoresSpec(e,t){K(e).forEach((n=>{if(null!==e[n]){var i=e[n].split(",").map(((e,t)=>{const n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),i=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return Fn(n,i||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),U(i),0===t)})),s=i.shift();if(s.multi)throw new He.Schema("Primary key cannot be multi-valued");i.forEach((e=>{if(e.auto)throw new He.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new He.Schema("Index must have a name and cannot be an empty string")})),t[n]=Wn(n,s,i)}}))}stores(e){const t=this.db;this._cfg.storesSource=this._cfg.storesSource?z(this._cfg.storesSource,e):e;const n=t._versions,i={};let s={};return n.forEach((e=>{z(i,e._cfg.storesSource),s=e._cfg.dbschema={},e._parseStoresSpec(i,s)})),t._dbSchema=s,Gn(t,[t._allTables,t,t.Transaction.prototype]),Qn(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],K(s),s),t._storeNames=K(s),this}upgrade(e){return this._cfg.contentUpgrade=Qe(this._cfg.contentUpgrade||We,e),this}}function ai(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new Oi("__dbnames",{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function li(e){return e&&"function"==typeof e.databases}function ui(e){return Ft((function(){return mt.letThrough=!0,e()}))}function ci(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()})).finally((function(){return clearInterval(e)})):Promise.resolve()}function di(e){var t=t=>e.next(t),n=s(t),i=s((t=>e.throw(t)));function s(e){return t=>{var s=e(t),o=s.value;return s.done?o:o&&"function"==typeof o.then?o.then(n,i):U(o)?Promise.all(o).then(n,i):n(o)}}return s(t)()}function hi(e,t,n){var i=arguments.length;if(i<2)throw new He.InvalidArgument("Too few arguments");for(var s=new Array(i-1);--i;)s[i-1]=arguments[i];n=s.pop();var o=he(s);return[e,o,n]}function pi(e,t,n,i,s){return _t.resolve().then((()=>{const o=mt.transless||mt,r=e._createTransaction(t,n,e._dbSchema,i),a={trans:r,transless:o};if(i)r.idbtrans=i.idbtrans;else try{r.create(),e._state.PR1398_maxLoop=3}catch(i){return i.name===je.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((()=>pi(e,t,n,null,s)))):en(i)}const l=Ee(s);let u;l&&qt();const c=_t.follow((()=>{if(u=s.call(r,r),u)if(l){var e=Wt.bind(null,null);u.then(e,e)}else"function"==typeof u.next&&"function"==typeof u.throw&&(u=di(u))}),a);return(u&&"function"==typeof u.then?_t.resolve(u).then((e=>r.active?e:en(new He.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn")))):c.then((()=>u))).then((e=>(i&&r._resolve(),r._completion.then((()=>e))))).catch((e=>(r._reject(e),en(e))))}))}function fi(e,t,n){const i=U(e)?e.slice():[e];for(let e=0;e<n;++e)i.push(t);return i}const mi={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const n=e.table(t),{schema:i}=n,s={},o=[];function r(e,t,n){const i=Vn(e),a=s[i]=s[i]||[],l=null==e?0:"string"==typeof e?1:e.length,u=t>0,c={...n,isVirtual:u,keyTail:t,keyLength:l,extractKey:Un(e),unique:!u&&n.unique};return a.push(c),c.isPrimaryKey||o.push(c),l>1&&r(2===l?e[0]:e.slice(0,l-1),t+1,n),a.sort(((e,t)=>e.keyTail-t.keyTail)),c}const a=r(i.primaryKey.keyPath,0,i.primaryKey);s[":id"]=[a];for(const e of i.indexes)r(e.keyPath,0,e);function l(t){const n=t.query.index;return n.isVirtual?{...t,query:{index:n,range:(i=t.query.range,s=n.keyTail,{type:1===i.type?2:i.type,lower:fi(i.lower,i.lowerOpen?e.MAX_KEY:e.MIN_KEY,s),lowerOpen:!0,upper:fi(i.upper,i.upperOpen?e.MIN_KEY:e.MAX_KEY,s),upperOpen:!0})}}:t;var i,s}const u={...n,schema:{...i,primaryKey:a,indexes:o,getIndexByKeyPath:function(e){const t=s[Vn(e)];return t&&t[0]}},count:e=>n.count(l(e)),query:e=>n.query(l(e)),openCursor(t){const{keyTail:i,isVirtual:s,keyLength:o}=t.query.index;return s?n.openCursor(l(t)).then((n=>n&&function(n){const s=Object.create(n,{continue:{value:function(s){null!=s?n.continue(fi(s,t.reverse?e.MAX_KEY:e.MIN_KEY,i)):t.unique?n.continue(n.key.slice(0,o).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,i)):n.continue()}},continuePrimaryKey:{value(t,s){n.continuePrimaryKey(fi(t,e.MAX_KEY,i),s)}},primaryKey:{get:()=>n.primaryKey},key:{get(){const e=n.key;return 1===o?e[0]:e.slice(0,o)}},value:{get:()=>n.value}});return s}(n))):n.openCursor(t)}};return u}}}};function vi(e,t,n,i){return n=n||{},i=i||"",K(e).forEach((s=>{if(X(t,s)){var o=e[s],r=t[s];if("object"==typeof o&&"object"==typeof r&&o&&r){const e=_e(o);e!==_e(r)?n[i+s]=t[s]:"Object"===e?vi(o,r,n,i+s+"."):o!==r&&(n[i+s]=t[s])}else o!==r&&(n[i+s]=t[s])}else n[i+s]=void 0})),K(t).forEach((s=>{X(e,s)||(n[i+s]=t[s])})),n}const gi={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const n=e.table(t),{primaryKey:i}=n.schema,s={...n,mutate(e){const s=mt.trans,{deleting:o,creating:r,updating:a}=s.table(t).hook;switch(e.type){case"add":if(r.fire===We)break;return s._promise("readwrite",(()=>l(e)),!0);case"put":if(r.fire===We&&a.fire===We)break;return s._promise("readwrite",(()=>l(e)),!0);case"delete":if(o.fire===We)break;return s._promise("readwrite",(()=>l(e)),!0);case"deleteRange":if(o.fire===We)break;return s._promise("readwrite",(()=>function(e){return u(e.trans,e.range,1e4)}(e)),!0)}return n.mutate(e);function l(e){const t=mt.trans,s=e.keys||function(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}(i,e);if(!s)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?{...e,keys:s}:{...e}).type&&(e.values=[...e.values]),e.keys&&(e.keys=[...e.keys]),function(e,t,n){return"add"===t.type?Promise.resolve([]):e.getMany({trans:t.trans,keys:n,cache:"immutable"})}(n,e,s).then((l=>{const u=s.map(((n,s)=>{const u=l[s],c={onerror:null,onsuccess:null};if("delete"===e.type)o.fire.call(c,n,u,t);else if("add"===e.type||void 0===u){const o=r.fire.call(c,n,e.values[s],t);null==n&&null!=o&&(n=o,e.keys[s]=n,i.outbound||ue(e.values[s],i.keyPath,n))}else{const i=vi(u,e.values[s]),o=a.fire.call(c,i,n,u,t);if(o){const t=e.values[s];Object.keys(o).forEach((e=>{X(t,e)?t[e]=o[e]:ue(t,e,o[e])}))}}return c}));return n.mutate(e).then((({failures:t,results:n,numFailures:i,lastResult:o})=>{for(let i=0;i<s.length;++i){const o=n?n[i]:s[i],r=u[i];null==o?r.onerror&&r.onerror(t[i]):r.onsuccess&&r.onsuccess("put"===e.type&&l[i]?e.values[i]:o)}return{failures:t,results:n,numFailures:i,lastResult:o}})).catch((e=>(u.forEach((t=>t.onerror&&t.onerror(e))),Promise.reject(e))))}))}function u(e,t,s){return n.query({trans:e,values:!1,query:{index:i,range:t},limit:s}).then((({result:n})=>l({type:"delete",keys:n,trans:e}).then((i=>i.numFailures>0?Promise.reject(i.failures[0]):n.length<s?{failures:[],numFailures:0,lastResult:void 0}:u(e,{...t,lower:n[n.length-1],lowerOpen:!0},s)))))}}};return s}})};function yi(e,t,n){try{if(!t)return null;if(t.keys.length<e.length)return null;const i=[];for(let s=0,o=0;s<t.keys.length&&o<e.length;++s)0===Cn(t.keys[s],e[o])&&(i.push(n?ve(t.values[s]):t.values[s]),++o);return i.length===e.length?i:null}catch(e){return null}}const _i={stack:"dbcore",level:-1,create:e=>({table:t=>{const n=e.table(t);return{...n,getMany:e=>{if(!e.cache)return n.getMany(e);const t=yi(e.keys,e.trans._cache,"clone"===e.cache);return t?_t.resolve(t):n.getMany(e).then((t=>(e.trans._cache={keys:e.keys,values:"clone"===e.cache?ve(t):t},t)))},mutate:e=>("add"!==e.type&&(e.trans._cache=null),n.mutate(e))}}})};function bi(e){return!("from"in e)}const wi=function(e,t){if(!this){const t=new wi;return e&&"d"in e&&z(t,e),t}z(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function ki(e,t,n){const i=Cn(t,n);if(isNaN(i))return;if(i>0)throw RangeError();if(bi(e))return z(e,{from:t,to:n,d:1});const s=e.l,o=e.r;if(Cn(n,e.from)<0)return s?ki(s,t,n):e.l={from:t,to:n,d:1,l:null,r:null},xi(e);if(Cn(t,e.to)>0)return o?ki(o,t,n):e.r={from:t,to:n,d:1,l:null,r:null},xi(e);Cn(t,e.from)<0&&(e.from=t,e.l=null,e.d=o?o.d+1:1),Cn(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);const r=!e.r;s&&!e.l&&Ci(e,s),o&&r&&Ci(e,o)}function Ci(e,t){bi(t)||function e(t,{from:n,to:i,l:s,r:o}){ki(t,n,i),s&&e(t,s),o&&e(t,o)}(e,t)}function Ei(e){let t=bi(e)?null:{s:0,n:e};return{next(e){const n=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&Cn(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||Cn(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function xi(e){var t,n;const i=((null===(t=e.r)||void 0===t?void 0:t.d)||0)-((null===(n=e.l)||void 0===n?void 0:n.d)||0),s=i>1?"r":i<-1?"l":"";if(s){const t="r"===s?"l":"r",n={...e},i=e[s];e.from=i.from,e.to=i.to,e[s]=i[s],n[s]=i[t],e[t]=n,n.d=Si(n)}e.d=Si(e)}function Si({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}Y(wi.prototype,{add(e){return Ci(this,e),this},addKey(e){return ki(this,e,e),this},addKeys(e){return e.forEach((e=>ki(this,e,e))),this},[be](){return Ei(this)}});const Mi={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,n=new wi(e.MIN_KEY,e.MAX_KEY);return{...e,table:i=>{const s=e.table(i),{schema:o}=s,{primaryKey:r}=o,{extractKey:a,outbound:l}=r,u={...s,mutate:e=>{const r=e.trans,a=r.mutatedParts||(r.mutatedParts={}),l=e=>{const n=`idb://${t}/${i}/${e}`;return a[n]||(a[n]=new wi)},u=l(""),c=l(":dels"),{type:d}=e;let[h,p]="deleteRange"===e.type?[e.range]:"delete"===e.type?[e.keys]:e.values.length<50?[[],e.values]:[];const f=e.trans._cache;return s.mutate(e).then((e=>{if(U(h)){"delete"!==d&&(h=e.results),u.addKeys(h);const t=yi(h,f);t||"add"===d||c.addKeys(h),(t||p)&&function(e,t,n,i){t.indexes.forEach((function(t){const s=e(t.name||"");function o(e){return null!=e?t.extractKey(e):null}const r=e=>t.multiEntry&&U(e)?e.forEach((e=>s.addKey(e))):s.addKey(e);(n||i).forEach(((e,t)=>{const s=n&&o(n[t]),a=i&&o(i[t]);0!==Cn(s,a)&&(null!=s&&r(s),null!=a&&r(a))}))}))}(l,o,t,p)}else if(h){const e={from:h.lower,to:h.upper};c.add(e),u.add(e)}else u.add(n),c.add(n),o.indexes.forEach((e=>l(e.name).add(n)));return e}))}},c=({query:{index:t,range:n}})=>{var i,s;return[t,new wi(null!==(i=n.lower)&&void 0!==i?i:e.MIN_KEY,null!==(s=n.upper)&&void 0!==s?s:e.MAX_KEY)]},d={get:e=>[r,new wi(e.key)],getMany:e=>[r,(new wi).addKeys(e.keys)],count:c,query:c,openCursor:c};return K(d).forEach((e=>{u[e]=function(o){const{subscr:r}=mt;if(r){const u=e=>{const n=`idb://${t}/${i}/${e}`;return r[n]||(r[n]=new wi)},c=u(""),h=u(":dels"),[p,f]=d[e](o);if(u(p.name||"").add(f),!p.isPrimaryKey){if("count"!==e){const t="query"===e&&l&&o.values&&s.query({...o,values:!1});return s[e].apply(this,arguments).then((n=>{if("query"===e){if(l&&o.values)return t.then((({result:e})=>(c.addKeys(e),n)));const e=o.values?n.result.map(a):n.result;o.values?c.addKeys(e):h.addKeys(e)}else if("openCursor"===e){const e=n,t=o.values;return e&&Object.create(e,{key:{get:()=>(h.addKey(e.primaryKey),e.key)},primaryKey:{get(){const t=e.primaryKey;return h.addKey(t),t}},value:{get:()=>(t&&c.addKey(e.primaryKey),e.value)}})}return n}))}h.add(n)}}return s[e].apply(this,arguments)}})),u}}}};class Oi{constructor(e,t){this._middlewares={},this.verno=0;const n=Oi.dependencies;this._options=t={addons:Oi.addons,autoOpen:!0,indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange,...t},this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange};const{addons:i}=t;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const s={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:We,dbReadyPromise:null,cancelOpen:We,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var o;s.dbReadyPromise=new _t((e=>{s.dbReadyResolve=e})),s.openCanceller=new _t(((e,t)=>{s.cancelOpen=t})),this._state=s,this.name=e,this.on=fn(this,"populate","blocked","versionchange","close",{ready:[Qe,We]}),this.on.ready.subscribe=se(this.on.ready.subscribe,(e=>(t,n)=>{Oi.vip((()=>{const i=this._state;if(i.openComplete)i.dbOpenError||_t.resolve().then(t),n&&e(t);else if(i.onReadyBeingFired)i.onReadyBeingFired.push(t),n&&e(t);else{e(t);const i=this;n||e((function e(){i.on.ready.unsubscribe(t),i.on.ready.unsubscribe(e)}))}}))})),this.Collection=(o=this,mn(Sn.prototype,(function(e,t){this.db=o;let n=dn,i=null;if(t)try{n=t()}catch(e){i=e}const s=e._ctx,r=s.table,a=r.hook.reading.fire;this._ctx={table:r,index:s.index,isPrimKey:!s.index||r.schema.primKey.keyPath&&s.index===r.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:i,or:s.or,valueMapper:a!==Ke?a:null}}))),this.Table=function(e){return mn(pn.prototype,(function(t,n,i){this.db=e,this._tx=i,this.name=t,this.schema=n,this.hook=e._allTables[t]?e._allTables[t].hook:fn(null,{creating:[Je,We],reading:[Ue,Ke],updating:[Xe,We],deleting:[Ve,We]})}))}(this),this.Transaction=function(e){return mn(Hn.prototype,(function(t,n,i,s,o){this.db=e,this.mode=t,this.storeNames=n,this.schema=i,this.chromeTransactionDurability=s,this.idbtrans=null,this.on=fn(this,"complete","error","abort"),this.parent=o||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new _t(((e,t)=>{this._resolve=e,this._reject=t})),this._completion.then((()=>{this.active=!1,this.on.complete.fire()}),(e=>{var t=this.active;return this.active=!1,this.on.error.fire(e),this.parent?this.parent._reject(e):t&&this.idbtrans&&this.idbtrans.abort(),en(e)}))}))}(this),this.Version=function(e){return mn(ri.prototype,(function(t){this.db=e,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(e){return mn(Rn.prototype,(function(t,n,i){this.db=e,this._ctx={table:t,index:":id"===n?null:n,or:i};const s=e._deps.indexedDB;if(!s)throw new He.MissingAPI;this._cmp=this._ascending=s.cmp.bind(s),this._descending=(e,t)=>s.cmp(t,e),this._max=(e,t)=>s.cmp(e,t)>0?e:t,this._min=(e,t)=>s.cmp(e,t)<0?e:t,this._IDBKeyRange=e._deps.IDBKeyRange}))}(this),this.on("versionchange",(e=>{e.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()})),this.on("blocked",(e=>{!e.newVersion||e.newVersion<e.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${e.oldVersion/10}`)})),this._maxKey=Kn(t.IDBKeyRange),this._createTransaction=(e,t,n,i)=>new this.Transaction(e,t,n,this._options.chromeTransactionDurability,i),this._fireOnBlocked=e=>{this.on("blocked").fire(e),on.filter((e=>e.name===this.name&&e!==this&&!e._state.vcFired)).map((t=>t.on("versionchange").fire(e)))},this.use(mi),this.use(gi),this.use(Mi),this.use(_i),this.vip=Object.create(this,{_vip:{value:!0}}),i.forEach((e=>e(this)))}version(e){if(isNaN(e)||e<.1)throw new He.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new He.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const t=this._versions;var n=t.filter((t=>t._cfg.version===e))[0];return n||(n=new this.Version(e),t.push(n),t.sort(Zn),n.stores({}),this._state.autoSchema=!1,n)}_whenReady(e){return this.idbdb&&(this._state.openComplete||mt.letThrough||this._vip)?e():new _t(((e,t)=>{if(this._state.openComplete)return t(new He.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void t(new He.DatabaseClosed);this.open().catch(We)}this._state.dbReadyPromise.then(e,t)})).then(e)}use({stack:e,create:t,level:n,name:i}){i&&this.unuse({stack:e,name:i});const s=this._middlewares[e]||(this._middlewares[e]=[]);return s.push({stack:e,create:t,level:null==n?10:n,name:i}),s.sort(((e,t)=>e.level-t.level)),this}unuse({stack:e,name:t,create:n}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter((e=>n?e.create!==n:!!t&&e.name!==t))),this}open(){return function(e){const t=e._state,{indexedDB:n}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then((()=>t.dbOpenError?en(t.dbOpenError):e));xe&&(t.openCanceller._stackHolder=Te()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const i=t.openCanceller;function s(){if(t.openCanceller!==i)throw new He.DatabaseClosed("db.open() was cancelled")}let o=t.dbReadyResolve,r=null,a=!1;return _t.race([i,("undefined"==typeof navigator?_t.resolve():ci()).then((()=>new _t(((i,o)=>{if(s(),!n)throw new He.MissingAPI;const l=e.name,u=t.autoSchema?n.open(l):n.open(l,Math.round(10*e.verno));if(!u)throw new He.MissingAPI;u.onerror=Pn(o),u.onblocked=At(e._fireOnBlocked),u.onupgradeneeded=At((i=>{if(r=u.transaction,t.autoSchema&&!e._options.allowEmptyDB){u.onerror=jn,r.abort(),u.result.close();const e=n.deleteDatabase(l);e.onsuccess=e.onerror=At((()=>{o(new He.NoSuchDatabase(`Database ${l} doesnt exist`))}))}else{r.onerror=Pn(o);var s=i.oldVersion>Math.pow(2,62)?0:i.oldVersion;a=s<1,e._novip.idbdb=u.result,ei(e,s/10,r,o)}}),o),u.onsuccess=At((()=>{r=null;const n=e._novip.idbdb=u.result,s=ie(n.objectStoreNames);if(s.length>0)try{const i=n.transaction(1===(o=s).length?o[0]:o,"readonly");t.autoSchema?function({_novip:e},t,n){e.verno=t.version/10;const i=e._dbSchema=si(0,t,n);e._storeNames=ie(t.objectStoreNames,0),Qn(e,[e._allTables],K(i),i)}(e,n,i):(oi(e,e._dbSchema,i),function(e,t){const n=ti(si(0,e.idbdb,t),e._dbSchema);return!(n.add.length||n.change.some((e=>e.add.length||e.change.length)))}(e,i)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Yn(e,i)}catch(e){}var o;on.push(e),n.onversionchange=At((n=>{t.vcFired=!0,e.on("versionchange").fire(n)})),n.onclose=At((t=>{e.on("close").fire(t)})),a&&function({indexedDB:e,IDBKeyRange:t},n){!li(e)&&"__dbnames"!==n&&ai(e,t).put({name:n}).catch(We)}(e._deps,l),i()}),o)}))))]).then((()=>(s(),t.onReadyBeingFired=[],_t.resolve(ui((()=>e.on.ready.fire(e.vip)))).then((function n(){if(t.onReadyBeingFired.length>0){let i=t.onReadyBeingFired.reduce(Qe,We);return t.onReadyBeingFired=[],_t.resolve(ui((()=>i(e.vip)))).then(n)}}))))).finally((()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1})).then((()=>e)).catch((n=>{t.dbOpenError=n;try{r&&r.abort()}catch(e){}return i===t.openCanceller&&e._close(),en(n)})).finally((()=>{t.openComplete=!0,o()}))}(this)}_close(){const e=this._state,t=on.indexOf(this);if(t>=0&&on.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(e){}this._novip.idbdb=null}e.dbReadyPromise=new _t((t=>{e.dbReadyResolve=t})),e.openCanceller=new _t(((t,n)=>{e.cancelOpen=n}))}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new He.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,t=this._state;return new _t(((n,i)=>{const s=()=>{this.close();var e=this._deps.indexedDB.deleteDatabase(this.name);e.onsuccess=At((()=>{!function({indexedDB:e,IDBKeyRange:t},n){!li(e)&&"__dbnames"!==n&&ai(e,t).delete(n).catch(We)}(this._deps,this.name),n()})),e.onerror=Pn(i),e.onblocked=this._fireOnBlocked};if(e)throw new He.InvalidArgument("Arguments not allowed in db.delete()");t.isBeingOpened?t.dbReadyPromise.then(s):s()}))}backendDB(){return this.idbdb}isOpen(){return null!==this.idbdb}hasBeenClosed(){const e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name}hasFailed(){return null!==this._state.dbOpenError}dynamicallyOpened(){return this._state.autoSchema}get tables(){return K(this._allTables).map((e=>this._allTables[e]))}transaction(){const e=hi.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,t,n){let i=mt.trans;i&&i.db===this&&-1===e.indexOf("!")||(i=null);const s=-1!==e.indexOf("?");let o,r;e=e.replace("!","").replace("?","");try{if(r=t.map((e=>{var t=e instanceof this.Table?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t})),"r"==e||"readonly"===e)o="readonly";else{if("rw"!=e&&"readwrite"!=e)throw new He.InvalidArgument("Invalid transaction mode: "+e);o="readwrite"}if(i){if("readonly"===i.mode&&"readwrite"===o){if(!s)throw new He.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&r.forEach((e=>{if(i&&-1===i.storeNames.indexOf(e)){if(!s)throw new He.SubTransaction("Table "+e+" not included in parent transaction.");i=null}})),s&&i&&!i.active&&(i=null)}}catch(e){return i?i._promise(null,((t,n)=>{n(e)})):en(e)}const a=pi.bind(null,this,o,r,i,n);return i?i._promise(o,a,"lock"):mt.trans?Xt(mt.transless,(()=>this._whenReady(a))):this._whenReady(a)}table(e){if(!X(this._allTables,e))throw new He.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]}}const Ti="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable";class Li{constructor(e){this._subscribe=e}subscribe(e,t,n){return this._subscribe(e&&"function"!=typeof e?e:{next:e,error:t,complete:n})}[Ti](){return this}}function Di(e,t){return K(t).forEach((n=>{Ci(e[n]||(e[n]=new wi),t[n])})),e}let $i;try{$i={indexedDB:W.indexedDB||W.mozIndexedDB||W.webkitIndexedDB||W.msIndexedDB,IDBKeyRange:W.IDBKeyRange||W.webkitIDBKeyRange}}catch(W){$i={indexedDB:null,IDBKeyRange:null}}const Bi=Oi;function Ai(e){let t=Ii;try{Ii=!0,Nn.storagemutated.fire(e)}finally{Ii=t}}Y(Bi,{...qe,delete:e=>new Bi(e,{addons:[]}).delete(),exists:e=>new Bi(e,{addons:[]}).open().then((e=>(e.close(),!0))).catch("NoSuchDatabaseError",(()=>!1)),getDatabaseNames(e){try{return function({indexedDB:e,IDBKeyRange:t}){return li(e)?Promise.resolve(e.databases()).then((e=>e.map((e=>e.name)).filter((e=>"__dbnames"!==e)))):ai(e,t).toCollection().primaryKeys()}(Bi.dependencies).then(e)}catch(e){return en(new He.MissingAPI)}},defineClass:()=>function(e){z(this,e)},ignoreTransaction:e=>mt.trans?Xt(mt.transless,e):e(),vip:ui,async:function(e){return function(){try{var t=di(e.apply(this,arguments));return t&&"function"==typeof t.then?t:_t.resolve(t)}catch(e){return en(e)}}},spawn:function(e,t,n){try{var i=di(e.apply(n,t||[]));return i&&"function"==typeof i.then?i:_t.resolve(i)}catch(e){return en(e)}},currentTransaction:{get:()=>mt.trans||null},waitFor:function(e,t){const n=_t.resolve("function"==typeof e?Bi.ignoreTransaction(e):e).timeout(t||6e4);return mt.trans?mt.trans.waitFor(n):n},Promise:_t,debug:{get:()=>xe,set:e=>{Se(e,"dexie"===e?()=>!0:un)}},derive:Z,extend:z,props:Y,override:se,Events:fn,on:Nn,liveQuery:function(e){return new Li((t=>{const n=Ee(e);let i=!1,s={},o={};const r={get closed(){return i},unsubscribe:()=>{i=!0,Nn.storagemutated.unsubscribe(c)}};t.start&&t.start(r);let a=!1,l=!1;function u(){return K(o).some((e=>s[e]&&function(e,t){const n=Ei(t);let i=n.next();if(i.done)return!1;let s=i.value;const o=Ei(e);let r=o.next(s.from),a=r.value;for(;!i.done&&!r.done;){if(Cn(a.from,s.to)<=0&&Cn(a.to,s.from)>=0)return!0;Cn(s.from,a.from)<0?s=(i=n.next(a.from)).value:a=(r=o.next(s.from)).value}return!1}(s[e],o[e])))}const c=e=>{Di(s,e),u()&&d()},d=()=>{if(a||i)return;s={};const h={},p=function(t){n&&qt();const i=()=>Ft(e,{subscr:t,trans:null}),s=mt.trans?Xt(mt.transless,i):i();return n&&s.then(Wt,Wt),s}(h);l||(Nn("storagemutated",c),l=!0),a=!0,Promise.resolve(p).then((e=>{a=!1,i||(u()?d():(s={},o=h,t.next&&t.next(e)))}),(e=>{a=!1,t.error&&t.error(e),r.unsubscribe()}))};return d(),r}))},extendObservabilitySet:Di,getByKeyPath:le,setByKeyPath:ue,delByKeyPath:function(e,t){"string"==typeof t?ue(e,t,void 0):"length"in t&&[].map.call(t,(function(t){ue(e,t,void 0)}))},shallowClone:ce,deepClone:ve,getObjectDiff:vi,cmp:Cn,asap:re,minKey:-1/0,addons:[],connections:on,errnames:je,dependencies:$i,semVer:"3.2.2",version:"3.2.2".split(".").map((e=>parseInt(e))).reduce(((e,t,n)=>e+t/Math.pow(10,2*n)))}),Bi.maxKey=Kn(Bi.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(Nn("storagemutated",(e=>{if(!Ii){let t;rn?(t=document.createEvent("CustomEvent"),t.initCustomEvent("x-storagemutated-1",!0,!0,e)):t=new CustomEvent("x-storagemutated-1",{detail:e}),Ii=!0,dispatchEvent(t),Ii=!1}})),addEventListener("x-storagemutated-1",(({detail:e})=>{Ii||Ai(e)})));let Ii=!1;if("undefined"!=typeof BroadcastChannel){const e=new BroadcastChannel("x-storagemutated-1");Nn("storagemutated",(t=>{Ii||e.postMessage(t)})),e.onmessage=e=>{e.data&&Ai(e.data)}}else if("undefined"!=typeof self&&"undefined"!=typeof navigator){Nn("storagemutated",(e=>{try{Ii||("undefined"!=typeof localStorage&&localStorage.setItem("x-storagemutated-1",JSON.stringify({trig:Math.random(),changedParts:e})),"object"==typeof self.clients&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach((t=>t.postMessage({type:"x-storagemutated-1",changedParts:e}))))}catch(e){}})),"undefined"!=typeof addEventListener&&addEventListener("storage",(e=>{if("x-storagemutated-1"===e.key){const t=JSON.parse(e.newValue);t&&Ai(t.changedParts)}}));const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",(function({data:e}){e&&"x-storagemutated-1"===e.type&&Ai(e.changedParts)}))}_t.rejectionMapper=function(e,t){if(!e||e instanceof Ae||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Fe[e.name])return e;var n=new Fe[e.name](t||e.message,e);return"stack"in e&&G(n,"stack",{get:function(){return this.inner.stack}}),n},Se(xe,un);const Ri=new class extends Oi{constructor(){var e,t;super("LineUp App DB"),this.version(1).stores({datasets:"++uid,id,name,creationDate",sessions:"++uid,dataset,creationDate"}),this.datasets=null!==(e=this.datasets)&&void 0!==e?e:void 0,this.sessions=null!==(t=this.sessions)&&void 0!==t?t:void 0}};function Pi(e){for(const t of e)t.creationDate=t.creationDate instanceof Date?t.creationDate:new Date(t.creationDate);return e.sort(((e,t)=>t.creationDate.getTime()-e.creationDate.getTime()))}var ji=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};function Ni(t,n,i){const s=document.createElement("div");if(s.classList.add("carousel-item","card","sticky-action"),s.innerHTML=`<div class="card-image waves-effect waves-block waves-light sticky-action">\n    ${t.image?`<img class="activator" src="${t.image}" alt="No Preview Available">`:'<span class="material-icons grey-text local-image activator">photo</span>'}\n  </div>\n  <div class="card-content">\n    <span class="card-title activator grey-text text-darken-4"><span class="dd-title">${t.name}</span>\n      <i class="material-icons right">more_vert</i>\n    </span>\n  </div>\n  <div class="card-action">\n    <a href="#${t.id}">Select</a>\n  </div>\n  <div class="card-reveal">\n    <div class="card-desc">\n      <span class="card-title grey-text text-darken-4"><span class="dd-title">${t.name}</span>\n        <i class="material-icons right">close</i>\n      </span>\n      <div class="dd-desc">\n        ${t.description}\n      </div>\n      ${t.link?`<p><a href="${t.link}" target="_blank" rel="noopener">Kaggle Link</a></p>`:""}\n    </div>\n  </div>`,function(t,n){if(!t.sessions||0===t.sessions.length)return;const i=n.querySelector(".card-reveal");i.insertAdjacentHTML("beforeend",`\n  <div class="card-sessions">\n    <span class="card-title grey-text text-darken-4">Saved Sessions\n      <i class="material-icons right">close</i>\n    </span>\n    <ul class="collection">\n      ${t.sessions.map((e=>`<li class="collection-item">\n        <div>\n          ${e.name} <span class="grey-text lighten-2">(${function(e){const t=Date.now(),n=Math.floor((t-("number"==typeof e?e:e.getTime()))/1e3),i=h.find((e=>n<=e[0]));if(i){const e=i[1];return"string"==typeof e?e:e(n)}return"far far away"}(e.creationDate)})</span>\n          <a href="#${t.id}@${e.uid}" class="secondary-content" title="Open session"><i class="material-icons grey-text waves-effect waves-light">play_arrow</i></a>\n          <a href="#" class="secondary-content delete-session" data-uid="${e.uid}" title="Delete session"><i class="material-icons grey-text waves-effect waves-light">delete</i></a>\n        </div>\n      </li>`)).join("")}\n    </ul>\n  </div>`),i.querySelector(".card-sessions .card-title").onclick=()=>{i.classList.remove("sessions")},Array.from(i.querySelectorAll(".delete-session")).forEach((n=>{n.onclick=i=>ji(this,void 0,void 0,(function*(){i.preventDefault(),i.stopPropagation();const s=parseInt(n.dataset.uid,10),o=t.sessions.find((e=>e.uid===s));if(o)try{yield u(`to delete session "${o.name}" of dataset "${t.name}"`),yield function(e){return Ri.sessions.delete(e.uid)}(o),(0,e.toast)({html:`Session "${o.name}" of dataset "${t.name}" deleted`,displayLength:5e3}),n.closest("li").remove(),t.sessions.splice(t.sessions.indexOf(o),1)}catch(t){(0,e.toast)({html:`Error while deleting session: <pre>${t}</pre>`,displayLength:5e3})}}))}));const s=document.createElement("a");s.href="#",s.classList.add("activator"),s.innerHTML="Sessions",n.querySelector(".card-action").appendChild(s),s.onclick=e=>ji(this,void 0,void 0,(function*(){e.preventDefault(),i.classList.add("sessions")}))}(t,s),t.type===f)return s;s.querySelector(".card-image").innerHTML='<span class="material-icons grey-text local-image activator">computer</span>';const o=document.createElement("a");o.href="#",o.innerHTML="Edit",s.querySelector(".card-action").appendChild(o),o.onclick=e=>{e.preventDefault(),e.stopPropagation(),i(t)};const r=document.createElement("a");return r.href="#",r.innerHTML="Delete",s.querySelector(".card-action").appendChild(r),r.onclick=e=>{e.preventDefault(),e.stopPropagation(),n(t)},s}const Hi=[I,M,O,D,B,j,N,F,q],Fi=[y,k];function qi(e){if("function"==typeof e.build)return e;for(const t of Fi)if(e.type===t.type)return t.complete(e);if(e.type.startsWith(f)){const t=e.type.slice(f.length+1),n=Hi.find((e=>e.id===t));if(n)return Object.assign(e,{buildScript:n.buildScript,build:n.build,rawData:n.rawData})}return e}var Wi=function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function r(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((i=i.apply(e,t||[])).next())}))};function Ki(e,t){Array.from(document.querySelectorAll(e)).forEach(t)}const Ui=document.querySelector("main");function zi(n,i){return Ui.dataset.state="uploading",n.then((e=>(t.dataset=e,e.build(document.querySelector("div.lu-c"))))).then((e=>(t.lineup=e,function(e,...t){for(const n of t)e.addEventListener(n,(e=>e.stopPropagation()))}(document.querySelector("div.lu-c > main > main"),"mousemove","mouseout","mouseover"),new Promise((e=>setTimeout(e,500)))))).then((()=>{const e=document.querySelector(".lu-rule-button-chooser");if(e){e.classList.add("switch");const t=e.querySelector("input");t.insertAdjacentHTML("afterend",'<span class="lever"></span>'),t.insertAdjacentHTML("beforebegin","<span>Item</span>")}document.querySelector(".brand-logo").textContent=document.title=`LineUp ${t.dataset.name}`,Ki(".export-dataset, .save-session",(e=>{e.classList.remove("disabled")})),Ki(".edit-dataset, .delete-dataset",(e=>{e.style.display=t.dataset.type===f?"none":""}))})).then((()=>{let e;return i?(t.session=i,e=`#${t.dataset.id}@${i.uid}`,t.lineup.data.restore(i.dump)):(t.session=null,e=`#${t.dataset.id}`,t.dataset.dump&&t.lineup.data.restore(t.dataset.dump)),window.location.hash!==e&&window.location.assign(e),new Promise((e=>setTimeout(e,1e3)))})).then((()=>{Ui.dataset.state="ready"})).catch((t=>{console.error(t),Ui.dataset.state="initial",(0,e.toast)({html:`<pre>${t}</pre>`,displayLength:5e3})}))}function Ji(t){const n=document.querySelector(".carousel"),i=e.Carousel.getInstance(n);i&&i.destroy();const s=e.Carousel.init(n);if(null!=t)s.set(t);else if(n.dataset.focus){const e=parseInt(n.dataset.focus,10);delete n.dataset.focus,s.set(e)}}function Vi(){t.lineup&&(t.lineup.destroy(),t.lineup=null),t.dataset=null,t.session=null,document.querySelector(".brand-logo").textContent=document.title="LineUp",Ki(".export-dataset, .save-session",(e=>{e.classList.add("disabled")})),Ki(".edit-dataset, .delete-dataset",(e=>{e.style.display="none"})),Ui.dataset.state="initial",function(){const t=document.querySelector(".carousel");e.Carousel.getInstance(t)||Ji()}()}function Xi(n){return Wi(this,void 0,void 0,(function*(){try{yield u(`to delete dataset "${n.name}"`),yield function(e){return Ri.transaction("rw",Ri.datasets,Ri.sessions,(()=>Promise.all([Ri.sessions.where("dataset").equals(e.id).delete(),Ri.datasets.where("id").equals(e.id).delete()])))}(n),(0,e.toast)({html:`Dataset "${n.name}" deleted`,displayLength:5e3});const i=t.datasets.findIndex((e=>e.id===n.id));t.datasets.splice(i,1);const s=document.querySelector(`.card[data-id="${n.id}"]`);s&&(s.remove(),Ji(i%t.datasets.length)),t.dataset===n&&Vi()}catch(t){console.error(t),(0,e.toast)({html:`Error while deleting dataset: <pre>${t}</pre>`,displayLength:5e3})}}))}function Yi(n){return Wi(this,void 0,void 0,(function*(){try{const i=yield c(`Edit dataset "${n.name}"`,n.name,n.description);n.name=i.name,n.description=i.description,yield function(e){return Ri.datasets.update(e.uid,{name:e.name,description:e.description}).then((()=>e))}(n),Ki(`.card[data-id="${n.id}"] .dd-title`,(e=>e.innerHTML=n.name)),Ki(`.card[data-id="${n.id}"] .dd-desc`,(e=>e.innerHTML=n.description)),n===t.dataset&&(document.querySelector(".brand-logo").textContent=document.title=`LineUp ${n.name}`),(0,e.toast)({html:`Dataset "${n.name}" edited`,displayLength:5e3})}catch(t){console.error(t),(0,e.toast)({html:`Error while editing dataset: <pre>${t}</pre>`,displayLength:5e3})}}))}function Qi(e){const t=document.querySelector(".carousel"),n=Ni(e,Xi,Yi);n.dataset.id=e.id,t.appendChild(n)}function Gi(e){Vi();const n=function(e){for(const t of Fi)if(t.supports(e))return t.loadFile(e).then(qi);return Promise.reject(`unknown file type: ${e.name}`)}(e).then((e=>(t.datasets.push(e),Qi(e),Ji(),function(e){const t=Object.assign({},e);delete t.build,delete t.buildScript;const n=t.sessions;delete t.sessions;const i=Ri.datasets.add(t).then((t=>Object.assign(e,{uid:t})));if(!n||0===n.length)return i;const s=n.map((t=>{const n={dataset:e.id,creationDate:t.creationDate||new Date,name:t.name,dump:t.dump};return Ri.sessions.add(n).then((e=>Object.assign(n,{uid:e})))}));return Promise.all([i].concat(s)).then((e=>{const t=e[0];return t.sessions=e.slice(1),t}))}(e).then((()=>e)))));zi(n)}function Zi(){return Wi(this,void 0,void 0,(function*(){if(t.lineup&&t.dataset)try{const n=JSON.parse(JSON.stringify(t.lineup.dump())),i=yield c("Save Session as &hellip;","Auto Save"),s=yield function(e,t,n){const i={dataset:e.id,creationDate:new Date,name:t,dump:n};return Ri.sessions.add(i).then((e=>Object.assign(i,{uid:e})))}(t.dataset,i.name,n);(0,e.toast)({html:`Session "${s.name}" of dataset "${t.dataset.name}" saved`,displayLength:5e3}),t.dataset.sessions.unshift(s),t.session=s,window.location.replace(`#${t.dataset.id}@${s.uid}`),function(n){const i=document.querySelector(".carousel"),s=document.querySelector(`.card[data-id="${n.id}"]`),o=Ni(n,Xi,Yi);o.dataset.id=n.id,i.insertBefore(o,s),s.remove(),function(t){const n=document.querySelector(".carousel"),i=e.Carousel.getInstance(n);i&&i.destroy(),n.dataset.focus=t.toString()}(t.datasets.indexOf(n))}(t.dataset)}catch(t){(0,e.toast)({html:`Error while saving session: <pre>${t}</pre>`,displayLength:5e3})}}))}window.addEventListener("resize",(()=>{setTimeout((()=>{t.lineup&&t.lineup.update()}),100)}),{passive:!1}),function(){const e=document.querySelector("#downloadHelper"),s=(t,n,i)=>{const s=new Blob([t],{type:i});e.href=URL.createObjectURL(s),e.download=n,e.click()};document.querySelector("#downloadCSV").addEventListener("click",(e=>{var n;e.preventDefault(),e.stopPropagation(),Promise.resolve((n=t.lineup,n.data.exportTable(n.data.getRankings()[0],{}))).then((e=>{s(e,`${t.dataset.name}.csv`,"text/csv")}))})),document.querySelector("#downloadJSON").addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation(),function(e){const t=e.data,n=t.getRankings()[0],s=n.flatColumns.filter((e=>!(0,i.isSupportType)(e))),o=t.viewRawRows(n.getOrder());return Promise.resolve(o.map((e=>{const t={};return s.forEach((n=>{t[n.label]=n.getExportValue(e,"json")})),t})))}(t.lineup).then((e=>{s(JSON.stringify(e,null," "),`${t.dataset.name}.json`,"application/json")}))})),document.querySelector("#downloadDump").addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation(),Promise.resolve(function(e,t){const n=Object.assign({$schema:m},e);return e.type===f&&(n.type=`preloaded-${e.id}`,delete n.rawData),delete n.build,delete n.buildScript,delete n.id,n.sessions=n.sessions?n.sessions.map((e=>{const t=Object.assign({},e);return delete t.uid,delete t.dataset,t})):[],n.dump=t.dump(),n}(t.dataset,t.lineup)).then((e=>{s(JSON.stringify(e,null," "),`${t.dataset.name}.json`,"application/json")}))}));const o=document.querySelector("#createCodePen"),r=document.querySelector("#createCodePenHelper");o.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation();const i={title:document.title,description:t.dataset.description,html:`<script id="data" type="text/csv">${t.dataset.rawData}<\/script>\n\n<script id="dump" type="application/json">${JSON.stringify(t.lineup.dump(),null," ")}<\/script>`,css:n,css_pre_processor:"scss",css_starter:"normalize",js:t.dataset.buildScript("document.querySelector('#data').textContent","document.body","JSON.parse(document.querySelector('#dump').textContent)"),js_pre_processor:"babel",js_modernizr:!1,css_external:`https://unpkg.com/lineupjs@${LineUpJS.version}/build/LineUpJS.css`,js_external:`https://unpkg.com/lineupjs@${LineUpJS.version}/build/LineUpJS.js;https://unpkg.com/papaparse`},s=JSON.stringify(i).replace(/"/g,"&quot;").replace(/'/g,"&apos;");r.querySelector("input").value=s,r.submit()}));const a=document.querySelector("#createJSFiddle"),l=document.querySelector("#createJSFiddleHelper");a.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation();const i=(e,t)=>{l.querySelector(`[name="${e}"]`).value=t.toString()};i("title",document.title),i("description",t.dataset.description),i("html",`<script id="data" type="text/csv">${t.dataset.rawData}<\/script>\n\n<script id="dump" type="application/json">${JSON.stringify(t.lineup.dump(),null," ")}<\/script>`),i("css",n),i("js",t.dataset.buildScript("document.querySelector('#data').textContent","document.body","JSON.parse(document.querySelector('#dump').textContent)")),i("resources",`https://unpkg.com/lineupjs@${LineUpJS.version}/build/LineUpJS.css,https://unpkg.com/lineupjs@${LineUpJS.version}/build/LineUpJS.js,https://unpkg.com/papaparse`),l.submit()}));const u=document.querySelector("#createCodeSandbox"),c=document.querySelector("#createCodeSandboxHelper");u.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation();const i={files:{"index.html":{content:`<!DOCTYPE html>\n<html lang="en">\n<head>\n  <title>${document.title}</title>\n  <meta charset="utf-8">\n  <meta http-equiv="X-UA-Compatible" content="IE=edge">\n</head>\n<body>\n</body>\n</html>`},"data/raw_data.txt":{content:t.dataset.rawData},"data/dump.json":{content:JSON.stringify(t.lineup.dump(),null," ")},"main.css":{content:n},"index.js":{content:`\nimport * as LineUpJS from "lineupjs";\nimport "lineupjs/build/LineUpJS.css";\nimport * as Papa from "papaparse";\n\nimport "./main.css";\nimport * as exportDump from "./data/dump.json";\nimport * as exportData from "./data/raw_data.txt";\n\n// decode csv data url\nconst csv = atob(exportData.default.slice("data:text/plain;base64,".length));\n\n${t.dataset.buildScript("csv","document.body","exportDump")}`},"package.json":{content:{name:document.title,description:t.dataset.description,dependencies:{lineupjs:LineUpJS.version,papaparse:"^5.3.2"}}}}},s=E().compressToBase64(JSON.stringify(i)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"");c.querySelector("input").value=s,c.submit()}))}(),e.FloatingActionButton.init(document.querySelectorAll(".fixed-action-btn"),{direction:"left"}),e.Tooltip.init(document.querySelectorAll(".tooltipped")),document.querySelector(".version-info").innerHTML=`LineUp.js v${LineUpJS.version}`,document.querySelector(".save-session").onclick=e=>{e.preventDefault(),e.stopPropagation(),Zi()},document.querySelector(".edit-dataset").onclick=e=>{e.preventDefault(),e.stopPropagation(),t.dataset&&Yi(t.dataset)},document.querySelector(".delete-dataset").onclick=e=>{e.preventDefault(),e.stopPropagation(),t.dataset&&Xi(t.dataset)},Ki(".modal-close",(e=>e.onclick=e=>{e.preventDefault()})),Promise.all([Ri.datasets.toArray().then(Pi),Ri.sessions.toArray().then(Pi)]).then((([e,t])=>{const n=e.map(qi).filter((e=>null!=e)),i=Hi.concat(n);for(const e of i)e.sessions=t.filter((t=>t.dataset===e.id));return i})).then((e=>{t.datasets=e;{const e=document.querySelector("input[type=file]");e.addEventListener("change",(()=>{Gi(e.files[0])})),document.querySelector("#dropper a.btn").addEventListener("click",(t=>{t.preventDefault(),t.stopPropagation(),e.click()})),Ui.addEventListener("dragover",(e=>{e.preventDefault(),e.stopPropagation()})),Ui.addEventListener("drop",(e=>{1===e.dataTransfer.files.length&&(Gi(e.dataTransfer.files[0]),e.preventDefault())}))}for(const t of e)Qi(t);Ji();const n=(n=!0)=>{const i=window.location.hash.slice(1).split("@"),s=e.find((e=>e.id===i[0])),o=((e,t)=>{const n=t?parseInt(t,10):NaN;return t&&!isNaN(n)&&e&&e.sessions&&0!==e.sessions.length?e.sessions.find((e=>e.uid===n)):null})(s,i[1]);s!==t.dataset?(n&&Vi(),s&&zi(Promise.resolve(s),o)):o&&o!==t.session&&function(e){e&&t.lineup?(t.session=e,t.lineup.data.restore(e.dump),window.location.replace(`#${t.dataset.id}@${e.uid}`)):t.session=null}(o)};window.addEventListener("hashchange",(()=>n(!0))),n(!1)})),"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("./service-worker.js").then((e=>{console.log("SW registered: ",e)})).catch((e=>{console.warn("SW registration failed: ",e)}))}))})()})();
//# sourceMappingURL=app.js.map